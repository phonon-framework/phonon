"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}(function(){var e={function:!0,object:!0},O=e["undefined"==typeof window?"undefined":_typeof(window)]&&window||this,n=e["undefined"==typeof exports?"undefined":_typeof(exports)]&&exports,t=e["undefined"==typeof module?"undefined":_typeof(module)]&&module&&!module.nodeType&&module,o=n&&t&&"object"==("undefined"==typeof global?"undefined":_typeof(global))&&global;!o||o.global!==o&&o.window!==o&&o.self!==o||(O=o);var i=Math.pow(2,53)-1,N=/\bOpera/,a=Object.prototype,r=a.hasOwnProperty,j=a.toString;function s(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function I(e){return e=X(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:s(e)}function B(e,t){for(var n in e)r.call(e,n)&&t(e[n],n,e)}function W(e){return null==e?s(e):j.call(e).slice(8,-1)}function q(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function R(n,o){var a=null;return function(e,t){var n=-1,o=e?e.length:0;if("number"==typeof o&&-1<o&&o<=i)for(;++n<o;)t(e[n],n,e);else B(e,t)}(n,function(e,t){a=o(a,e,t,n)}),a}function X(e){return String(e).replace(/^ +| +$/g,"")}var l=function e(o){var t=O,n=o&&"object"==_typeof(o)&&"String"!=W(o);n&&(t=o,o=null);var a=t.navigator||{},i=a.userAgent||"";o=o||i;var r,s,l=n?!!a.likeChrome:/\bChrome\b/.test(o)&&!/internal|\n/i.test(j.toString()),c="Object",d=n?c:"ScriptBridgingProxyObject",u=n?c:"Environment",f=n&&t.java?"JavaPackage":W(t.java),p=n?c:"RuntimeObject",h=/\bJava/.test(f)&&t.java,g=h&&W(t.environment)==u,v=h?"a":"α",m=h?"b":"β",b=t.document||{},y=t.operamini||t.opera,w=N.test(w=n&&y?y["[[Class]]"]:W(y))?w:y=null,x=o,S=[],T=null,E=o==i,k=E&&y&&"function"==typeof y.version&&y.version(),C=R([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||q(t))+"\\b","i").exec(o)&&(t.label||t)}),P=R(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||q(t))+"\\b","i").exec(o)&&(t.label||t)}),L=_([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),M=R({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(e,t,n){return e||(t[L]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(L)]||RegExp("\\b"+q(n)+"(?:\\b|\\w*\\d)","i").exec(o))&&n}),A=R(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var n=t.pattern||q(t);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(o))&&(e=function(e,t,n){var o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(o=o[/[\d.]+$/.exec(e)])&&(e="Windows "+o),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=I(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,t.label||t)),e});function _(e){return R(e,function(e,t){var n=t.pattern||q(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(o)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(o)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(o))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=I(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(C=C&&[C],M&&!L&&(L=_([M])),(r=/\bGoogle TV\b/.exec(L))&&(L=r[0]),/\bSimulator\b/i.test(o)&&(L=(L?L+" ":"")+"Simulator"),"Opera Mini"==P&&/\bOPiOS\b/.test(o)&&S.push("running in Turbo/Uncompressed mode"),"IE"==P&&/\blike iPhone OS\b/.test(o)?(M=(r=e(o.replace(/like iPhone OS/,""))).manufacturer,L=r.product):/^iP/.test(L)?(P=P||"Safari",A="iOS"+((r=/ OS ([\d_]+)/i.exec(o))?" "+r[1].replace(/_/g,"."):"")):"Konqueror"!=P||/buntu/i.test(A)?M&&"Google"!=M&&(/Chrome/.test(P)&&!/\bMobile Safari\b/i.test(o)||/\bVita\b/.test(L))||/\bAndroid\b/.test(A)&&/^Chrome/.test(P)&&/\bVersion\//i.test(o)?(P="Android Browser",A=/\bAndroid\b/.test(A)?A:"Android"):"Silk"==P?(/\bMobi/i.test(o)||(A="Android",S.unshift("desktop mode")),/Accelerated *= *true/i.test(o)&&S.unshift("accelerated")):"PaleMoon"==P&&(r=/\bFirefox\/([\d.]+)\b/.exec(o))?S.push("identifying as Firefox "+r[1]):"Firefox"==P&&(r=/\b(Mobile|Tablet|TV)\b/i.exec(o))?(A=A||"Firefox OS",L=L||r[1]):!P||(r=!/\bMinefield\b/i.test(o)&&/\b(?:Firefox|Safari)\b/.exec(P))?(P&&!L&&/[\/,]|^[^(]+?\)/.test(o.slice(o.indexOf(r+"/")+8))&&(P=null),(r=L||M||A)&&(L||M||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(A))&&(P=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(A)?A:r)+" Browser")):"Electron"==P&&(r=(/\bChrome\/([\d.]+)\b/.exec(o)||0)[1])&&S.push("Chromium "+r):A="Kubuntu",k=k||R(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",q(P),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(o)||0)[1]||null}),(r=("iCab"==C&&3<parseFloat(k)?"WebKit":/\bOpera\b/.test(P)&&(/\bOPR\b/.test(o)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(o)&&!/^(?:Trident|EdgeHTML)$/.test(C)&&"WebKit"||!C&&/\bMSIE\b/i.test(o)&&("Mac OS"==A?"Tasman":"Trident")||"WebKit"==C&&/\bPlayStation\b(?! Vita\b)/i.test(P)&&"NetFront")&&(C=[r]),"IE"==P&&(r=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(o)||0)[1])?(P+=" Mobile",A="Windows Phone "+(/\+$/.test(r)?r:r+".x"),S.unshift("desktop mode")):/\bWPDesktop\b/i.test(o)?(P="IE Mobile",A="Windows Phone 8.x",S.unshift("desktop mode"),k=k||(/\brv:([\d.]+)/.exec(o)||0)[1]):"IE"!=P&&"Trident"==C&&(r=/\brv:([\d.]+)/.exec(o))&&(P&&S.push("identifying as "+P+(k?" "+k:"")),P="IE",k=r[1]),E){if(function(e,t){var n=null!=e?_typeof(e[t]):"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(t,"global"))if(h&&(x=(r=h.lang.System).getProperty("os.arch"),A=A||r.getProperty("os.name")+" "+r.getProperty("os.version")),g){try{k=t.require("ringo/engine").version.join("."),P="RingoJS"}catch(e){(r=t.system)&&r.global.system==t.system&&(P="Narwhal",A=A||r[0].os||null)}P=P||"Rhino"}else"object"==_typeof(t.process)&&!t.process.browser&&(r=t.process)&&("object"==_typeof(r.versions)&&("string"==typeof r.versions.electron?(S.push("Node "+r.versions.node),P="Electron",k=r.versions.electron):"string"==typeof r.versions.nw&&(S.push("Chromium "+k,"Node "+r.versions.node),P="NW.js",k=r.versions.nw)),P||(P="Node.js",x=r.arch,A=r.platform,k=(k=/[\d.]+/.exec(r.version))?k[0]:null));else W(r=t.runtime)==d?(P="Adobe AIR",A=r.flash.system.Capabilities.os):W(r=t.phantom)==p?(P="PhantomJS",k=(r=r.version||null)&&r.major+"."+r.minor+"."+r.patch):"number"==typeof b.documentMode&&(r=/\bTrident\/(\d+)/i.exec(o))?(k=[k,b.documentMode],(r=+r[1]+4)!=k[1]&&(S.push("IE "+k[1]+" mode"),C&&(C[1]=""),k[1]=r),k="IE"==P?String(k[1].toFixed(1)):k[0]):"number"==typeof b.documentMode&&/^(?:Chrome|Firefox)\b/.test(P)&&(S.push("masking as "+P+" "+k),P="IE",k="11.0",C=["Trident"],A="Windows");A=A&&I(A)}if(k&&(r=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(k)||/(?:alpha|beta)(?: ?\d)?/i.exec(o+";"+(E&&a.appMinorVersion))||/\bMinefield\b/i.test(o)&&"a")&&(T=/b/i.test(r)?"beta":"alpha",k=k.replace(RegExp(r+"\\+?$"),"")+("beta"==T?m:v)+(/\d+\+?/.exec(r)||"")),"Fennec"==P||"Firefox"==P&&/\b(?:Android|Firefox OS)\b/.test(A))P="Firefox Mobile";else if("Maxthon"==P&&k)k=k.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(L))"Xbox 360"==L&&(A=null),"Xbox 360"==L&&/\bIEMobile\b/.test(o)&&S.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(P)&&(!P||L||/Browser|Mobi/.test(P))||"Windows CE"!=A&&!/Mobi/i.test(o))if("IE"==P&&E)try{null===t.external&&S.unshift("platform preview")}catch(e){S.unshift("embedded")}else(/\bBlackBerry\b/.test(L)||/\bBB10\b/.test(o))&&(r=(RegExp(L.replace(/ +/g," *")+"/([.\\d]+)","i").exec(o)||0)[1]||k)?(A=((r=[r,/BB10/.test(o)])[1]?(L=null,M="BlackBerry"):"Device Software")+" "+r[0],k=null):this!=B&&"Wii"!=L&&(E&&y||/Opera/.test(P)&&/\b(?:MSIE|Firefox)\b/i.test(o)||"Firefox"==P&&/\bOS X (?:\d+\.){2,}/.test(A)||"IE"==P&&(A&&!/^Win/.test(A)&&5.5<k||/\bWindows XP\b/.test(A)&&8<k||8==k&&!/\bTrident\b/.test(o)))&&!N.test(r=e.call(B,o.replace(N,"")+";"))&&r.name&&(r="ing as "+r.name+((r=r.version)?" "+r:""),N.test(P)?(/\bIE\b/.test(r)&&"Mac OS"==A&&(A=null),r="identify"+r):(r="mask"+r,P=w?I(w.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(r)&&(A=null),E||(k=null)),C=["Presto"],S.push(r));else P+=" Mobile";(r=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(o)||0)[1])&&(r=[parseFloat(r.replace(/\.(\d)$/,".0$1")),r],"Safari"==P&&"+"==r[1].slice(-1)?(P="WebKit Nightly",T="alpha",k=r[1].slice(0,-1)):k!=r[1]&&k!=(r[2]=(/\bSafari\/([\d.]+\+?)/i.exec(o)||0)[1])||(k=null),r[1]=(/\bChrome\/([\d.]+)/i.exec(o)||0)[1],537.36==r[0]&&537.36==r[2]&&28<=parseFloat(r[1])&&"WebKit"==C&&(C=["Blink"]),r=E&&(l||r[1])?(C&&(C[1]="like Chrome"),r[1]||((r=r[0])<530?1:r<532?2:r<532.05?3:r<533?4:r<534.03?5:r<534.07?6:r<534.1?7:r<534.13?8:r<534.16?9:r<534.24?10:r<534.3?11:r<535.01?12:r<535.02?"13+":r<535.07?15:r<535.11?16:r<535.19?17:r<536.05?18:r<536.1?19:r<537.01?20:r<537.11?"21+":r<537.13?23:r<537.18?24:r<537.24?25:r<537.36?26:"Blink"!=C?"27":"28")):(C&&(C[1]="like Safari"),(r=r[0])<400?1:r<500?2:r<526?3:r<533?4:r<534?"4+":r<535?5:r<537?6:r<538?7:r<601?8:"8"),C&&(C[1]+=" "+(r+="number"==typeof r?".x":/[.+]/.test(r)?"":"+")),"Safari"==P&&(!k||45<parseInt(k))&&(k=r)),"Opera"==P&&(r=/\bzbov|zvav$/.exec(A))?(P+=" ",S.unshift("desktop mode"),"zvav"==r?(P+="Mini",k=null):P+="Mobile",A=A.replace(RegExp(" *"+r+"$"),"")):"Safari"==P&&/\bChrome\b/.exec(C&&C[1])&&(S.unshift("desktop mode"),P="Chrome Mobile",k=null,A=/\bOS X\b/.test(A)?(M="Apple","iOS 4.3+"):null),k&&0==k.indexOf(r=/[\d.]+$/.exec(A))&&-1<o.indexOf("/"+r+"-")&&(A=X(A.replace(r,""))),C&&!/\b(?:Avant|Nook)\b/.test(P)&&(/Browser|Lunascape|Maxthon/.test(P)||"Safari"!=P&&/^iOS/.test(A)&&/\bSafari\b/.test(C[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(P)&&C[1])&&(r=C[C.length-1])&&S.push(r),S.length&&(S=["("+S.join("; ")+")"]),M&&L&&L.indexOf(M)<0&&S.push("on "+M),L&&S.push((/^on /.test(S[S.length-1])?"":"on ")+L),A&&(r=/ ([\d.+]+)$/.exec(A),s=r&&"/"==A.charAt(A.length-r[0].length-1),A={architecture:32,family:r&&!s?A.replace(r[0],""):A,version:r?r[1]:null,toString:function(){var e=this.version;return this.family+(e&&!s?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(r=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(x))&&!/\bi686\b/i.test(x)?(A&&(A.architecture=64,A.family=A.family.replace(RegExp(" *"+r),"")),P&&(/\bWOW64\b/i.test(o)||E&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(o))&&S.unshift("32-bit")):A&&/^OS X/.test(A.family)&&"Chrome"==P&&39<=parseFloat(k)&&(A.architecture=64),o=o||null;var D={};return D.description=o,D.layout=C&&C[0],D.manufacturer=M,D.name=P,D.prerelease=T,D.product=L,D.ua=o,D.version=P&&k,D.os=A||{architecture:null,family:null,version:null,toString:function(){return"null"}},D.parse=e,D.toString=function(){return this.description||""},D.version&&S.unshift(k),D.name&&S.unshift(P),A&&P&&(A!=String(A).split(" ")[0]||A!=P.split(" ")[0]&&!L)&&S.push(L?"("+A+")":"on "+A),S.length&&(D.description=S.join(" ")),D}();"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd?(O.platform=l,define(function(){return l})):n&&t?B(l,function(e,t){n[t]=e}):O.platform=l}).call(void 0),function(g,v){var e,t,m={},n=[];function o(e,t){t=t||{bubbles:!1,cancelable:!1,detail:v};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}m.onReady=function(e){n.push(e)},m.dispatchGlobalReady=function(){for(var e=n.length-1;0<=e;e--)n[e]();n=[],m.dispatchGlobalReady=v},o.prototype=g.Event.prototype,g.CustomEvent=o,m.device={osVersion:(e=g.platform).os.version,os:e.os.family,platform:e,ANDROID:"Android",IOS:"iOS"},m.browser={name:(t=g.platform).name,version:t.version,platform:t},m.ajax=function(e){var t=e.method,n=e.url,o="boolean"==typeof e.crossDomain&&e.crossDomain,a=e.contentType,i=e.dataType,r=e.data,s=e.timeout,l=e.success,c=e.error,d=e.headers;if("string"!=typeof t)throw new TypeError("method must be a string");if("string"!=typeof n)throw new TypeError("url must be a string");void 0===e.contentType&&(e.contentType="application/x-www-form-urlencoded; charset=UTF-8");var u=function(e){var t=null;try{"withCredentials"in(t=new XMLHttpRequest)&&e&&(t.withCredentials=!0)}catch(e){console.error(e)}return t}(o),f="NO_INTERNET_ACCESS";if("string"==typeof t&&"get"===t.toLowerCase().trim()&&null!==r&&"object"===_typeof(r)&&(n+=function(e){var t,n="?";for(t in e)n+="".concat(t,"=").concat(e[t],"&");var o=n.lastIndexOf("&");return-1!==o&&(n=n.substring(0,o)),n}(r)),"object"===_typeof(r)&&null!==r&&(r=JSON.stringify(r)),u){var p;if(u.open(t,n,!0),"string"==typeof a&&u.setRequestHeader("Content-type",a),"xml"===i&&u.overrideMimeType&&u.overrideMimeType("application/xml; charset=utf-8"),"object"===_typeof(d))for(p in d)u.setRequestHeader(p,d[p]);u.onreadystatechange=function(e){if(4===u.readyState){var t=null;"json"===i?null===(t=function(e){var t=null;try{t=JSON.parse(e)}catch(e){t=null}return t}(u.responseText))&&(f="JSON_MALFORMED"):t="xml"===i?u.responseXML:u.responseText,"2"===u.status.toString()[0]&&"function"==typeof l?l(t,u):"function"==typeof c&&g.setTimeout(function(){c(t,f,u)},1),u=null}},"number"==typeof s&&(u.timeout=s,u.ontimeout=function(){f="TIMEOUT_EXCEEDED"}),u.send(r)}else"function"==typeof c&&c(f="XMLHTTPREQUEST_UNAVAILABLE");return{cancel:function(){f="REQUEST_CANCELED",u&&u.abort()}}},m.event=function(n){var e=["mousedown","mousemove","mouseup"],t=!1;("ontouchstart"in g||g.DocumentTouch&&document instanceof DocumentTouch)&&(t=!0,e=["touchstart","touchmove","touchend","touchcancel"]),g.navigator.pointerEnabled?e=["pointerdown","pointermove","pointerup","pointercancel"]:g.navigator.msPointerEnabled&&(e=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var s={};s.hasTouch=t,s.start=e[0],s.move=e[1],s.end=e[2],s.cancel=void 0===e[3]?null:e[3],s.tap="tap",s.forceTap=!1;var o=document.createElement("div"),a=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],i=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],r=null,l=null,c=a.length-1;for(c in a)if(o.style[a[c].name]!==v){r=a[c].end;break}var d=i.length-1;for(d in i)if(o.style[i[d].name]!==v){l=i[d].end;break}var u=m.device.osVersion;u&&2<u.length&&(u=m.device.osVersion.substring(0,3)),m.device.os&&"android"===m.device.os.toLowerCase()&&"4.1"===u&&(r="webkitTransitionEnd",l="webkitAnimationEnd"),s.transitionEnd=r,s.animationEnd=l;var f=[],p=(h.prototype.start=function(e){this.el.addEventListener(s.move,this,!1),this.el.addEventListener(s.end,this,!1),this.moved=!1,this.startX=e.touches?e.touches[0].clientX:e.clientX,this.startY=e.touches?e.touches[0].clientY:e.clientY},h.prototype.move=function(e){var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;(10<Math.abs(t-this.startX)||10<Math.abs(n-this.startY))&&(this.moved=!0)},h.prototype.end=function(e){if(this.el.removeEventListener(s.move,this,!1),this.el.removeEventListener(s.end,this,!1),null!==s.cancel&&this.el.removeEventListener(s.cancel,this,!1),!this.moved){if(void 0!==n){var t=new g.CustomEvent(this.tap,{detail:{event:"tap",target:this.element},bubbles:!0,cancelable:!0});this.el.dispatchEvent(t)}this.callback(e)}},h.prototype.cancel=function(){this.moved=!1,this.startX=0,this.startY=0},h.prototype.off=function(){this.el.removeEventListener(s.start,this,!1),this.el.removeEventListener(s.move,this,!1),this.el.removeEventListener(s.end,this,!1),null!==s.cancel&&this.el.removeEventListener(s.cancel,this,!1)},h.prototype.handleEvent=function(e){switch(e.type){case s.start:this.start(e);break;case s.move:this.move(e);break;case s.end:this.end(e);break;case s.cancel:this.cancel(e)}},h);function h(e,t){this.el=e,this.callback=t,this.moved=!1,this.startX=0,this.startY=0,this.el.addEventListener(s.start,this,!1)}return m.on=function(e,t,n,o){function a(e,t,n,o){if(t!==s.tap||!s.hasTouch&&!s.forceTap)t===s.tap&&(t="click"),e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on".concat(t),n,o);else{var a=new p(e,n);f.push(a)}}if(void 0===e.length)a(e,t,n,o);else for(var i=0,r=e.length;i<r;i++)a(e[i],t,n,o)},g.on=document.on=NodeList.prototype.on=HTMLElement.prototype.on=function(e,t,n){m.on(this,e,t,n)},m.off=function(e,t,n,o){function a(e,t,n,o){if(t!==s.tap||!s.hasTouch&&!s.forceTap)t===s.tap&&(t="click"),e.removeEventListener?e.removeEventListener(t,n,o):e.attachEvent&&e.detachEvent("on".concat(t),n,o);else for(var a=0,i=f.length;a<i;a++)if(f[a].el===e){f[a].off(),f.splice(a,1);break}}if(void 0===e.length)a(e,t,n,o);else for(var i=0,r=e.length;i<r;i++)a(e[i],t,n,o)},g.off=document.off=NodeList.prototype.off=HTMLElement.prototype.off=function(e,t,n){m.off(this,e,t,n)},s}(g.jQuery),m.tagManager=function(){if("undefined"!=typeof riot){var r=[];return{addTag:function(e,t){e[0].tagName=t,r.push(e[0])},getAll:function(){return r},trigger:function(e,t,n){for(var o=[],a=r.length-1;0<=a;a--)if(r[a].tagName===e){o.push(t);var i=o.concat(n);r[a].trigger.apply(this,i);break}}}}}(),m.options=function(e){var t=!1;"object"===_typeof(e.i18n)&&null!==e.i18n&&(m.i18n(e.i18n),t=!0),e.navigator.useI18n=t,m.navigator(e.navigator)},m.alert=function(e,t,n,o){return m.dialog().alert(e,t,n,o)},m.confirm=function(e,t,n,o,a){return m.dialog().confirm(e,t,n,o,a)},m.prompt=function(e,t,n,o,a){return m.dialog().prompt(e,t,n,o,a)},m.passPrompt=function(e,t,n,o,a){return m.dialog().passPrompt(e,t,n,o,a)},m.indicator=function(e,t){return m.dialog().indicator(e,t)},m.updateLocale=function(e){var o="undefined"!=typeof riot;m.i18n().setPreference(e).getAll(function(e){if(o){for(var t=m.tagManager.getAll(),n=t.length-1;0<=n;n--)t[n].i18n=e;riot.update()}else m.i18n().bind()})},g.phonon=m,"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return g.phonon=m})}("undefined"!=typeof window?window:void 0),function(e,i){function r(e,t){for(var n,o,a,i,r,s,l,c,d=e.length-1;0<=d;d--)for(var u,f=e[d],p=f.getAttribute("data-i18n").trim(),h=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;u=h.exec(p);){var g=u[1].trim(),v=u[2].trim().replace(",","");if(void 0!==t[v])if("text"===g)l=f,c=t[v],"textContent"in l?l.textContent=c:l.innerText=c;else if("html"===g)r=f,s=t[v],r.innerHTML=s;else if("value"===g)a=f,i=t[v],a.value=i;else{if("placeholder"!==g)throw new Error("The property: ".concat(g," is unknown"));n=f,o=t[v],n.setAttribute("placeholder",o)}else console.error("The value: ".concat(v," does not exist in the JSON file"))}}var s=null,l=null,c={localeFallback:null,localePreferred:e.navigator.userLanguage||e.navigator.language,directory:"./",initCalled:!1,loadJson:!0},t={};function n(e){if(c.initCalled)throw new Error("The i18n module has already been instantiated");var t;for(t in"string"==typeof e.directory&&(e.directory=-1!==e.directory.indexOf("/",e.directory.length-"/".length)?e.directory:"".concat(e.directory,"/")),e)c[t]=e[t];l=c.localeFallback,void 0!==e.use&&(c.loadJson=!1),c.initCalled=!0}function d(t){if(!c.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof t)throw new Error("callback must be a function");var e=c.localePreferred?c.localePreferred:c.localeFallback;if(l=e,c.loadJson){if(null!==s)return void t(s);var n=new XMLHttpRequest;n.open("GET","".concat(c.directory+e,".json"),!0),n.overrideMimeType&&n.overrideMimeType("application/json; charset=utf-8");var o=function(){c.localePreferred=null,d(function(e){t(s=e)})};n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status||!n.status&&n.responseText.length))try{var e=JSON.parse(n.responseText);t(s=e)}catch(e){o()}else if(4===n.readyState&&200!==n.status&&(n.status||!n.responseText.length)){if(!c.localePreferred)throw new Error("The default locale [".concat(c.directory).concat(c.localeFallback,".json] file is not found"));o()}},n.send("")}else{var a=c.use[e];void 0===a&&(a=c.use[c.localeFallback]),t(a)}}function o(o,a){if("string"!=typeof o&&!(o instanceof Array))throw new Error("key must be a string or an array");var i=o instanceof Array;if(c.loadJson&&null!==s)if(i){for(var e=o.length-1,t={};0<=e;e--)t[o[e]]=s[o[e]];a(t)}else a(s[o]);else d(function(e){if(i){for(var t=o.length-1,n={};0<=t;t--)n[o[t]]=e[o[t]];a(n)}else a(e[o])})}function a(e,t){var n=e||i,o=t;if(1===arguments.length&&"function"==typeof e&&(n=i,o=e),!function(e){return"object"===("undefined"==typeof Node?"undefined":_typeof(Node))?e instanceof Node:e&&"object"===_typeof(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}(n))throw new TypeError("Not valid element object ".concat(n));var a=n.querySelectorAll("[data-i18n]");null===s?d(function(e){r(a,e),"function"==typeof o&&o()}):(r(a,s),"function"==typeof o&&o())}function u(e){if("string"!=typeof e)throw new Error("The language must be a string");return c.localePreferred=e,s=null,t}function f(){return c.localePreferred}function p(){return e.navigator.userLanguage||e.navigator.language}t.init=n,t.getAll=d,t.get=o,t.bind=a,t.setPreference=u,t.getPreference=f,t.getLocale=p,phonon.i18n=function(e){return"object"===_typeof(e)&&n(e),{getAll:function(e){return d(e),this},get:function(e,t){return o(e,t),this},bind:function(e,t){return a(e,t),this},setPreference:function(e){return u(e),this},getPreference:function(){return f()},getLocale:function(){return p()},getCurrentLocale:function(){return l}}}}(window,document),function(u,n,f){u.phononDOM={};var a=[],p=[],h=!1,i=!1,g=null,r=null,v=!0,m=!1,s=void 0!==n,b={defaultPage:null,defaultTemplateExtension:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1,useHash:!0},l=(e.prototype.onCreate=function(e){this.onCreateCallback=e},e.prototype.onReady=function(e){this.onReadyCallback=e},e.prototype.onClose=function(t){this.onCloseCallback=function(e){t(e)}},e.prototype.onHidden=function(e){this.onHiddenCallback=e},e.prototype.onTransitionEnd=function(e){this.onTransitionEndCallback=e},e.prototype.onHashChanged=function(t){this.onHashChangedCallback=function(e){t.apply(this,e)}},e.prototype.onTabChanged=function(t){this.onTabChangedCallback=function(e){t(e)}},e);function e(e){var t;if("object"===_typeof(e))for(t in e)void 0!==this[t]&&"constructor"!==this[t]&&(this["".concat(t,"Callback")]=e[t])}var y=function(e){for(var t=a.length-1;0<=t;t--)if(a[t].name===e)return a[t];return null};function w(e,t){void 0===u.phononDOM[e]&&(u.phononDOM[e]={});var n='var page = window.phononDOM["'.concat(e,'"];');n+=t;var o=document.createElement("script");o.text=n,document.head.appendChild(o).parentNode.removeChild(o)}var x=function(e){for(var t=document.querySelectorAll("[data-page]"),n=t.length-1,o=null;0<=n;n--){var a=t[n].getAttribute("data-alias");if(t[n].tagName.toLowerCase()===e||a===e){o=t[n];break}}return o};function c(){if(b.animatePages){this.classList.remove("page-sliding"),this.classList.remove("left"),this.off(f.event.animationEnd,c,!1),this.classList.remove("app-active")}t(g),o(r),i=!1}function d(){if(b.animatePages){this.classList.remove("page-sliding"),this.classList.remove("right"),this.off(f.event.animationEnd,d,!1),this.classList.remove("app-active")}t(g),o(r),i=!1}function S(e,t,n){var o={detail:{page:t},bubbles:!0,cancelable:!0};void 0!==n&&(o.detail.req=n);var a=new u.CustomEvent(e,o);document.dispatchEvent(a)}function T(e,t,n){for(var o=0,a=t.length;o<a;o++){var i=t[o];i.event===e&&"function"==typeof i.callback&&i.callback(n)}}function E(t){var n=y(t);u.setTimeout(function(){if(s&&f.tagManager.trigger(t,"ready"),S("pageopened",t),n.activity instanceof l&&"function"==typeof n.activity.onReadyCallback&&n.activity.onReadyCallback(),T("ready",n.callbackRegistered),"object"===_typeof(u.phononDOM[n.name])){var e=u.phononDOM[n.name].onReady;"function"==typeof e&&e()}},n.readyDelay)}function t(e){s&&f.tagManager.trigger(e,"transitionend"),S("pagetransitionend",e);var t=y(e);if(t.activity instanceof l&&"function"==typeof t.activity.onTransitionEndCallback&&t.activity.onTransitionEndCallback(),T("transitionend",t.callbackRegistered),"object"===_typeof(u.phononDOM[t.name])){var n=u.phononDOM[t.name].onTransitionEnd;"function"==typeof n&&n()}}function o(e){s&&f.tagManager.trigger(e,"hidden"),S("pagehidden",e);var t=y(e);if(t.activity instanceof l&&"function"==typeof t.activity.onHiddenCallback&&t.activity.onHiddenCallback(),T("hidden",t.callbackRegistered),"object"===_typeof(u.phononDOM[t.name])){var n=u.phononDOM[t.name].onHidden;"function"==typeof n&&n()}}function k(e,t,n){function o(){S("pageclosed",e),u.location.hash.split("#")[1]!==n&&b.useHash?u.location.hash=n:q(n)}if(!_()){var a=y(e);if(a.async){var i={close:o};if(s&&f.tagManager.trigger(e,"close",i),a.activity instanceof l&&"function"==typeof a.activity.onCloseCallback&&a.activity.onCloseCallback(i),T("close",a.callbackRegistered,i),"object"===_typeof(u.phononDOM[a.name])){var r=u.phononDOM[a.name].onClose;"function"==typeof r&&r(i)}}else o()}}function C(e,t){if(void 0!==t){s&&f.tagManager.trigger(e,"hashchanged",t),S("pagehash",e,t);var n=y(e);if(n.activity instanceof l&&"function"==typeof n.activity.onHashChangedCallback&&n.activity.onHashChangedCallback(t),T("hashchanged",n.callbackRegistered,t),"object"===_typeof(u.phononDOM[n.name])){var o=u.phononDOM[n.name].onHashChanged;"function"==typeof o&&o(t)}}}function P(e,t){"tabchanged"===e&&function(e,t){s&&f.tagManager.trigger(e,"tabchanged",t),S("pagetabchanged",e);var n=y(e);if(n.activity instanceof l&&"function"==typeof n.activity.onTabChangedCallback&&n.activity.onTabChangedCallback(t),T("tabchanged",n.callbackRegistered,t),"object"===_typeof(u.phononDOM[n.name])){var o=u.phononDOM[n.name].onTabChanged;"function"==typeof o&&o(t)}}(t.page,t.tabNumber)}function L(l,c,e){if(s&&n.compile(function(){b.useI18n?f.i18n().getAll(function(e){f.tagManager.addTag(n.mount(l,{i18n:e}),l),c()}):(f.tagManager.addTag(n.mount(l,{i18n:null}),l),c())}),!s){var d=y(l);if(null!==d.content){if(null===d.nocache||null===d.showloader){t=x(l),d.nocache=!1,d.showloader=!1,"true"===t.getAttribute("data-nocache")&&(d.nocache=!0),"true"===t.getAttribute("data-loader")&&(d.showloader=!0)}d.showloader&&document.body.classList.add("loading"),function(e,t,n){var o=new XMLHttpRequest;o.overrideMimeType&&o.overrideMimeType("text/html; charset=utf-8");o.onreadystatechange=function(){4===o.readyState&&(200===o.status||!o.status&&o.responseText.length)&&t(o.responseText,b,e)},"string"!=typeof n?(o.open("GET",b.templateRootDirectory+e,!0),o.send("")):(o.open("POST",b.templateRootDirectory+e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(n))}(d.content,function(e){d.showloader&&document.body.classList.remove("loading");var t=x(l),n=document.createElement("div");n.innerHTML=e;var o=n.querySelector(l);if(null===o)throw new Error("Error with ".concat(d.content," : the template for ").concat(l," must start with the parent node <").concat(l,' class="app-page">'));for(var a=o.attributes,i=a.length-1;0<=i;i--){var r=a.item(i);"class"!==r.nodeName&&"app-page"!==r.nodeValue&&t.setAttribute(r.nodeName,r.nodeValue)}function s(e){var t=e.getElementsByTagName("script");t=Array.prototype.slice.call(t);for(var n=0;n<t.length;n++){var o=t[n].getAttribute("type");"text/javascript"!==o&&null!==o||w(d.name,t[n].innerHTML)}}b.useI18n?f.i18n().bind(o,function(){t.innerHTML=o.innerHTML,s(n),c()}):(t.innerHTML=o.innerHTML,s(n),c())},e)}else c()}var t}function M(e,t){t="object"===_typeof(t)?t:{};var n,o={name:e,mounted:!1,async:!1,activity:null,content:null,readyDelay:1,callbackRegistered:[],nocache:null,showloader:null};for(n in t)o[n]=t[n];return o}function A(e,t){t="object"===_typeof(t)?t:{};var n,o=y(e);if(null===o)return a.push(M(e,t));for(n in t)o[n]=t[n];return!0}function _(){return!(void 0===f.dialog||!f.dialogUtil.closeActive())||(!(void 0===f.popover||!f.popoverUtil.closeActive())||(!(void 0===f.panel||!f.panelUtil.closeActive())||!(void 0===f.sidePanel||!f.sidePanelUtil.closeActive())))}function D(){var e={page:b.defaultPage,params:""};if(0<p.length){for(var t=-1,n=p.length-1;0<=n;n--)if(p[n].page===g){t=n-1;break}-1<t&&(e=p[t],p=p.slice(0,t))}return e}function O(e){m=!0;var t=e.target,n=null,o=!1,a="";if("submit"==e.type){var i=t.getAttribute("action");if(i.match(new RegExp("^#".concat(b.hashPrefix))))return e.preventDefault(),n=i.substr(1+b.hashPrefix.length),k(g,0,b.hashPrefix+n),I(n,function(){},function(e){var t,n,o=(e=e||u.event).target,a="";if("object"===_typeof(o)&&"FORM"==o.nodeName)for(n=o.elements.length-1;0<=n;n--)if((t=o.elements[n]).name&&"file"!=t.type&&"reset"!=t.type)if("select-multiple"==t.type)for(j=o.elements[n].options.length-1;0<=j;j--)t.options[j].selected&&(a+="&".concat(t.name,"=").concat(encodeURIComponent(t.options[j].value).replace(/%20/g,"+")));else("submit"!=t.type&&"button"!=t.type||e.target==t)&&("checkbox"!=t.type&&"radio"!=t.type||t.checked)&&(a+="&".concat(t.name,"=").concat(encodeURIComponent(t.value).replace(/%20/g,"+")));return a.substr(1)}(e)),W(i.substr(1+b.hashPrefix.length))}for(;t&&t!==document;t=t.parentNode){var r=t.getAttribute("data-navigation");if(void 0!==t.href&&-1!==t.href.indexOf("#!")){o=!0;break}if(r){n=r;break}}if((!o||!b.useHash)&&(null!==n||o)){var s=b.defaultPage;if(null!==n)if("$previous-page"===n){var l=D();s=l.page,a=l.params}else s=n;else{var c=t.href.match("/#".concat(b.hashPrefix,"([A-Za-z0-9-.]+)?(.*)/"));c&&(s=c[1],a=c[2])}var d=b.hashPrefix+s;""!==a&&(d=(d="".concat(d,"/").concat(a)).replace("//","/")),k(g,0,d)}}function N(e,t){var n=x(e),o=x(t);o.classList.add("app-active"),b.animatePages?(n.classList.add("page-sliding"),v?(n.classList.add("left"),n.on(f.event.animationEnd,c,!1)):(n.classList.add("right"),n.on(f.event.animationEnd,d,!1))):(n.classList.remove("app-active"),v?c():d());for(var a=o.querySelectorAll(".content"),i=a.length-1;0<=i;i--){var r=a[i];null!==r&&0!==r.scrollTop&&(r.scrollTop=0)}t===b.defaultPage&&(p=[])}function I(t,n,e){if(i&&"function"==typeof n)return n();var o=y(t);h&&(i=!0,r=g,g=t),!o.mounted||o.nocache?L(o.name,function(){if(o.mounted=!0,function(e){s&&f.tagManager.trigger(e,"create"),S("pagecreated",e);var t=y(e);if(t.activity instanceof l&&"function"==typeof t.activity.onCreateCallback&&t.activity.onCreateCallback(),T("create",t.callbackRegistered),"object"===_typeof(u.phononDOM[t.name])){var n=u.phononDOM[t.name].onCreate;"function"==typeof n&&n()}}(t),E(t),h||f.dispatchGlobalReady(),h&&N(r,t),!h){h=!0;var e=x(t);e.classList.contains("app-active")||e.classList.add("app-active")}"function"==typeof n&&n()},e):(E(t),N(r,t),"function"==typeof n&&n())}function B(){if(h)throw new Error("The app has been already started");var e="";f.device.os&&(e=f.device.os.toLowerCase());var t="web";"android"===e?t="android":"ios"===e&&(t="ios"),document.body.classList.contains(t)||document.body.classList.add(t),q()}function W(e,t){var n=y(g),o=y(e);if(!o)throw new Error("The following page: ".concat(e," does not exists"));var a=b.hashPrefix+o.name;void 0!==t&&(a="".concat(b.hashPrefix+o.name,"/").concat(t)),n.async?k(g,o.name,a):-1===u.location.hash.indexOf(a)&&b.useHash&&(u.location.hash=a)}function q(e,t){var n,o=("string"==typeof e?e:u.location.href.split("#")[1]||"").split("/"),a=o.slice(1,o.length),i=o[0],r=b.hashPrefix.indexOf("/");n=-1!==r?(i=void 0===o[1]?"":o[1],a=o.slice(2,o.length),i.substring(r+1,i.length)):i.substring(b.hashPrefix.length,i.length);var s=y(n);if(h||s)!h&&s&&(g=s.name);else if(g=b.defaultPage,s=y(b.defaultPage),b.useHash)return void(u.location.hash=b.hashPrefix+b.defaultPage);if(s){if(_(),s.name===g&&h)return void C(s.name,a);if(h&&!m)return;for(var l=!1,c=p.length-1;0<=c;c--)if(p[c].page===s.name){l=!0;break}if(0<p.length?s.name===b.defaultPage&&(v=!1):v=!0,1<p.length&&p[p.length-2].page===s.name&&(v=!1),!l){var d=a.join("/");p.push({page:s.name,params:d})}"function"!=typeof s.callback||s.mounted||s.callback(s.activity),s.mounted?(I(s.name,null,t),C(s.name,a)):I(s.name,function(){C(s.name,a)},t),b.enableBrowserBackButton||(m=!1)}}document.on("tap",O),document.on("submit",O),b.useHash&&u.addEventListener("hashchange",q),document.on("backbutton",function(){if(!_()){var e=D();k(g,e.page,"".concat(b.hashPrefix+e.page,"/").concat(e.params))}}),f.navigator=function(e){return"object"===_typeof(e)&&function(e){var t;for(t in"string"==typeof e.templateRootDirectory&&""!==e.templateRootDirectory&&(e.templateRootDirectory=-1!==e.templateRootDirectory.indexOf("/",e.templateRootDirectory.length-"/".length)?e.templateRootDirectory:"".concat(e.templateRootDirectory,"/")),"object"===_typeof(e.hashPrefix)&&(e.hashPrefix=""),e)b[t]=e[t];b.enableBrowserBackButton&&(m=!0);for(var n=document.querySelectorAll("[data-page]"),o=n.length-1;0<=o;o--){var a=n[o];a.classList.contains("app-page")||a.classList.add("app-page"),A(a.tagName.toLowerCase())}}(e),{currentPage:g,previousPage:r,start:B,changePage:function(t,n){m=!0;var e=_()?400:1;u.setTimeout(function(){if("$previous-page"==t){var e=D();e&&(t=e.page,n=e.params)}W(t,n)},e)},on:function(e,t){if("string"!=typeof e.page)throw new Error("Page name must be a string");if(void 0!==e.preventClose&&"boolean"!=typeof e.preventClose)throw new Error("preventClose option must be a boolean");if(void 0!==e.readyDelay&&"number"!=typeof e.readyDelay)throw new Error("readyDelay option must be a number");null!==typeof e.content&&"string"==typeof b.defaultTemplateExtension&&(e.content="".concat(e.page,".").concat(b.defaultTemplateExtension));var n=y(e.page);null!==n||(n=M(e.page)),"function"==typeof t||"object"===_typeof(t)?n.activity=new l(t):n.activity=null,n.callback=t,n.async="boolean"==typeof e.preventClose&&e.preventClose,n.content="string"==typeof e.content?e.content:null,n.readyDelay="number"==typeof e.readyDelay?e.readyDelay:1,A(e.page.toLowerCase(),n)},onPage:function(n){if("string"!=typeof n)throw new Error("PageName must be a string");return A(n,{}),{addEvent:function(e,t){y(n).callbackRegistered.push({event:e,callback:t})}}},callCallback:P}}}("undefined"!=typeof window?window:void 0,"undefined"!=typeof riot?riot:void 0,phonon),function(a){function i(e){for(;e&&e!==document;e=e.parentNode)if("true"===e.getAttribute("data-page"))return!0;return!1}function r(e){var t=function(e){for(;e&&e!==document;e=e.parentNode)if(e.nextElementSibling&&e.nextElementSibling.classList.contains("accordion-content"))return{defaultTarget:e,accordionContent:e.nextElementSibling};return null}(e.target);null!==t&&(t.accordionContent.classList.contains("accordion-active")?function(n,o){o.style.maxHeight="0px",o.on(phonon.event.transitionEnd,function e(){o.style.display="none",o.classList.remove("accordion-active"),o.style.maxHeight="none";var t=n.parentNode.querySelector(".icon-expand-less");t&&(t.classList.remove("icon-expand-less"),t.classList.add("icon-expand-more")),o.off(phonon.event.transitionEnd,e)})}(t.defaultTarget,t.accordionContent):function(n,o){o.style.display="block";var e=o.offsetHeight;o.style.maxHeight="0px",a.setTimeout(function(){o.on(phonon.event.transitionEnd,function e(){o.off(phonon.event.transitionEnd,e);var t=n.parentNode.querySelector(".icon-expand-more");t&&(t.classList.remove("icon-expand-more"),t.classList.add("icon-expand-less"))}),o.style.maxHeight="".concat(e,"px"),o.classList.add("accordion-active")},100)}(t.defaultTarget,t.accordionContent))}document.on("pagecreated",function(e){var t=document.querySelector(e.detail.page).querySelectorAll(".list");if(t)for(var n=0,o=t.length;n<o;n++){var a=t[n];a.querySelector(".accordion-content")&&a.on("tap",r)}}),document.on("pageclosed",function(e){for(var t=document.querySelector(e.detail.page).querySelectorAll(".accordion-active"),n=(t.length,0);n<t.length;n++){r({target:t[n].previousElementSibling})}}),phonon.onReady(function(){var e=document.body.querySelectorAll(".list");if(e)for(var t=0,n=e.length;t<n;t++){var o=e[t];o.querySelector(".accordion-content")&&!i(o)&&o.on("tap",r)}})}("undefined"!=typeof window?window:void 0),phonon.autocomplete=function(n){function o(e){var t=e.target,n=t.parentNode.querySelector("ul");n&&(n.style.width="".concat(t.clientWidth,"px"))}return function(e,t){if(void 0!==n)return e.addEventListener("awesomplete-open",o),new n(e,t);console.error("The autocomplete component requires Awesomplete dependency.")}}(window.Awesomplete),function(i,o){var r=[],s=null;function a(e){for(var t,n=document.querySelectorAll("[data-dialog-id], [data-dialog-close]");e&&e!==document;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e)return e}function l(e,t,n,o,a,i){t="string"==typeof t?"<p>".concat(t,"</p>"):"";var r=_typeof2(n);n="string"===r?n:e,o="boolean"!=typeof o||o,a="string"==typeof a?a:"Ok",i="string"==typeof i?i:"Cancel";var s="auto-gen-".concat(e,"-").concat(g++),l=document.createElement("div");l.setAttribute("class","dialog"),l.setAttribute("data-cancelable",o),l.setAttribute("data-auto","true"),l.id=s;var c=void 0===r?"":"<h3>".concat(n,"</h3>"),d='<li><a class="btn btn-flat btn-cancel" data-dialog-close="true">'.concat(i,"</a></li>"),u="",f="";"alert"===e?d="":"prompt"===e?u='<input type="text" placeholder="">':"passPrompt"===e?u='<input type="password" placeholder="Password">':"indicator"===e&&(t="",f='<div class="circle-progress active padded-bottom"><div class="spinner"></div></div>');var p="indicator"===e?"":'<ul class="buttons">'.concat(d,'<li><a class="btn btn-flat primary btn-confirm" data-dialog-close="true">').concat(a,"</a></li>")+"</ul>",h="".concat('<div class="content"><div class="padded-full">').concat(c).concat(t).concat(u).concat(f,"</div>")+"</div>".concat(p);return l.innerHTML=h,document.body.appendChild(l),l}var c=function(e){for(var t,n=document.querySelectorAll(".dialog");e&&e!==document;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e&&e.classList.contains("active"))return e},d=function(e){for(var t=r.length-1;0<=t;t--)if(r[t].dialog.id===e){var n=r[t];return n.index=t,n}return!1},g=0;function u(){var e=d(this.getAttribute("data-id")),t=e.backdrop;t.classList.remove("fadeout"),document.body.removeChild(t);var n=e.dialog;n.style.visibility="hidden",n.style.display="none",n.classList.remove("close"),n.getAttribute("data-auto")&&document.body.removeChild(n),r.splice(e.index,1),this.off(o.event.transitionEnd,u,!1)}function f(e){if(e.style.visibility="visible",e.style.display="block",!e.classList.contains("active")){!function(e){var t=getComputedStyle(e),n=t.width,o=t.height;n=n.slice(0,n.length-2),o=o.slice(0,o.length-2);var a=i.innerHeight/2-o/2;e.style.top="".concat(a,"px")}(e),e.classList.add("active");var t=e.querySelector(".circle-progress");t&&o.preloader(t).show();var n=function(e){var t=document.createElement("div");return t.setAttribute("data-id",e),t.classList.add("backdrop-dialog"),t}(e.id);r.push({dialog:e,backdrop:n}),document.body.appendChild(n)}}function p(e){if(function(e){if("function"!=typeof s)return;var t=e.querySelectorAll(".btn-confirm, .btn-cancel");if(t)for(var n=0,o=t.length;n<o;n++)t[n].off("tap",s)}(e),e.classList.contains("active")){e.classList.remove("active"),e.classList.add("close");var t=e.querySelector(".circle-progress");t&&o.preloader(t).hide();var n=d(e.id).backdrop;n.on(o.event.transitionEnd,u,!1),i.setTimeout(function(){n.classList.add("fadeout")},1)}}function h(n,e,o){if(s=function(){var e,t=n.querySelector("input");t&&(e=t.value),o(e)},"confirm"===e){var t=n.querySelector(".btn-confirm");t&&(t.fireConfirm=s,t.on("tap",s))}else{!function(e,t){for(var n=0;n<r.length;n++)if(r[n].dialog===e){r[n].cancelCallback=t;break}}(n,o);var a=n.querySelector(".btn-cancel");a&&a.on("tap",s)}}document.on(o.event.start,function(e){if(0<r.length){var t=r[r.length-1],n=c(e.target);n||"false"!==t.dialog.getAttribute("data-cancelable")&&(p(t.dialog),"function"==typeof t.cancelCallback&&t.cancelCallback()),n&&n!==t.dialog&&n.id!==t.dialog.id&&p(t.dialog)}}),document.on("tap",function(e){var t=a(e.target),n=null;t&&(n=function(e){var t=a(e.target);if(t){var n=t.getAttribute("data-dialog-id");return n?document.querySelector("#".concat(n)):c(e.target)}}(e),t,n&&(n.classList.contains("active")?p(n):f(n)))}),document.on("keypress",function(e){if(0<r.length&&(13==e.which||13==e.keyCode)){var t=r[r.length-1],n=t.dialog.querySelector(".btn-confirm");return n&&void 0!==n.fireConfirm&&n.fireConfirm(),p(t.dialog),!1}return!0}),o.dialog=function(e){if(void 0===e)return{alert:function(e,t,n,o){var a=l("alert",e,t,n,o);return f(a),{on:function(e,t){h(a,e,t)}}},confirm:function(e,t,n,o,a){var i=l("confirm",e,t,n,o,a);return f(i),{on:function(e,t){h(i,e,t)}}},prompt:function(e,t,n,o,a){var i=l("prompt",e,t,n,o,a);return f(i),{on:function(e,t){h(i,e,t)}}},passPrompt:function(e,t,n,o,a){var i=l("passPrompt",e,t,n,o,a);return f(i),{on:function(e,t){h(i,e,t)}}},indicator:function(e,t){var n=l("indicator","",e,t);return f(n),{on:function(e,t){return h(n,e,t),this},open:function(){return f(n),this},close:function(){return p(n),this}}}};var n="string"==typeof e?document.querySelector(e):e;if(null===n)throw new Error("The following element ".concat(e," does not exists"));return{open:function(){return f(n),this},close:function(){return p(n),this},on:function(e,t){return h(n,e,t),this},isActive:function(){return!!n.classList.contains("active")}}},o.dialogUtil={closeActive:function(){var e=0<r.length;if(e){var t=r[r.length-1].dialog;"false"!==t.getAttribute("data-cancelable")&&p(t)}return e}},i.phonon=o,"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?module.exports=o.dialog:"function"==typeof define&&define.amd&&define(function(){return o.dialog})}("undefined"!=typeof window?window:void 0,window.phonon||{}),function(){var i=0,n=function(e){var t=(e=e.originalEvent||e).target;t.offsetHeight;var n=document.querySelectorAll(".app-active .floating-action");if(n){for(var o=n.length-1;0<=o;o--){var a=n[o];i>t.scrollTop?a.classList.contains("active")||a.classList.add("active"):a.classList.contains("active")&&a.classList.remove("active")}i=t.scrollTop}},o=function(e){return"object"===("undefined"==typeof Node?"undefined":_typeof2(Node))?e instanceof Node:e&&"object"===_typeof2(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName};function r(e){if(!o(e))throw new Error("The page must be a DOMElement not a ".concat(_typeof2(e)));var t=e.querySelector(".content");t?t.on("scroll",n,!1):console.error("The given page does not contain any .content node")}document.on("pagecreated",function(e){for(var t=document.querySelectorAll("".concat(e.detail.page," .floating-action")).length-1;0<=t;t--)for(var n=document.querySelectorAll(".app-page"),o=n.length-1;0<=o;o--){var a=n[o];if(a.tagName.toLowerCase()===e.detail.page){r(a);break}}})}("undefined"!=typeof window&&window,window.phonon),function(e,t){function n(e){e.target.parentNode.classList.add("input-filled")}function o(e){""===e.target.value.trim()&&e.target.parentNode.classList.remove("input-filled")}function a(e){""===e.value.trim()||e.parentNode.classList.contains("input-filled")||e.parentNode.classList.add("input-filled")}function i(e){!function(e){e.on("focus",n),e.on("blur",o)}(e),a(e)}document.on("pagecreated",function(e){for(var t=document.querySelector(e.detail.page).querySelectorAll("input.with-label"),n=t.length-1;0<=n;n--)i(t[n])}),document.on("pageopened",function(e){for(var t=document.querySelector(e.detail.page).querySelectorAll("input.with-label"),n=t.length-1;0<=n;n--)a(t[n])}),t.forms={update:i},e.phonon=t,"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?module.exports=t.popover:"function"==typeof define&&define.amd&&define(function(){return t.popover})}("undefined"!=typeof window?window:void 0,window.phonon||{}),function(r,s){var l=[];function a(){var e=this,t=e.getAttribute("data-timeout");if(t){if(isNaN(parseInt(t,10)))return void console.error("Attribute data-timeout must be a number");var n=e.querySelector(".progress");if(n){n.classList.contains("active")||n.classList.add("active");var o=n.querySelector(".determinate");o.style.width="0",o.style.webkitTransitionDuration="".concat(t,"ms"),o.style.MozTransitionDuration="".concat(t,"ms"),o.style.msTransitionDuration="".concat(t,"ms"),o.style.OTransitionDuration="".concat(t,"ms"),o.style.transitionDuration="".concat(t,"ms"),r.setTimeout(function(){o.style.width="100%"},10)}r.setTimeout(function(){p(e)},parseInt(t,10)+10)}e.off(s.event.transitionEnd,a,!1)}function c(){var e=this;e.style.zIndex=28;var t=e.clientHeight;e.style.webkitTransform="translateY(".concat(t,"px)"),e.style.MozTransform="translateY(".concat(t,"px)"),e.style.msTransform="translateY(".concat(t,"px)"),e.style.OTransform="translateY(".concat(t,"px)"),e.style.transform="translateY(".concat(t,"px)");var n=function(e){for(var t=l.length-1;0<=t;t--)if(l[t]===e)return t;return-1}(e);0<=n&&l.splice(n,1);for(var o=l.length-1;0<=o;o--){var a=o*t;l[o].style.webkitTransform="translateY(-".concat(a,"px)"),l[o].style.MozTransform="translateY(-".concat(a,"px)"),l[o].style.msTransform="translateY(-".concat(a,"px)"),l[o].style.OTransform="translateY(-".concat(a,"px)"),l[o].style.transform="translateY(-".concat(a,"px)"),u()&&(l[o].style.bottom="".concat(a,"px"))}var i=e.querySelector(".determinate");i&&(i.style.width="0",i.style.webkitTransitionDuration="0ms",i.style.MozTransitionDuration="0ms",i.style.msTransitionDuration="0ms",i.style.OTransitionDuration="0ms",i.style.transitionDuration="0ms"),e.off(s.event.transitionEnd,c,!1),"true"===e.getAttribute("data-autodestroy")&&r.setTimeout(function(){document.body.removeChild(e)},500)}function d(e,t,n,o){"string"!=typeof e&&(e=""),t="number"==typeof t?t:5e3,o="string"==typeof o?o:"CANCEL";var a=!0===n?'<button class="btn pull-right" data-hide-notif="true">'.concat(o,"</button>"):"",i=document.createElement("div");return i.setAttribute("class","notification"),i.setAttribute("data-autodestroy","true"),t&&i.setAttribute("data-timeout",t),i.id=function(){for(var e="",t="abcdefghijklmnopqrstuvwxyz",n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}(),i.innerHTML='<div class="progress"><div class="determinate"></div></div>'+a+e,document.body.appendChild(i),document.querySelector("#".concat(i.id))}function u(){var e=parseFloat(s.device.osVersion);return s.device.os===s.device.ANDROID&&!isNaN(e)&&e<4.4}function f(e){if(e.classList.contains("show"))return!1;r.setTimeout(function(){e.classList.add("show")},10),e.style.zIndex=28+l.length;var t=0;if(0<l.length){var n=l[l.length-1];t=l.length*n.clientHeight}e.style.webkitTransform="translateY(-".concat(t,"px)"),e.style.MozTransform="translateY(-".concat(t,"px)"),e.style.msTransform="translateY(-".concat(t,"px)"),e.style.OTransform="translateY(-".concat(t,"px)"),e.style.transform="translateY(-".concat(t,"px)"),u()&&(e.style.bottom="".concat(t,"px")),l.push(e);var o=document.querySelector(".app-active .floating-action");o&&(o.style.webkitTransform="translateY(-48px)",o.style.MozTransform="translateY(-48px)",o.style.msTransform="translateY(-48px)",o.style.OTransform="translateY(-48px)",o.style.transform="translateY(-48px)"),e.on(s.event.transitionEnd,a,!1)}function p(e){if(e.classList.contains("show")){e.classList.remove("show"),e.on(s.event.transitionEnd,c,!1);var t=document.querySelector(".app-active .floating-action");t&&(t.style.webkitTransform="translateY(0)",t.style.MozTransform="translateY(0)",t.style.msTransform="translateY(0)",t.style.OTransform="translateY(0)",t.style.transform="translateY(0)")}}function h(e,t){if("string"!=typeof t)throw new Error("color must be a string, ".concat(_typeof2(t)," given"));e.classList.add(t);var n=e.querySelector(".progress");n&&n.classList.add(t)}document.on("tap",function(e){var t=e.target;if("true"===t.getAttribute("data-hide-notif")){var n=function(e){for(;e&&e!==document;e=e.parentNode)if(e.classList.contains("notification"))return e}(t);n&&p(n)}}),s.notif=function(e,t,n,o){if(1<arguments.length){var a=d(e,t,n,o);return f(a),{element:a,setColor:function(e){h(a,e)}}}var i="string"==typeof e?document.querySelector(e):e;if(null===i)throw new Error("The notification with ID ".concat(e," does not exist"));return{element:i,show:function(){return f(i),this},hide:function(){return p(i),this},setColor:function(e){return h(i,e),this}}},r.phonon=s,"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?module.exports=s.notif:"function"==typeof define&&define.amd&&define(function(){return s.notif})}("undefined"!=typeof window?window:void 0,window.phonon||{}),function(n,a,o){function i(e){for(var t,n=a.querySelectorAll("[data-panel-id], [data-panel-close]");e&&e!==a;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e)return e}function r(e){for(;e&&e!==a;e=e.parentNode)if(e.classList.contains("dialog")||e.classList.contains("backdrop-dialog")||e.classList.contains("popover")||e.classList.contains("backdrop-popover"))return!0;return!1}var s=[],l=function(e){for(var t=s.length,n=0;n<t;n++)if(s[n].panel.getAttribute("id")===e){var o=s[n];return o.index=n,o}return null},c=function(e){for(var t,n=a.querySelectorAll(".panel, .panel-full");e&&e!==a;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e&&e.classList.contains("active"))return e};function d(){a.body.removeChild(this);var e=l(this.getAttribute("data-backdrop-for"));s.splice(e.index,1),this.off(o.event.transitionEnd,d,!1)}function u(e){if(!e.classList.contains("active")){e.style.display="block",n.setTimeout(function(){e.classList.add("active")},10);var t=function(e){var t=a.createElement("div");return t.classList.add("backdrop-panel"),t.setAttribute("data-backdrop-for",e),t}(e.getAttribute("id"));a.body.appendChild(t),s.push({panel:e,backdrop:t})}}function f(t){if(t.classList.contains("active")){t.classList.remove("active"),t.classList.add("panel-closing");t.on(o.event.transitionEnd,function e(){t.classList.remove("panel-closing"),t.style.display="none",t.off(o.event.transitionEnd,e)});var e=l(t.getAttribute("id"));e&&(e.backdrop.classList.add("fadeout"),e.backdrop.on(o.event.transitionEnd,d,!1))}}a.on(o.event.start,function(e){if(!((e=e.originalEvent||e).target.classList.contains("notification")||e.parentNode&&e.target.parentNode.classList.contains("notification"))&&!r(e.target)&&0<s.length){var t=s[s.length-1].panel,n=c(e.target);n||f(t),n&&n!==t&&n.id!==t.id&&f(t)}}),a.on(o.event.tap,function(e){if(!(e.target.classList.contains("notification")||e.parentNode&&e.target.parentNode.classList.contains("notification")||r(e.target))){var t=i(e.target),n=null;if(t&&(n=function(e){var t=i(e.target);if(t){var n=t.getAttribute("data-panel-id");return n?a.querySelector("#".concat(n)):c(e.target)}}(e))&&(n.classList.contains("active")?f(n):u(n)),!(n=c(e.target))&&!t&&0<s.length){var o=s[s.length-1].panel;c(e.target);f(o)}}}),o.panel=function(e){var t="string"==typeof e?a.querySelector(e):e;if(null===t)throw new Error("The panel with ID ".concat(e," does not exist"));return{open:function(){u(t)},close:function(){f(t)}}},o.panelUtil={closeActive:function(){var e=0<s.length;return e&&f(s[s.length-1].panel),e}},n.phonon=o,"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?module.exports=o.panel:"function"==typeof define&&define.amd&&define(function(){return o.panel})}(window,document,window.phonon||{}),function(i,e){var u=!1,f=null,t=!1,n=document.createElement("div");n.classList.add("backdrop-popover");function p(e,t,n){e.setAttribute("data-value",t),e.setAttribute("data-text",n)}var h=[];function o(){var e=document.createElement("div");return e.classList.add("popover"),e.setAttribute("id",function(){for(var e="",t="abcdefghijklmnopqrstuvwxyz",n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}()),e.setAttribute("data-virtual","true"),document.body.appendChild(e),document.body.lastChild}function r(e){var t="string"==typeof e?e:e.text,n="string"==typeof e?e:e.value;return'<li><a class="padded-list" data-value="'.concat(n,'">').concat(t,"</a></li>")}function g(e){return!e.classList.contains("active")&&(t=!0,(f=e).style.display="block",i.setTimeout(function(){e.style.visibility="visible",e.classList.add("active")},10),e.querySelector("ul").scrollTop=0,document.querySelector(".app-page.app-active").appendChild(n),!0)}function v(e,t,n){var o=document.querySelector(".app-page.app-active");if(null===(t="string"==typeof t?o.querySelector(t):t))throw new Error("The trigger for the popover does not exists");if(g(e)){var a=t.getBoundingClientRect(),i=n&&n.width?n.width:t.clientWidth,r=a.top,s=a.left;if(n&&n.direction){for(var l=(t.clientWidth-i)/2,c=0,d=n.margin?n.margin:0,u=n.direction.split(" "),f=0;f<u.length;f++)"left"===u[f]?l=-i-d:"right"===u[f]?l=t.clientWidth+d:"top"===u[f]?c=-e.clientHeight-d:"bottom"===u[f]&&(c=t.clientHeight+d);s+=l,r+=c}e.style.top="".concat(r,"px"),e.style.left="".concat(s,"px"),e.style.width="".concat(i,"px")}}function m(e,t){if(void 0===t&&(t="left"),g(e)){var n=document.querySelector(".app-page.app-active"),o=n.currentStyle||i.getComputedStyle(n);if("title"===t||"title-left"===t){var a=n.querySelector(".header-bar");e.style.top="".concat(a.offsetHeight,"px"),e.style.left="".concat("title"===t?a.clientWidth/2+parseInt(o.marginLeft)-e.clientWidth/2:16+parseInt(o.marginLeft),"px")}else"left"!==t&&"right"!==t||(e.style.top="12px","left"===t?e.style.left="".concat(16+parseInt(o.marginLeft),"px"):(e.style.left="auto",e.style.right="16px"))}}function b(e){t=!1,(f=e).classList.contains("active")&&(e.classList.toggle("active"),i.setTimeout(function(){!function(){var e=document.querySelector(".app-active");null!==e.querySelector("div.backdrop-popover")&&e.removeChild(n),f.style.visibility="hidden",f.style.display="none","true"===f.getAttribute("data-virtual")&&document.body.removeChild(f),f=null}()},250))}function a(n){return{setList:function(e,t){return function(e,t,n){if(!(t instanceof Array))throw new Error("The list of the popover must be an array, ".concat(_typeof2(t)," given"));var o='<ul class="list">',a=r;"function"==typeof n&&(a=n);for(var i=0;i<t.length;i++)o+=a(t[i]);o+="</ul>",e.innerHTML=o}(n,e,t),this},open:function(e){return m(n,e),this},openFrom:function(e,t){return v(n,e,t),this},close:function(){return b(n),this},onItemChanged:function(e){return h.push({id:n.getAttribute("id"),callback:e}),this},attachButton:function(e,t){return function(e,t,n){if(null===(t="string"==typeof t?document.querySelector(t):t))throw new Error("The button does not exists");var o=e.getAttribute("id");t.setAttribute("data-popover-id",o),!0===n&&t.setAttribute("data-autobind",!0)}(n,e,t),this},setActiveItem:function(e,t){p(n,0<arguments.length&&void 0!==e?e:"",1<arguments.length&&void 0!==t?t:"")},getActiveItem:function(){return{text:n.getAttribute("data-text"),value:n.getAttribute("data-value"),target:n}}}}document.on(e.event.start,function(e){!function(e){for(;e&&e!==document;e=e.parentNode)if(e.classList.contains("popover")&&e.classList.contains("active"))return e;return!1}((e=e.originalEvent||e).target)&&t&&b(f),u=!1}),document.on(e.event.move,function(e){e=e.originalEvent||e,u=!0}),document.on(e.event.end,function(e){var t=e.target,n=function(e){for(var t={target:null,id:null,direction:null};e&&e!==document;e=e.parentNode){var n=e.getAttribute("data-popover-id");if(null!==n){t.target=e,t.id=n,t.direction="left",!e.classList.contains("title")&&e.classList.contains("pull-left")?t.direction="left":!e.classList.contains("title")&&e.parentNode.classList.contains("pull-left")?t.direction="left":e.classList.contains("title")&&e.classList.contains("pull-left")?t.direction="title-left":e.parentNode&&e.parentNode.classList.contains("pull-left")&&e.classList.contains("title")?t.direction="title-left":e.classList.contains("pull-right")?t.direction="right":e.parentNode&&e.parentNode.classList.contains("pull-right")?t.direction="right":e.classList.contains("center")?t.direction="title":e.parentNode&&e.parentNode.classList.contains("center")?t.direction="title":t.direction="button";break}}return t}(t),o=document.querySelector("#".concat(n.id));if(n.target&&o&&(o.classList.contains("active")&&!u?b(o):"button"===n.direction?v(o,n.target):m(o,n.direction)),null!==t.parentNode&&function(e){for(;e&&e!==document;e=e.parentNode)if(e===f)return!0;return!1}(t)&&!u){b(f);var a=t.innerText||t.textContent,i=t.getAttribute("data-value"),r={text:a,value:i,target:e.target},s=function(e){for(;e&&e!==document;e=e.parentNode)if(e.classList.contains("popover"))return e;return null}(t);p(s,i,a),e=new CustomEvent("itemchanged",{detail:r,bubbles:!0,cancelable:!0});for(var l=document.querySelectorAll('[data-popover-id="'.concat(f.id,'"]')),c=l.length-1;0<=c;c--){"true"===(n=l[c]).getAttribute("data-autobind")&&("textContent"in n?n.textContent=t.textContent:n.innerText=t.innerText)}f.dispatchEvent(e);for(c=0;c<h.length;c++){var d=h[c];d.id===f.getAttribute("id")&&d.callback(r)}}}),e.popover=function(e){if("string"==typeof e&&"_caller"===e)return a();if(void 0===e)return a(o());var t="string"==typeof e?document.querySelector(e):e;if(null===t)throw new Error("The popover with ID ".concat(e," does not exists"));return a(t)},e.popoverUtil={closeActive:function(){var e=!!f;return e&&b(f),e}},i.phonon=e,"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?module.exports=e.popover:"function"==typeof define&&define.amd&&define(function(){return e.popover})}("undefined"!=typeof window?window:void 0,window.phonon||{}),function(e,n){function o(){this.style.visibility="hidden",this.off(n.event.transitionEnd,o)}n.preloader=function(e){var t="string"==typeof e?document.querySelector(e):e;if(null===t)throw new Error("The preloader with ID ".concat(e," does not exist"));return{show:function(){!function(e){e.classList.contains("active")||(e.style.visibility="visible",e.classList.add("active"))}(t)},hide:function(){!function(e){e.classList.contains("active")&&(e.classList.remove("active"),e.on(n.event.transitionEnd,o))}(t)}}},e.phonon=n,"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?module.exports=n.preloader:"function"==typeof define&&define.amd&&define(function(){return n.preloader})}("undefined"!=typeof window?window:void 0,window.phonon||{}),function(o,g){var a=null,e=e||function(e){var t,u={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},f={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},n={},p={hasTouch:"ontouchstart"in g.documentElement||o.navigator.msPointerEnabled,eventType:function(e){return{down:p.hasTouch?"touchstart":"mousedown",move:p.hasTouch?"touchmove":"mousemove",up:p.hasTouch?"touchend":"mouseup",out:p.hasTouch?"touchcancel":"mouseout"}[e]},page:function(e,t){return p.hasTouch&&t.touches.length&&t.touches[0]?t.touches[0]["page".concat(e)]:t["page".concat(e)]},klass:{has:function(e,t){return-1!==e.className.indexOf(t)},add:function(e,t){!p.klass.has(e,t)&&u.addBodyClasses&&(e.className+=" ".concat(t))},remove:function(e,t){u.addBodyClasses&&(e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(e){if("function"==typeof n[e])return n[e].call()},createBackdrop:function(){if(!a){var e=document.createElement("div");e.classList.add("backdrop-panel"),a=e,u.element.appendChild(a)}},removeBackdrop:function(){if(a){a.classList.add("fadeout"),a.on(phonon.event.transitionEnd,function e(){a&&(a.classList.remove("fadeout"),u.element.removeChild(a),a.off(phonon.event.transitionEnd,e),a=null)})}},vendor:function(){var e,t=g.createElement("div"),n="webkit Moz O ms".split(" ");for(e in n)if(void 0!==t.style["".concat(n[e],"Transition")])return n[e]},transitionCallback:function(){return"Moz"===f.vendor||"ms"===f.vendor?"transitionend":"".concat(f.vendor,"TransitionEnd")},canTransform:function(){return void 0!==u.element.style["".concat(f.vendor,"Transform")]},deepExtend:function(e,t){var n;for(n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},p.deepExtend(e[n],t[n])):e[n]=t[n];return e},angleOfDrag:function(e,t){var n,o;return(o=Math.atan2(-(f.startDragY-t),f.startDragX-e))<0&&(o+=2*Math.PI),(n=Math.floor(o*(180/Math.PI)-180))<0&&-180<n&&(n=360-Math.abs(n)),Math.abs(n)},events:{addEvent:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on".concat(t),n):void 0},removeEvent:function(e,t,n){return e.addEventListener?e.removeEventListener(t,n,!1):e.attachEvent?e.detachEvent("on".concat(t),n):void 0},prevent:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},parentUntil:function(e,t){for(var n="string"==typeof t;e.parentNode;){if(n&&e.getAttribute&&e.getAttribute(t))return e;if(!n&&e===t)return e;e=e.parentNode}return null}},h={translate:{get:{matrix:function(e){if(!p.canTransform())return parseInt(u.element.style.left,10);var t=o.getComputedStyle(u.element)["".concat(f.vendor,"Transform")].match(/\((.*)\)/);return t?(t=t[1].split(","),16===t.length&&(e+=8),parseInt(t[e],10)):0}},easeCallback:function(){u.element.style["".concat(f.vendor,"Transition")]="",f.translation=h.translate.get.matrix(4),f.easing=!1,clearInterval(f.animatingInterval),0===f.easingTo&&(p.klass.remove(g.body,"snapjs-right"),p.klass.remove(g.body,"snapjs-left")),p.dispatchEvent("animated"),p.events.removeEvent(u.element,p.transitionCallback(),h.translate.easeCallback)},easeTo:function(e){0===e&&p.removeBackdrop(),p.canTransform()?(f.easing=!0,f.easingTo=e,u.element.style["".concat(f.vendor,"Transition")]="all ".concat(u.transitionSpeed,"s ").concat(u.easing),f.animatingInterval=setInterval(function(){p.dispatchEvent("animating")},1),p.events.addEvent(u.element,p.transitionCallback(),h.translate.easeCallback)):f.translation=e,h.translate.x(e),0===e&&(u.element.style["".concat(f.vendor,"Transform")]="")},x:function(e){if(!("left"===u.disable&&0<e||"right"===u.disable&&e<0))if(u.hyperextensible||(e===u.maxPosition||e>u.maxPosition?e=u.maxPosition:(e===u.minPosition||e<u.minPosition)&&(e=u.minPosition)),e=parseInt(e,10),isNaN(e)&&(e=0),p.canTransform()){var t="translate3d(".concat(e,"px, 0,0)");u.element.style["".concat(f.vendor,"Transform")]=t}else u.element.style.width="".concat(o.innerWidth||g.documentElement.clientWidth,"px"),u.element.style.left="".concat(e,"px"),u.element.style.right=""}},drag:{listen:function(){f.translation=0,f.easing=!1,p.events.addEvent(u.element,p.eventType("down"),h.drag.startDrag),p.events.addEvent(u.element,p.eventType("move"),h.drag.dragging),p.events.addEvent(u.element,p.eventType("up"),h.drag.endDrag)},stopListening:function(){p.events.removeEvent(u.element,p.eventType("down"),h.drag.startDrag),p.events.removeEvent(u.element,p.eventType("move"),h.drag.dragging),p.events.removeEvent(u.element,p.eventType("up"),h.drag.endDrag)},startDrag:function(e){var t=e.target?e.target:e.srcElement;if(p.parentUntil(t,"data-snap-ignore"))p.dispatchEvent("ignore");else{if(u.dragger)if(!p.parentUntil(t,u.dragger)&&f.translation!==u.minPosition&&f.translation!==u.maxPosition)return;p.dispatchEvent("start"),u.element.style["".concat(f.vendor,"Transition")]="",f.isDragging=!0,f.hasIntent=null,f.intentChecked=!1,f.startDragX=p.page("X",e),f.startDragY=p.page("Y",e),f.dragWatchers={current:0,last:0,hold:0,state:""},f.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}}},dragging:function(e){if(f.isDragging&&u.touchToDrag){var t=p.page("X",e),n=p.page("Y",e),o=f.translation,a=h.translate.get.matrix(4),i=t-f.startDragX,r=0<a,s=i;if(f.intentChecked&&!f.hasIntent)return;if(u.addBodyClasses&&(0<a?(p.klass.add(g.body,"snapjs-left"),p.klass.remove(g.body,"snapjs-right")):a<0&&(p.klass.add(g.body,"snapjs-right"),p.klass.remove(g.body,"snapjs-left"))),!1===f.hasIntent||null===f.hasIntent){var l=p.angleOfDrag(t,n),c=0<=l&&l<=u.slideIntent||l<=360&&l>360-u.slideIntent,d=180<=l&&l<=180+u.slideIntent||l<=180&&l>=180-u.slideIntent;f.hasIntent=d||c,f.intentChecked=!0}if(u.minDragDistance>=Math.abs(t-f.startDragX)||!1===f.hasIntent)return;p.events.prevent(e),p.dispatchEvent("drag"),f.dragWatchers.current=t,f.dragWatchers.last>t?("left"!==f.dragWatchers.state&&(f.dragWatchers.state="left",f.dragWatchers.hold=t),f.dragWatchers.last=t):f.dragWatchers.last<t&&("right"!==f.dragWatchers.state&&(f.dragWatchers.state="right",f.dragWatchers.hold=t),f.dragWatchers.last=t),r?(u.maxPosition<a&&(s=i-(a-u.maxPosition)*u.resistance),f.simpleStates={opening:"left",towards:f.dragWatchers.state,hyperExtending:u.maxPosition<a,halfway:a>u.maxPosition/2,flick:Math.abs(f.dragWatchers.current-f.dragWatchers.hold)>u.flickThreshold,translation:{absolute:a,relative:i,sinceDirectionChange:f.dragWatchers.current-f.dragWatchers.hold,percentage:a/u.maxPosition*100}}):(u.minPosition>a&&(s=i-(a-u.minPosition)*u.resistance),f.simpleStates={opening:"right",towards:f.dragWatchers.state,hyperExtending:u.minPosition>a,halfway:a<u.minPosition/2,flick:Math.abs(f.dragWatchers.current-f.dragWatchers.hold)>u.flickThreshold,translation:{absolute:a,relative:i,sinceDirectionChange:f.dragWatchers.current-f.dragWatchers.hold,percentage:a/u.minPosition*100}}),h.translate.x(s+o)}5<s&&p.createBackdrop()},endDrag:function(e){if(f.isDragging){p.dispatchEvent("end");var t=h.translate.get.matrix(4);if(0===f.dragWatchers.current&&0!==t&&u.tapToClose)return p.dispatchEvent("close"),p.events.prevent(e),h.translate.easeTo(0),f.isDragging=!1,void(f.startDragX=0);"left"===f.simpleStates.opening?f.simpleStates.halfway||f.simpleStates.hyperExtending||f.simpleStates.flick?f.simpleStates.flick&&"left"===f.simpleStates.towards?h.translate.easeTo(0):(f.simpleStates.flick&&"right"===f.simpleStates.towards||f.simpleStates.halfway||f.simpleStates.hyperExtending)&&h.translate.easeTo(u.maxPosition):h.translate.easeTo(0):"right"===f.simpleStates.opening&&(f.simpleStates.halfway||f.simpleStates.hyperExtending||f.simpleStates.flick?f.simpleStates.flick&&"right"===f.simpleStates.towards?h.translate.easeTo(0):(f.simpleStates.flick&&"left"===f.simpleStates.towards||f.simpleStates.halfway||f.simpleStates.hyperExtending)&&h.translate.easeTo(u.minPosition):h.translate.easeTo(0)),f.isDragging=!1,f.startDragX=p.page("X",e)}}}};this.open=function(e){p.createBackdrop(),p.dispatchEvent("open"),p.klass.remove(g.body,"snapjs-expand-left"),p.klass.remove(g.body,"snapjs-expand-right"),"left"===e?(f.simpleStates.opening="left",f.simpleStates.towards="right",p.klass.add(g.body,"snapjs-left"),p.klass.remove(g.body,"snapjs-right"),h.translate.easeTo(u.maxPosition)):"right"===e&&(f.simpleStates.opening="right",f.simpleStates.towards="left",p.klass.remove(g.body,"snapjs-left"),p.klass.add(g.body,"snapjs-right"),h.translate.easeTo(u.minPosition))},this.close=function(){p.dispatchEvent("close"),h.translate.easeTo(0)},this.expand=function(e){var t=o.innerWidth||g.documentElement.clientWidth;"left"===e?(p.dispatchEvent("expandLeft"),p.klass.add(g.body,"snapjs-expand-left"),p.klass.remove(g.body,"snapjs-expand-right")):(p.dispatchEvent("expandRight"),p.klass.add(g.body,"snapjs-expand-right"),p.klass.remove(g.body,"snapjs-expand-left"),t*=-1),h.translate.easeTo(t)},this.on=function(e,t){return n[e]=t,this},this.off=function(e){n[e]&&(n[e]=!1)},this.enable=function(){p.dispatchEvent("enable"),h.drag.listen()},this.disable=function(){p.dispatchEvent("disable"),h.drag.stopListening()},this.settings=function(e){p.deepExtend(u,e)},this.state=function(){var e=h.translate.get.matrix(4);return{state:e===u.maxPosition?"left":e===u.minPosition?"right":"closed",info:f.simpleStates}},(t=e).element&&(p.deepExtend(u,t),f.vendor=p.vendor(),h.drag.listen())};"undefined"!=typeof module&&module.exports&&(module.exports=e),"function"==typeof define&&define.amd&&define("snap",[],function(){return e}),o&&(o.Snap=e)}.call(void 0,window,document),function(e,l,v){var c=!matchMedia("only screen and (min-width: 641px)").matches,m=[],r=null;function s(e){for(var t=m.length-1;0<=t;t--)if(m[t].el.id===e)return m[t];return null}function t(e){for(var t=void 0!==e?e.detail.page:l.navigator().currentPage,n=document.querySelector(t),o=n.querySelector('[data-tab-contents="true"]'),a=m.length-1;0<=a;a--){var i=m[a],r=i.el.getAttribute("data-expose-aside");if(-1===i.pages.indexOf(t))i.el.style.display="none",i.el.style.visibility="hidden";else{var s=0<=i.nodrag.indexOf(t);i.snapper.settings({element:n}),i.el.style.display="block",i.el.style.visibility="visible",o&&m[a].snapper.disable(),"left"!==r&&"right"!==r||n.classList.contains("expose-aside-".concat(r))||n.classList.add("expose-aside-".concat(r)),c||(o||"left"===r||"right"===r?(i.snapper.settings({touchToDrag:!1}),i.snapper.disable()):(i.snapper.settings({touchToDrag:!s}),i.snapper.enable())),!o&&c&&(i.snapper.settings({touchToDrag:!s}),i.snapper.enable())}}}function d(e){(r=e).snapper.open(e.direction),document.on(l.event.end,n)}function u(e){e.snapper.close(),r=null,document.off(l.event.end,n)}l.onReady(function(){for(var e=document.querySelectorAll(".side-panel"),t=e.length-1;0<=t;t--){for(var n=e[t],o=n.getAttribute("data-disable"),a=n.getAttribute("data-page"),i=n.getAttribute("data-nodrag"),r=[],s=a.split(","),l=0,c=s.length;l<c;l++){var d=s[l].trim();if(0==l)(p=document.querySelector(d))||console.error("SidePanel issue: The page: ".concat(d," does not exist. Please see data-page attribute."));r.push(d)}var u=[],f=[];i&&(f=i.split(","));for(l=0,c=f.length;l<c;l++){var p;d=f[l].trim();if(0==l)(p=document.querySelector(d))?-1===r.indexOf(d)&&console.error("SidePanel issue: The page: ".concat(d," is not panel enabled. Please see data-page attribute.")):console.error("SidePanel issue: The page: ".concat(d," does not exist. Please see data-page attribute."));u.push(d)}var h={element:p,disable:null===o?"none":o,hyperextensible:!1,touchToDrag:!1,maxPosition:n.clientWidth,minPosition:-n.clientWidth},g=new v(h);m.push({snapper:g,el:n,pages:r,nodrag:u,direction:n.classList.contains("side-panel-left")?"left":"right"})}}),document.on(l.event.tap,function(e){var t=e.target,n=t.getAttribute("data-side-panel-id");if("true"!==t.getAttribute("data-side-panel-close")){if(null!==n&&(i=s(n))){var o=i.snapper.state(),a=i.el.getAttribute("data-expose-aside");"closed"===o.state?("left"!==a&&"right"!==a||c)&&d(i):("left"!==a&&"right"!==a||c)&&u(i)}}else if(r)u(r);else if(null!==n){var i;(i=s(n))&&u(i)}});var n=function(e){var t=e.target,n=!1;if(null!==r){for(;t&&t!==document;t=t.parentNode)if(t.classList.contains("side-panel")){n=!0;break}r&&!n&&(u(r),r=null)}};l.sidePanel=function(e){var t=s(e=e.replace("#",""));if(null===t)throw new Error("The side panel with id [".concat(e,"] does not exists"));return{open:function(){return d(t)},close:function(){return u(t)},isShown:function(){return function(e){return"closed"!==e.snapper.state().state}(t)}}},l.sidePanelUtil={closeActive:function(){for(var e=l.navigator().currentPage,t=m.length-1;0<=t;t--){var n=m[t],o=n.el.getAttribute("data-expose-aside");if(-1!==n.pages.indexOf(e)){if("closed"!==n.snapper.state().state){if(c)return u(n),!0;if(!c&&"left"!==o&&"right"!==o)return u(n),!0}return!1}}return!1}},e.on("resize",function(){c!==(c=!matchMedia("only screen and (min-width: 641px)").matches)&&(e.setTimeout(function(){for(var e=m.length-1;0<=e;e--){var t=m[e];t.snapper.settings({maxPosition:t.el.clientWidth,minPosition:-t.el.clientWidth})}},500),t())}),document.on("pageopened",t)}("undefined"!=typeof window?window:void 0,window.phonon||{},window.Snap||void 0),function(S){var T=document,E=S;function e(r){var t,n,o,a={pageClass:"dragend-page",direction:"horizontal",minDragDistance:"40",onSwipeStart:e,onSwipeEnd:e,onDragStart:e,onDrag:e,onDragEnd:e,afterInitialize:e,keyboardNavigation:!1,stopPropagation:!1,itemsInPage:1,scribe:0,borderBetweenPages:0,duration:300,preventDrag:!1},i="ontouchstart"in E,s=i?"touchstart":"mousedown",l=i?"touchmove":"mousemove",c=i?"touchend":"mouseup",d={37:"left",38:"up",39:"right",40:"down"},u="No pages found",f={overflow:"hidden",padding:0},p=(t=T.createElement("div"),n="Khtml Ms O Moz Webkit".split(" "),o=n.length,function(e){if(e in t.style)return!0;for(e=e.replace(/^[a-z]/,function(e){return e.toUpperCase()});o--;)if(n[o]+e in t.style)return!0;return!1})("transform");function e(){}function h(){return!1}function g(e,t){var n,o;for(n in t)if(t.hasOwnProperty(n)){switch(o=t[n],n){case"height":case"width":case"marginLeft":case"marginTop":o+="px"}e.style[n]=o}return e}function v(e,t){var n;for(n in t)e[n]=t[n];return e}function m(e,t){return function(){return e.apply(t,Array.prototype.slice.call(arguments))}}function b(e){var t=e.touches,n=t&&t.length?t:e.changedTouches;return{x:i?n[0].pageX:e.pageX,y:i?n[0].pageY:e.pageY}}function y(e,t){var n=v({},a);for(this.settings=v(n,t),this.container=e,this.pageContainer=T.createElement("div"),this.scrollBorder={x:0,y:0},this.page=0,this.preventScroll=!1,this.pageCssProperties={margin:0},this._onStart=m(this._onStart,this),this._onMove=m(this._onMove,this),this._onEnd=m(this._onEnd,this),this._onKeydown=m(this._onKeydown,this),this._sizePages=m(this._sizePages,this),this._afterScrollTransform=m(this._afterScrollTransform,this);e.firstChild;)this.pageContainer.appendChild(e.firstChild);e.appendChild(this.pageContainer),this._scroll=p?this._scrollWithTransform:this._scrollWithoutTransform,this._animateScroll=p?this._animateScrollWithTransform:this._animateScrollWithoutTransform,g(e,f),setTimeout(m(function(){this.updateInstance(t),this.settings.preventDrag||this._observe(),this.settings.afterInitialize.call(this)},this),10)}function w(e,t,n){r?r(e).on(t,n):e.addEventListener(t,n,!1)}function x(e,t,n){r?r(e).off(t,n):e.removeEventListener(t,n,!1)}return v(y.prototype,{_checkOverscroll:function(e,t,n){var o={x:t,y:n,overscroll:!0};switch(e){case"right":if(!this.scrollBorder.x)return o.x=Math.round((t-this.scrollBorder.x)/5),o;break;case"left":if((this.pagesCount-1)*this.pageDimentions.width<=this.scrollBorder.x)return o.x=Math.round(-(Math.ceil(this.pagesCount)-1)*(this.pageDimentions.width+this.settings.borderBetweenPages)+t/5),o;break;case"down":if(!this.scrollBorder.y)return o.y=Math.round((n-this.scrollBorder.y)/5),o;break;case"up":if((this.pagesCount-1)*this.pageDimentions.height<=this.scrollBorder.y)return o.y=Math.round(-(Math.ceil(this.pagesCount)-1)*(this.pageDimentions.height+this.settings.borderBetweenPages)+n/5),o}return{x:t-this.scrollBorder.x,y:n-this.scrollBorder.y,overscroll:!1}},_xDown:0,_yDown:0,_observe:function(){w(this.container,s,this._onStart),this.container.onselectstart=h,this.container.ondragstart=h,this.settings.keyboardNavigation&&w(T.body,"keydown",this._onKeydown),w(E,"resize",this._sizePages)},_onStart:function(e){e=e.originalEvent||e,this.settings.stopPropagation&&e.stopPropagation(),this._xDown=e.touches?e.touches[0].clientX:e.clientX,this._yDown=e.touches?e.touches[0].clientY:e.clientY,w(T.body,l,this._onMove),w(T.body,c,this._onEnd),this.startCoords=b(e),this.settings.onDragStart.call(this,e)},_onMove:function(e){if(!((e=e.originalEvent||e).touches&&1<e.touches.length||e.scale&&1!==e.scale)){var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY,o=this._xDown-t,a=this._yDown-n;Math.abs(o)>Math.abs(a)&&(e.preventDefault(),this.settings.stopPropagation&&e.stopPropagation());var i=this._parseEvent(e),r=this._checkOverscroll(i.direction,-i.distanceX,-i.distanceY);Math.abs(o)<Math.abs(a)||0===this.page&&"right"===i.direction||this.page+1===this.pagesCount&&"left"===i.direction||(this.settings.onDrag.call(this,this.activeElement,i,r.overscroll,e),this.preventScroll||this._scroll(r))}},_onEnd:function(e){e=e.originalEvent||e,this.settings.stopPropagation&&e.stopPropagation();var t=this._parseEvent(e);this.startCoords={x:0,y:0},Math.abs(t.distanceX)>this.settings.minDragDistance||Math.abs(t.distanceY)>this.settings.minDragDistance?this.swipe(t.direction):(0<t.distanceX||0<t.distanceX)&&this._scrollToPage(),this.settings.onDragEnd.call(this,this.container,this.activeElement,this.page,e),x(T.body,l,this._onMove),x(T.body,c,this._onEnd)},_parseEvent:function(e){var t=b(e),n=this.startCoords.x-t.x,o=this.startCoords.y-t.y;return this._addDistanceValues(n,o)},_addDistanceValues:function(e,t){var n={distanceX:0,distanceY:0};return"horizontal"===this.settings.direction?(n.distanceX=e,n.direction=0<e?"left":"right"):(n.distanceY=t,n.direction=0<t?"up":"down"),n},_onKeydown:function(e){var t=d[e.keyCode];t&&this._scrollToPage(t)},_setHorizontalContainerCssValues:function(){v(this.pageCssProperties,{cssFloat:"left",overflowY:"auto",overflowX:"hidden",padding:0,display:"block"}),g(this.pageContainer,{overflow:"hidden",width:(this.pageDimentions.width+this.settings.borderBetweenPages)*this.pagesCount,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0,padding:0})},_setVerticalContainerCssValues:function(){v(this.pageCssProperties,{overflow:"hidden",padding:0,display:"block"}),g(this.pageContainer,{"padding-bottom":this.settings.scribe,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0})},setContainerCssValues:function(){"horizontal"===this.settings.direction?this._setHorizontalContainerCssValues():this._setVerticalContainerCssValues()},_setPageDimentions:function(){var e=this.container.offsetWidth,t=this.container.offsetHeight;"horizontal"===this.settings.direction?e-=parseInt(this.settings.scribe,10):t-=parseInt(this.settings.scribe,10),this.pageDimentions={width:e,height:t}},_sizePages:function(){var e=this.pages.length;this._setPageDimentions(),this.setContainerCssValues(),"horizontal"===this.settings.direction?v(this.pageCssProperties,{height:this.pageDimentions.height,width:this.pageDimentions.width/this.settings.itemsInPage}):v(this.pageCssProperties,{height:this.pageDimentions.height/this.settings.itemsInPage,width:this.pageDimentions.width});for(var t=0;t<e;t++)g(this.pages[t],this.pageCssProperties);this._jumpToPage("page",this.page)},_calcNewPage:function(e,t){var n=this.settings.borderBetweenPages,o=this.pageDimentions.height,a=this.pageDimentions.width,i=this.page;switch(e){case"up":i<this.pagesCount-1&&(this.scrollBorder.y=this.scrollBorder.y+o+n,this.page++);break;case"down":0<i&&(this.scrollBorder.y=this.scrollBorder.y-o-n,this.page--);break;case"left":i<this.pagesCount-1&&(this.scrollBorder.x=this.scrollBorder.x+a+n,this.page++);break;case"right":0<i&&(this.scrollBorder.x=this.scrollBorder.x-a-n,this.page--);break;case"page":switch(this.settings.direction){case"horizontal":this.scrollBorder.x=(a+n)*t;break;case"vertical":this.scrollBorder.y=(o+n)*t}this.page=t;break;default:this.scrollBorder.y=0,this.scrollBorder.x=0,this.page=0}},_onSwipeEnd:function(){this.preventScroll=!1,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this.settings.onSwipeEnd.call(this,this.container,this.activeElement,this.page)},_jumpToPage:function(e,t){e&&this._calcNewPage(e,t),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y})},_scrollToPage:function(e,t){this.preventScroll=!0,e&&this._calcNewPage(e,t),this._animateScroll()},_scrollWithTransform:function(e){var t;t=function(){if(!S.getComputedStyle)return!1;var e,t=document.createElement("p"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var o in document.body.insertBefore(t,null),n)void 0!==t.style[o]&&(t.style[o]="translate3d(1px,1px,1px)",e=S.getComputedStyle(t).getPropertyValue(n[o]));return document.body.removeChild(t),void 0!==e&&0<e.length&&"none"!==e}()?"horizontal"===this.settings.direction?"translate3d(".concat(e.x,"px, 0, 0)"):"translate3d(0, ".concat(e.y,"px, 0)"):"horizontal"===this.settings.direction?"translateX(".concat(e.x,"px)"):"translateY(".concat(e.y,"px)"),g(this.pageContainer,{"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t,transform:t})},_animateScrollWithTransform:function(){var e="transform ".concat(this.settings.duration,"ms ease-out"),t=(this.container,this._afterScrollTransform);g(this.pageContainer,{"-webkit-transition":"-webkit-".concat(e),"-moz-transition":"-moz-".concat(e),"-ms-transition":"-ms-".concat(e),"-o-transition":"-o-".concat(e),transition:e}),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y}),w(this.container,"webkitTransitionEnd",t),w(this.container,"oTransitionEnd",t),w(this.container,"transitionend",t),w(this.container,"transitionEnd",t)},_afterScrollTransform:function(){var e=this.container,t=this._afterScrollTransform;this._onSwipeEnd(),x(e,"webkitTransitionEnd",t),x(e,"oTransitionEnd",t),x(e,"transitionend",t),x(e,"transitionEnd",t),g(this.pageContainer,{"-webkit-transition":"","-moz-transition":"","-ms-transition":"","-o-transition":"",transition:""})},_scrollWithoutTransform:function(e){var t="horizontal"===this.settings.direction?{marginLeft:e.x}:{marginTop:e.y};g(this.pageContainer,t)},_animateScrollWithoutTransform:function(){var e="horizontal"===this.settings.direction?"marginLeft":"marginTop",t="horizontal"===this.settings.direction?-this.scrollBorder.x:-this.scrollBorder.y;!function(e,t,n,o,a){var i={};i[t]=n,r?r(e).animate(i,o,a):g(e,i)}(this.pageContainer,e,t,this.settings.duration,m(this._onSwipeEnd,this))},swipe:function(e){this.settings.onSwipeStart.call(this,this.container,this.activeElement,this.page),this._scrollToPage(e)},updateInstance:function(e){if("object"===_typeof2(e=e||{})&&v(this.settings,e),this.pages=function(e,t){return r?r(t).find(".".concat(e)):Array.prototype.slice.call(t.getElementsByClassName(e))}(this.settings.pageClass,this.pageContainer),!this.pages.length)throw new Error(u);this.pagesCount=this.pages.length/this.settings.itemsInPage,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this._sizePages(),this.settings.jumpToPage&&(this.jumpToPage(e.jumpToPage),delete this.settings.jumpToPage),this.settings.scrollToPage&&(this.scrollToPage(this.settings.scrollToPage),delete this.settings.scrollToPage),this.settings.destroy&&(this.destroy(),delete this.settings.destroy)},destroy:function(){var e=this.container;x(e,s),x(e,l),x(e,c),x(T.body,"keydown",this._onKeydown),x(E,"resize",this._sizePages),e.removeAttribute("style");for(var t=0;t<this.pages.length;t++)this.pages[t].removeAttribute("style");e.innerHTML=this.pageContainer.innerHTML},scrollToPage:function(e){this._scrollToPage("page",e-1)},jumpToPage:function(e){this._jumpToPage("page",e-1)}}),r&&(r.fn.dragend=function(t){return t=t||{},this.each(function(){var e=r(this).data("dragend");e?e.updateInstance(t):(e=new y(this,t),r(this).data("dragend",e)),"string"==typeof t&&e.swipe(t)}),this}),y}"function"==typeof define&&"object"===_typeof2(define.amd)&&define.amd?define(function(){return e(E.jQuery||E.Zepto)}):E.Dragend=e(E.jQuery||E.Zepto)}(window),function(l,d){var c=[];function t(e){var t="object"===_typeof2(e)?e.detail.page:e,n=document.querySelector(t),o=n.querySelector('[data-tab-contents="true"]');n?n.querySelector(".tabs")&&function(o,e,t){var n=e.querySelectorAll(".tab-items a"),a=e.querySelector(".tab-indicator"),i="true"===t.getAttribute("data-disable-swipe"),r=parseInt(t.getAttribute("data-tab-default",10));(isNaN(r)||r>n.length)&&(r=1);a.style.width="".concat(100/n.length,"%");var s={direction:"horizontal",minDragDistance:"100",preventDrag:i,duration:200,pageClass:"tab-content",onDragEnd:function(e,t,n){u(o,n+=1)}};c.push({page:o,dragend:new Dragend(t,s),currentTab:r}),l.setTimeout(function(){u(o,r)},10)}(t,n,o):console.error("The page ".concat(t," ")+"does not exists")}function u(e,t){for(var n=c.length-1;0<=n;n--)if(c[n].page===e){c[n].currentTab!==t&&(c[n].currentTab=t,d.navigator().callCallback("tabchanged",{page:e,tabNumber:t}));var o=document.querySelector(e).querySelector(".tab-indicator");if(o){var a=t-1;o.style.webkitTransform="translateX(".concat(a,"00%)"),o.style.MozTransform="translateX(".concat(a,"00%)"),o.style.msTransform="translateX(".concat(a,"00%)"),o.style.OTransform="translateX(".concat(a,"00%)"),o.style.transform="translateX(".concat(a,"00%)")}c[n].dragend.scrollToPage(t);break}}function f(e,t){if("string"!=typeof e)throw new Error("The first argument must be a string, ".concat(_typeof2(e)," given"));if("number"!=typeof t)throw new Error("The second argument must be a number, ".concat(_typeof2(t)," given"));l.setTimeout(function(){u(e,t)},10)}document.on("tap",function(e){for(var t=e.target,n=null;t&&t!==document;t=t.parentNode)if(t.classList.contains("tab-item")){n=t;break}if(n){for(var o=n.parentNode.parentNode,a=o.querySelectorAll(".tab-items a"),i=o.querySelector(".tab-indicator"),r=0,s=a.length;r<s&&n!==a[r];r++);var l="".concat(r,"00");i.style.webkitTransform="translateX(".concat(l,"%)"),i.style.MozTransform="translateX(".concat(l,"%)"),i.style.msTransform="translateX(".concat(l,"%)"),i.style.OTransform="translateX(".concat(l,"%)"),i.style.transform="translateX(".concat(l,"%)");var c=d.navigator().currentPage;f(c,r+1)}}),document.on("pagecreated",t),d.tab=function(){return{setCurrentTab:f,init:function(e){(e=void 0===e?d.navigator().currentPage:e)||console.error("The page ".concat(e," ")+"does not exists"),t(e)}}}}("undefined"!=typeof window?window:void 0,window.phonon||{});