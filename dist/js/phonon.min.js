"use strict";!function(t,e){var n={},i=[];n.onReady=function(t){i.push(t)},n.dispatchGlobalReady=function(){for(var t=i.length-1;t>=0;t--)i[t]();i=[],n.dispatchGlobalReady=e},function(){function n(t,n){n=n||{bubbles:!1,cancelable:!1,detail:e};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i}n.prototype=t.Event.prototype,t.CustomEvent=n}(),n.device=function(){var t=navigator.appVersion,e=navigator.userAgent,n="-",i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in i){var o=i[a];if(o.r.test(e)){n=o.s;break}}var r="-";switch(/Windows/.test(n)&&(r=/Windows (.*)/.exec(n)[1],n="Windows"),n){case"Mac OS X":r=/Mac OS X (10[\.\_\d]+)/.exec(e)[1];break;case"Android":r=/Android ([\.\_\d]+)/.exec(e)[1];break;case"iOS":r=/OS (\d+)_(\d+)_?(\d+)?/.exec(t),r=r[1]+"."+r[2]+"."+(0|r[3])}return{os:n,osVersion:r}}(),n.browser=function(){var t,e,n,i=navigator.userAgent,a=navigator.appName,o=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10);return-1!=(e=i.indexOf("Opera"))&&(a="Opera",o=i.substring(e+6),-1!=(e=i.indexOf("Version"))&&(o=i.substring(e+8))),-1!=(e=i.indexOf("OPR"))?(a="Opera",o=i.substring(e+4)):-1!=(e=i.indexOf("MSIE"))?(a="Microsoft Internet Explorer",o=i.substring(e+5)):-1!=(e=i.indexOf("Chrome"))?(a="Chrome",o=i.substring(e+7)):-1!=(e=i.indexOf("Safari"))?(a="Safari",o=i.substring(e+7),-1!=(e=i.indexOf("Version"))&&(o=i.substring(e+8))):-1!=(e=i.indexOf("Firefox"))?(a="Firefox",o=i.substring(e+8)):-1!=i.indexOf("Trident/")?(a="Microsoft Internet Explorer",o=i.substring(i.indexOf("rv:")+3)):(t=i.lastIndexOf(" ")+1)<(e=i.lastIndexOf("/"))&&(a=i.substring(t,e),o=i.substring(e+1),a.toLowerCase()==a.toUpperCase()&&(a=navigator.appName)),-1!=(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),r=parseInt(""+o,10),isNaN(r)&&(o=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10)),{name:a,version:o}}(),n.ajax=function(){var e=function(t){var e=null;try{e=new XMLHttpRequest,"withCredentials"in e&&t&&(e.withCredentials=!0)}catch(n){console.error(n)}return e},n=function(t){var e=null;try{e=JSON.parse(t)}catch(n){e=null}return e},i=function(t){var e,n="";for(e in t)n+=e+"="+t[e]+"&";var i=n.lastIndexOf("&");return-1!==i&&(t=n.substring(0,i)),n};return function(a){var o=a.method,r=a.url,s="boolean"==typeof a.crossDomain?a.crossDomain:!1,l=a.contentType,c=a.dataType,d=a.data,u=a.timeout,f=a.success,p=a.error,h=a.headers;if("string"!=typeof o)throw new TypeError("method must be a string");if("string"!=typeof r)throw new TypeError("url must be a string");if("object"==typeof d&&(d="application/json"===l?JSON.stringify(d):i(d)),"function"!=typeof f)throw new TypeError("success must be a function");var g=e(s),v="NO_INTERNET_ACCESS";if(g){if(g.open(o,r,!0),"string"==typeof l&&g.setRequestHeader("Content-type",l),"xml"===c&&g.overrideMimeType&&g.overrideMimeType("application/xml; charset=utf-8"),"object"==typeof h){var m;for(m in h)g.setRequestHeader(m,h[m])}g.onreadystatechange=function(e){if(4===g.readyState){var i=null;"json"===c?(i=n(g.responseText),null===i&&(v="JSON_MALFORMED")):i="xml"===c?g.responseXML:g.responseText;var a=g.status.toString();"2"===a[0]?f(i,g):"function"==typeof p&&t.setTimeout(function(){p(i,v,g)},1),g=null}},"number"==typeof u&&(g.timeout=u,g.ontimeout=function(){v="TIMEOUT_EXCEEDED"}),g.send(d)}else"function"==typeof p&&(v="XMLHTTPREQUEST_UNAVAILABLE",p(v));return{cancel:function(){v="REQUEST_CANCELED",g&&g.abort()}}}}(),n.event=function(){var i=["mousedown","mousemove","mouseup"],a=!1;("ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch)&&(a=!0,i=["touchstart","touchmove","touchend","touchcancel"]),t.navigator.pointerEnabled?i=["pointerdown","pointermove","pointerup","pointercancel"]:t.navigator.msPointerEnabled&&(i=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var o={};o.hasTouch=a,o.start=i[0],o.move=i[1],o.end=i[2],o.cancel="undefined"==typeof i[3]?null:i[3],o.tap="tap";var r=document.createElement("div"),s=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],l=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],c=null,d=null,u=s.length-1;for(u in s)if(r.style[s[u].name]!==e){c=s[u].end;break}var f=l.length-1;for(f in l)if(r.style[l[f].name]!==e){d=l[f].end;break}var p=n.device.osVersion;p.length>2&&(p=n.device.osVersion.substring(0,3)),"android"===n.device.os.toLowerCase()&&"4.1"===p&&(c="webkitTransitionEnd",d="webkitAnimationEnd"),o.transitionEnd=c,o.animationEnd=d;var h=[],g=function(){function t(t,e){this.el=t,this.callback=e,this.moved=!1,this.startX=0,this.startY=0,this.el.addEventListener(o.start,this,!1)}return t.prototype.start=function(t){this.el.addEventListener(o.move,this,!1),this.el.addEventListener(o.end,this,!1),this.moved=!1,this.startX=t.clientX||t.touches[0].clientX,this.startY=t.clientY||t.touches[0].clientY},t.prototype.move=function(t){var e=t.clientX||t.touches[0].clientX,n=t.clientY||t.touches[0].clientY;(Math.abs(e-this.startX)>10||Math.abs(n-this.startY)>10)&&(this.moved=!0)},t.prototype.end=function(t){this.el.removeEventListener(o.move,this,!1),this.el.removeEventListener(o.end,this,!1),null!==o.cancel&&this.el.removeEventListener(o.cancel,this,!1),this.moved||this.callback(t)},t.prototype.cancel=function(){this.moved=!1,this.startX=0,this.startY=0},t.prototype.off=function(){this.el.removeEventListener(o.start,this,!1),this.el.removeEventListener(o.move,this,!1),this.el.removeEventListener(o.end,this,!1),null!==o.cancel&&this.el.removeEventListener(o.cancel,this,!1)},t.prototype.handleEvent=function(t){switch(t.type){case o.start:this.start(t);break;case o.move:this.move(t);break;case o.end:this.end(t);break;case o.cancel:this.cancel(t)}},t}();return n.on=function(t,e,n,i){if(e===o.tap){var a=new g(t,n);return void h.push(a)}t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n,i)},t.on=document.on=HTMLElement.prototype.on=function(t,e,i){n.on(this,t,e,i)},n.off=function(t,e,n,i){if(e!==o.tap)t.removeEventListener?t.removeEventListener(e,n,i):t.attachEvent&&t.detachEvent("on"+e,n,i);else for(var a=h.length-1;a>=0;a--)if(h[a].el===t){h[a].off(),h.splice(a,1);break}},t.off=document.off=HTMLElement.prototype.off=function(t,e,i){n.off(this,t,e,i)},o}(),n.tagManager=function(){if("undefined"!=typeof riot){var t=[],e=function(e,n){e[0].tagName=n,t.push(e[0])},n=function(){return t},i=function(e,n,i){for(var a=[],o=t.length-1;o>=0;o--)if(t[o].tagName===e){a.push(n);var r=a.concat(i);t[o].trigger.apply(this,r);break}};return{addTag:e,getAll:n,trigger:i}}}(),n.options=function(t){var e=!1;"object"==typeof t.i18n&&null!==t.i18n&&(n.i18n(t.i18n),e=!0),t.navigator.useI18n=e,n.navigator(t.navigator)},n.alert=function(t,e,i,a){return n.dialog().alert(t,e,i,a)},n.confirm=function(t,e,i,a,o){return n.dialog().confirm(t,e,i,a,o)},n.prompt=function(t,e,i,a,o){return n.dialog().prompt(t,e,i,a,o)},n.indicator=function(t,e){return n.dialog().indicator(t,e)},n.updateLocale=function(t){var e="undefined"!=typeof riot;n.i18n().setPreference(t).getAll(function(t){if(e){for(var i=n.tagManager.getAll(),a=i.length-1;a>=0;a--)i[a].i18n=t;riot.update()}else n.i18n().bind()})},t.phonon=n,"object"==typeof exports?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return t.phonon=n})}("undefined"!=typeof window?window:this),function(t,e){function n(t){if(d.initCalled)throw new Error("The i18n module has already been instantiated");"string"==typeof t.directory&&(t.directory=-1!==t.directory.indexOf("/",t.directory.length-"/".length)?t.directory:t.directory+"/");var e;for(e in t)d[e]=t[e];d.initCalled=!0}function i(t){if(!d.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof t)throw new Error("callback must be a function");if(null!==c)return void t(c);var e=new XMLHttpRequest,n=d.localePreferred?d.localePreferred:d.localeFallback;e.open("GET",d.directory+n+".json",!0),e.overrideMimeType&&e.overrideMimeType("application/json; charset=utf-8"),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)c=JSON.parse(e.responseText),t(JSON.parse(e.responseText));else{if(!d.localePreferred)throw new Error("The default locale ["+d.directory+d.localeFallback+".json] file is not found");d.localePreferred=null,console.log("The language ["+n+"] is not available, loading "+d.localeFallback),i(function(e){c=e,t(e)})}},e.send("")}function a(t,e){if("string"!=typeof t&&!(t instanceof Array))throw new Error("key must be a string or an array");var n=t instanceof Array;if(null===c)i(function(i){if(n){for(var a=t.length,o=a-1,r={};o>=0;o--)r[t[o]]=i[t[o]];e(r)}else e(i[t])});else if(n){for(var a=t.length,o=a-1,r={};o>=0;o--)r[t[o]]=c[t[o]];e(r)}else e(c[t])}function o(t,n){var a=t||e,o=n;if(1===arguments.length&&"function"==typeof t&&(a=e,o=t),!u(a))throw new TypeError("Not valid element object "+a);var r=a.querySelectorAll("[data-i18n]");null===c?i(function(t){g(r,t),"function"==typeof o&&o()}):(g(r,c),"function"==typeof o&&o())}function r(t){if("string"!=typeof t)throw new Error("The language must be a string");return d.localePreferred=t,c=null,v}function s(){return d.localePreferred}function l(){return t.navigator.userLanguage||t.navigator.language}var c=null,d={localeFallback:null,localePreferred:t.navigator.userLanguage||t.navigator.language,directory:"./",initCalled:!1},u=function(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},f=function(t,e){"textContent"in t?t.textContent=e:t.innerText=e},p=function(t,e){t.value=e},h=function(t,e){t.setAttribute("placeholder",e)},g=function(t,e){for(var n=t.length-1;n>=0;n--)for(var i,a=t[n],o=a.getAttribute("data-i18n").trim(),r=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;i=r.exec(o);){var s=i[1].trim(),l=i[2].trim().replace(",","");if(void 0!==e[l])if("text"===s)f(a,e[l]);else if("value"===s)p(a,e[l]);else{if("placeholder"!==s)throw new Error("The property: "+s+" is unknown");h(a,e[l])}else console.error("The value: "+l+" does not exist in the JSON file")}},v={};v.init=n,v.getAll=i,v.get=a,v.bind=o,v.setPreference=r,v.getPreference=s,v.getLocale=l,phonon.i18n=function(t){return"object"==typeof t&&n(t),{getAll:function(t){return i(t),this},get:function(t,e){return a(t,e),this},bind:function(t,e){return o(t,e),this},setPreference:function(t){return r(t),this},getPreference:function(){return s()},getLocale:function(){return l()}}}}(window,document),function(t,e,n){function i(t){var e=document.createElement("script");e.text=t,document.head.appendChild(e).parentNode.removeChild(e)}function a(){if(q.animatePages){var t=this;t.classList.remove("page-sliding"),t.classList.remove("left"),t.off(n.event.animationEnd,a,!1),t.classList.remove("app-active")}c(M),d(_),N=!1}function o(){if(q.animatePages){var t=this;t.classList.remove("page-sliding"),t.classList.remove("right"),t.off(n.event.animationEnd,o,!1),t.classList.remove("app-active")}c(M),d(_),N=!1}function r(e,n,i){var a={detail:{page:n},bubbles:!0,cancelable:!0};"undefined"!=typeof i&&(a.detail.req=i);var o=new t.CustomEvent(e,a);document.dispatchEvent(o)}function s(t){I&&n.tagManager.trigger(t,"create"),r("pagecreated",t);var e=B(t);e.activity instanceof j&&"function"==typeof e.activity.onCreateCallback&&e.activity.onCreateCallback()}function l(e){var i=B(e);t.setTimeout(function(){I&&n.tagManager.trigger(e,"ready"),r("pageopened",e),i.activity instanceof j&&"function"==typeof i.activity.onReadyCallback&&i.activity.onReadyCallback()},i.readyDelay)}function c(t){I&&n.tagManager.trigger(t,"transitionend"),r("pagetransitionend",t);var e=B(t);e.activity instanceof j&&"function"==typeof e.activity.onTransitionEndCallback&&e.activity.onTransitionEndCallback()}function d(t){I&&n.tagManager.trigger(t,"hidden"),r("pagehidden",t);var e=B(t);e.activity instanceof j&&"function"==typeof e.activity.onHiddenCallback&&e.activity.onHiddenCallback()}function u(t,e){I&&n.tagManager.trigger(t,"tabchanged",e),r("pagetabchanged",t);var i=B(t);i.activity instanceof j&&"function"==typeof i.activity.onTabChangedCallback&&i.activity.onTabChangedCallback(e)}function f(e,i,a){function o(){r("pageclosed",e);var n=t.location.hash.split("#")[1];n!==a&&q.useHash?t.location.hash=a:L(a)}if(!b()){var s=B(e);if(!s.async)return void o(!0);var l={close:o};if(I&&n.tagManager.trigger(e,"close",l),s.activity instanceof j&&"function"==typeof s.activity.onCloseCallback)s.activity.onCloseCallback(l);else if(!I)throw new Error("The page "+s.name+" prevents close, but its callback (onClose) is undefined")}}function p(t,e){if("undefined"!=typeof e){I&&n.tagManager.trigger(t,"hashchanged",e),r("pagehash",t,e);var i=B(t);i.activity instanceof j&&"function"==typeof i.activity.onHashChangedCallback&&i.activity.onHashChangedCallback(e)}}function h(t,e){"tabchanged"===t&&u(e.page,e.tabNumber)}function g(t,a){if(I&&e.compile(function(){q.useI18n?n.i18n().getAll(function(i){n.tagManager.addTag(e.mount(t,{i18n:i}),t),a()}):(n.tagManager.addTag(e.mount(t,{i18n:null}),t),a())}),!I){var o=B(t);null!==o.content?v(o.content,function(e){var r=X(t),s=document.createElement("div");s.innerHTML=e;var l=s.querySelector(t);if(null===l)throw new Error("Error with "+o.content+" : the template for "+t+" must start with the parent node <"+t+' class="app-page">');for(var c=l.attributes,d=c.length-1;d>=0;d--){var u=c.item(d);"class"!==u.nodeName&&"app-page"!==u.nodeValue&&r.setAttribute(u.nodeName,u.nodeValue)}var f=function(t){for(var e=t.getElementsByTagName("script"),n=0;n<e.length;n++)i(e[n].innerHTML)};q.useI18n?n.i18n().bind(l,function(){r.innerHTML=l.innerHTML,f(s),a()}):(r.innerHTML=l.innerHTML,f(s),a())}):a()}}function v(t,e){var n=new XMLHttpRequest;n.overrideMimeType&&n.overrideMimeType("text/html; charset=utf-8"),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||!n.status&&n.responseText.length)&&e(n.responseText,q,t)},n.open("GET",q.templateRootDirectory+t,!0),n.send("")}function m(t,e){e="object"==typeof e?e:{};var n,i={name:t,mounted:!1,async:!1,activity:null,content:null,readyDelay:1};for(n in e)i[n]=e[n];return i}function y(t,e){e="object"==typeof e?e:{};var n=B(t);if(null===n)return P.push(m(t,e));var i;for(i in e)n[i]=e[i];return!0}function b(){return"undefined"!=typeof n.dialog&&n.dialog().closeActive()?!0:"undefined"!=typeof n.popover&&n.popover().closeActive()?!0:"undefined"!=typeof n.panel&&n.panel().closeActive()?!0:!("undefined"==typeof n.sidePanel||!n.sidePanel().closeActive())}function w(){var t={page:q.defaultPage,params:""};if(A.length>0){for(var e=-1,n=A.length-1;n>=0;n--)if(A[n].page===M){e=n-1;break}e>-1&&(t=A[e],A.slice(e,1))}return t}function x(t){O=!0;for(var e=t.target,n=null,i=!1,a="";e&&e!==document;e=e.parentNode){var o=e.getAttribute("data-navigation");if("undefined"!=typeof e.href&&-1!==e.href.indexOf("#!")){i=!0;break}if(o){n=o;break}}if((!i||!q.useHash)&&(null!==n||i)){var r=q.defaultPage;if(null!==n)if("$previous-page"===n){var s=w();r=s.page,a=s.params}else r=n;else{var l=e.href.match("/#"+q.hashPrefix+"([A-Za-z0-9-.]+)?(.*)/");l&&(r=l[1],a=l[2])}var c=q.hashPrefix+r;""!==a&&(c=c+"/"+a,c=c.replace("//","/")),f(M,r,c)}}function T(t,e){var i=X(t),r=X(e);r.classList.add("app-active"),q.animatePages?(i.classList.add("page-sliding"),W?(i.classList.add("left"),i.on(n.event.animationEnd,a,!1)):(i.classList.add("right"),i.on(n.event.animationEnd,o,!1))):(i.classList.remove("app-active"),W?a():o());for(var s=r.querySelectorAll(".content"),l=s.length-1;l>=0;l--){var c=s[l];null!==c&&0!==c.scrollTop&&(c.scrollTop=0)}e===q.defaultPage&&(A=[])}function E(t,e){if(N&&"function"==typeof e)return e();var i=B(t);D&&(N=!0,_=M,M=t),i.mounted?(l(t),T(_,t),"function"==typeof e&&e()):g(i.name,function(){if(i.mounted=!0,s(t),l(t),D||n.dispatchGlobalReady(),D&&T(_,t),!D){D=!0;var a=X(t);a.classList.contains("app-active")||a.classList.add("app-active")}"function"==typeof e&&e()})}function C(t){"string"==typeof t.templateRootDirectory&&""!==t.templateRootDirectory&&(t.templateRootDirectory=-1!==t.templateRootDirectory.indexOf("/",t.templateRootDirectory.length-"/".length)?t.templateRootDirectory:t.templateRootDirectory+"/"),"object"==typeof t.hashPrefix&&(t.hashPrefix="");var e;for(e in t)q[e]=t[e];q.enableBrowserBackButton&&(O=!0);for(var n=document.querySelectorAll("[data-page]"),i=n.length-1;i>=0;i--){var a=n[i];a.classList.contains("app-page")||a.classList.add("app-page"),y(a.tagName.toLowerCase())}}function S(){if(D)throw new Error("The app has been already started");var t=n.device.os.toLowerCase(),e="web";"android"===t?e="android":"ios"===t&&(e="ios"),document.body.classList.contains(e)||document.body.classList.add(e),L()}function k(e,n){var i=B(M),a=B(e);if(!a)throw new Error("The following page: "+e+" does not exists");var o="string"==typeof n?q.hashPrefix+a.name+"/"+n:q.hashPrefix+a.name;if(i.async)f(M,a.name,o);else{var r=t.location.hash.split("/");-1===r[0].indexOf(a.name)&&q.useHash&&(t.location.hash=o)}}function L(e){var n,i="string"==typeof e?e:t.location.href.split("#")[1]||"",a=i.split("/"),o=a.slice(1,a.length),r=a[0],s=q.hashPrefix.indexOf("/");-1!==s?(r="undefined"==typeof a[1]?"":a[1],o=a.slice(2,a.length),n=r.substring(s+1,r.length)):n=r.substring(q.hashPrefix.length,r.length);var l=B(n);if(D||l)!D&&l&&(M=l.name);else if(M=q.defaultPage,l=B(q.defaultPage),q.useHash)return void(t.location.hash=q.hashPrefix+q.defaultPage);if(l){if(b(),l.name===M&&D)return void p(l.name,o);if(D&&!O)return;for(var c=!1,d=A.length-1;d>=0;d--)if(A[d].page===l.name){c=!0;break}if(A.length>0?l.name===q.defaultPage&&(W=!1):W=!0,A.length>1&&A[A.length-2].page===l.name&&(W=!1),!c){var u=o.join("/");A.push({page:l.name,params:u})}"function"!=typeof l.callback||l.mounted||l.callback(l.activity),l.mounted?(E(l.name),p(l.name,o)):E(l.name,function(){p(l.name,o)}),q.enableBrowserBackButton||(O=!1)}}var P=[],A=[],D=!1,N=!1,M=null,_=null,W=!0,O=!1,I=void 0!==e,q={defaultPage:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1,useHash:!0},j=function(){function t(t){if("object"==typeof t){var e;for(e in t)void 0!==this[e]&&"constructor"!==this[e]&&(this[e+"Callback"]=t[e])}}return t.prototype.onCreate=function(t){this.onCreateCallback=t},t.prototype.onReady=function(t){this.onReadyCallback=t},t.prototype.onClose=function(t){this.onCloseCallback=function(e){t(e)}},t.prototype.onHidden=function(t){this.onHiddenCallback=t},t.prototype.onTransitionEnd=function(t){this.onTransitionEndCallback=t},t.prototype.onHashChanged=function(t){this.onHashChangedCallback=function(e){t.apply(this,e)}},t.prototype.onTabChanged=function(t){this.onTabChangedCallback=function(e){t(e)}},t}(),B=function(t){for(var e=P.length-1;e>=0;e--)if(P[e].name===t)return P[e];return null},X=function(t){for(var e=document.querySelectorAll("[data-page]"),n=e.length-1,i=null;n>=0;n--)if(e[n].tagName.toLowerCase()===t){i=e[n];break}return i};document.on("tap",x),q.useHash&&t.on("hashchange",L),document.on("backbutton",function(){var t=w();f(M,t.page,q.hashPrefix+t.page+"/"+t.params)}),n.navigator=function(e){return"object"==typeof e&&C(e),{currentPage:M,previousPage:_,start:S,changePage:function(e,n){O=!0;var i=b()?400:1;t.setTimeout(function(){k(e,n)},i)},on:function(t,e){if("string"!=typeof t.page)throw new Error("Page name must be a string");if("undefined"!=typeof t.preventClose&&"boolean"!=typeof t.preventClose)throw new Error("preventClose option must be a boolean");if("undefined"!=typeof t.readyDelay&&"number"!=typeof t.readyDelay)throw new Error("readyDelay option must be a number");var n=B(t.page),i=null!==n;i||(n=m(t.page)),"function"==typeof e||"object"==typeof e?n.activity=new j(e):n.activity=null,n.callback=e,n.async="boolean"==typeof t.preventClose?t.preventClose:!1,n.content="string"==typeof t.content?t.content:null,n.readyDelay="number"==typeof t.readyDelay?t.readyDelay:1,y(t.page.toLowerCase(),n)},callCallback:h}}}("undefined"!=typeof window?window:this,"undefined"!=typeof riot?riot:void 0,phonon),function(t){function e(e,n){var i=n.offsetHeight;n.style.maxHeight="0px",t.setTimeout(function(){var t=function(){n.off(phonon.event.transitionEnd,t);var i=e.parentNode.querySelector(".icon-expand-more");i&&(i.classList.remove("icon-expand-more"),i.classList.add("icon-expand-less"))};n.on(phonon.event.transitionEnd,t),n.style.maxHeight=i+"px",n.classList.add("accordion-active")},100)}function n(t,e){var n=function(){e.classList.remove("accordion-active"),e.style.maxHeight="none";var i=t.parentNode.querySelector(".icon-expand-less");i&&(i.classList.remove("icon-expand-less"),i.classList.add("icon-expand-more")),e.off(phonon.event.transitionEnd,n)};e.style.maxHeight="0px",e.on(phonon.event.transitionEnd,n)}function i(t){for(;t&&t!==document;t=t.parentNode)if(t.nextElementSibling&&t.nextElementSibling.classList.contains("accordion-content"))return{defaultTarget:t,accordionContent:t.nextElementSibling};return null}function a(t){var a=i(t.target);null!==a&&(a.accordionContent.classList.contains("accordion-active")?n(a.defaultTarget,a.accordionContent):e(a.defaultTarget,a.accordionContent))}document.on("pagecreated",function(t){var e=document.querySelector(t.detail.page);e.querySelector(".accordion-content")&&e.on("tap",a)}),document.on("pageclosed",function(t){for(var e=document.querySelector(t.detail.page),n=e.querySelectorAll(".accordion-active"),i=(n.length,0);i<n.length;i++){var o=n[i].previousElementSibling;a({target:o})}})}("undefined"!=typeof window?window:this),function(){function t(t,e){for(var n in t){var i=t[n],a=this.input.getAttribute("data-"+n.toLowerCase());"number"==typeof i?this[n]=parseInt(a):i===!1?this[n]=null!==a:i instanceof Function?this[n]=null:this[n]=a,this[n]||0===this[n]||(this[n]=n in e?e[n]:i)}}function e(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function n(t,e){return o.call((e||document).querySelectorAll(t))}function i(){n("input.awesomplete").forEach(function(t){new a(t)})}var a=function(n,i){var o=this;this.input=e(n),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),i=i||{},t.call(this,{minChars:2,maxItems:10,autoFirst:!1,filter:a.FILTER_CONTAINS,sort:a.SORT_BYLENGTH,item:function(t,n){var i=""===n?t:t.replace(RegExp(e.regExpEscape(n.trim()),"gi"),"<mark>$&</mark>");return e.create("li",{innerHTML:i,"aria-selected":"false"})},replace:function(t){this.input.value=t}},i),this.index=-1,this.container=e.create("div",{className:"awesomplete",around:n}),this.ul=e.create("ul",{className:"list",hidden:"hidden",inside:this.container}),this.status=e.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),e.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(t){var e=t.keyCode;o.opened&&(13===e&&o.selected?(t.preventDefault(),o.select()):27===e?o.close():38!==e&&40!==e||(t.preventDefault(),o[38===e?"previous":"next"]()))}}),e.bind(this.input.form,{submit:this.close.bind(this)}),e.bind(this.ul,{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&o.select(e,t)}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||i.list||[],a.all.push(this)};a.prototype={set list(t){Array.isArray(t)?this._list=t:"string"==typeof t&&t.indexOf(",")>-1?this._list=t.split(/\s*,\s*/):(t=e(t),t&&t.children&&(this._list=o.apply(t.children).map(function(t){return t.textContent.trim()}))),document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.ul&&null==this.ul.getAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,e.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this["goto"](0),e.fire(this.input,"awesomplete-open")},next:function(){var t=this.ul.children.length;this["goto"](this.index<t-1?this.index+1:-1)},previous:function(){var t=this.ul.children.length;this["goto"](this.selected?this.index-1:t-1)},"goto":function(t){var n=this.ul.children;this.selected&&n[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&n.length>0&&(n[t].setAttribute("aria-selected","true"),this.status.textContent=n[t].textContent),e.fire(this.input,"awesomplete-highlight")},select:function(t,n){if(t=t||this.ul.children[this.index]){var i;e.fire(this.input,"awesomplete-select",{text:t.textContent,preventDefault:function(){i=!0},originalEvent:n}),i||(this.replace(t.textContent),this.close(),e.fire(this.input,"awesomplete-selectcomplete"))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this._list.filter(function(n){return t.filter(n,e)}).sort(this.sort).every(function(n,i){return t.ul.appendChild(t.item(n,e)),i<t.maxItems-1}),0===this.ul.children.length?this.close():this.open()):this.close()}},a.all=[],a.FILTER_CONTAINS=function(t,n){return RegExp(e.regExpEscape(n.trim()),"i").test(t)},a.FILTER_STARTSWITH=function(t,n){return RegExp("^"+e.regExpEscape(n.trim()),"i").test(t)},a.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:e>t?-1:1};var o=Array.prototype.slice;return e.create=function(t,n){var i=document.createElement(t);for(var a in n){var o=n[a];if("inside"===a)e(o).appendChild(i);else if("around"===a){var r=e(o);r.parentNode.insertBefore(i,r),i.appendChild(r)}else a in i?i[a]=o:i.setAttribute(a,o)}return i},e.bind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach(function(e){t.addEventListener(e,i)})}},e.fire=function(t,e,n){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0);for(var a in n)i[a]=n[a];t.dispatchEvent(i)},e.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},"undefined"!=typeof Document&&("loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i)),a.$=e,a.$$=n,"undefined"!=typeof self&&(self.Awesomplete=a),"object"==typeof module&&module.exports&&(module.exports=a),a}(),function(t,e){e.autocomplete=function(t,e){new Awesomplete(t,e)}}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e){function n(t,e){for(var n=0;n<c.length;n++)if(c[n].dialog===t){c[n].cancelCallback=e;break}}function i(){var t=h(this.getAttribute("data-id")),n=t.backdrop;n.classList.remove("fadeout"),document.body.removeChild(n);var a=t.dialog;a.style.visibility="hidden",a.classList.remove("close"),c.splice(t.index,1),this.off(e.event.transitionEnd,i,!1)}function a(e){var n=getComputedStyle(e),i=n.width,a=n.height;i=i.slice(0,i.length-2),a=a.slice(0,a.length-2);var o=t.innerHeight/2-a/2;e.style.top=o+"px"}function o(t){if(t.style.visibility="visible",!t.classList.contains("active")){a(t),t.classList.add("active");var n=t.querySelector(".circle-progress");n&&e.preloader(n).show();var i=d(t.id);c.push({dialog:t,backdrop:i}),document.body.appendChild(i)}}function r(n){if(n.classList.contains("active")){n.classList.remove("active"),n.classList.add("close");var a=n.querySelector(".circle-progress");a&&e.preloader(a).hide();var o=h(n.id),r=o.backdrop;r.on(e.event.transitionEnd,i,!1),t.setTimeout(function(){r.classList.add("fadeout")},1)}}function s(t,e,i){var a=function(){var e=t.querySelector("input"),n=void 0;e&&(n=e.value),i(n),this.off("tap",a)};if("confirm"===e){var o=t.querySelector(".btn-confirm");o&&o.on("tap",a)}else{n(t,i);var r=t.querySelector(".btn-cancel");r&&r.on("tap",a)}}var l=!1,c=[],d=function(t){var e=document.createElement("div");return e.setAttribute("data-id",t),e.classList.add("backdrop-dialog"),e},u=function(t){for(var e,n=document.querySelectorAll("[data-dialog-id], [data-dialog-close]");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t)return t},f=function(t){var e=u(t.target);if(e){var n=e.getAttribute("data-dialog-id");return n?document.querySelector("#"+n):p(t.target)}},p=function(t){for(var e,n=document.querySelectorAll(".dialog");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t&&t.classList.contains("active"))return t},h=function(t){for(var e=c.length-1;e>=0;e--)if(c[e].dialog.id===t){var n=c[e];return n.index=e,n}return!1},g=function(t,e,n,i,a,o){e="string"==typeof e?"<p>"+e+"</p>":"";var r=typeof n;n="string"===r?n:t,i="boolean"==typeof i?i:!0,a="string"==typeof a?a:"Ok",o="string"==typeof o?o:"Cancel";var s="auto-gen-"+t,l=document.createElement("div");l.setAttribute("class","dialog"),l.setAttribute("data-cancelable",i),l.id=s;var c=void 0===r?"":"<h3>"+n+"</h3>",d='<li><a class="btn btn-flat btn-cancel" data-dialog-close="true">'+o+"</a></li>",u="",f="";"alert"===t?d="":"prompt"===t?u='<input type="text" placeholder="Value">':"indicator"===t&&(e="",f='<div class="circle-progress active padded-bottom"><div class="spinner"></div></div>');var p="indicator"===t?"":'<ul class="buttons">'+d+'<li><a class="btn btn-flat primary btn-confirm" data-dialog-close="true">'+a+"</a></li></ul>",h='<div class="content"><div class="padded-full">'+c+e+u+f+"</div></div>"+p;return l.innerHTML=h,document.body.appendChild(l),l};document.on(e.event.start,function(t){if(c.length>0){var e=c[c.length-1],n=p(t.target);n||"false"!==e.dialog.getAttribute("data-cancelable")&&(r(e.dialog),"function"==typeof e.cancelCallback&&e.cancelCallback()),n&&n!==e.dialog&&n.id!==e.dialog.id&&r(e.dialog)}}),document.on("tap",function(t){var e=u(t.target),n=null;e&&(n=f(t),l=e,n&&(n.classList.contains("active")?r(n):o(n)))}),document.on("keypress",function(t){if(c.length>0&&(13==t.which||13==t.keyCode)){var e=c[c.length-1];return r(e.dialog),!1}return!0}),e.dialog=function(t){if("undefined"==typeof t)return{closeActive:function(){var t=c.length>0;if(t){var e=c[c.length-1].dialog;"false"!==e.getAttribute("data-cancelable")&&r(e)}return t},alert:function(t,e,n,i){var a=g("alert",t,e,n,i);return o(a),{on:function(t,e){s(a,t,e)}}},confirm:function(t,e,n,i,a){var r=g("confirm",t,e,n,i,a);return o(r),{on:function(t,e){s(r,t,e)}}},prompt:function(t,e,n,i,a){var r=g("prompt",t,e,n,i,a);return o(r),{on:function(t,e){s(r,t,e)}}},indicator:function(t,e){var n=g("indicator","",t,e);return o(n),{on:function(t,e){return s(n,t,e),this},open:function(){return o(n),this},close:function(){return r(n),this}}}};var e="string"==typeof t?document.querySelector(t):t;if(null===e)throw new Error("The following element "+t+" does not exists");return{open:function(){return o(e),this},close:function(){return r(e),this},on:function(t,n){
return s(e,t,n),this},isActive:function(){return!!e.classList.contains("active")}}},t.phonon=e,"object"==typeof exports?module.exports=e.dialog:"function"==typeof define&&define.amd&&define(function(){return e.dialog})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e){function n(t){if(!r(t))throw new Error("The page must be a DOMElement not a "+typeof t);var e=t.querySelector(".content");e?e.on("scroll",o,!1):console.error("The given page does not contain any .content node")}var i=0,a=0,o=function(t){t=t.originalEvent||t;var e=t.target;a=e.offsetHeight;var n=document.querySelectorAll(".app-active .floating-action");if(n){for(var o=n.length,r=o-1;r>=0;r--){var s=n[r];i>e.scrollTop?s.classList.contains("active")||s.classList.add("active"):s.classList.contains("active")&&s.classList.remove("active")}i=e.scrollTop}},r=function(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName};document.on("pagecreated",function(t){for(var e=document.querySelectorAll(t.detail.page+" .floating-action"),i=e.length-1;i>=0;i--)for(var a=document.querySelectorAll(".app-page"),o=a.length-1;o>=0;o--){var r=a[o];if(r.tagName.toLowerCase()===t.detail.page){n(r);break}}})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t){function e(t){t.on("focus",n),t.on("blur",i)}function n(t){t.target.parentNode.classList.add("input-filled")}function i(t){""===t.target.value.trim()&&t.target.parentNode.classList.remove("input-filled")}function a(t){""===t.value.trim()||t.parentNode.classList.contains("input-filled")||t.parentNode.classList.add("input-filled")}document.on("pagecreated",function(t){for(var n=document.querySelector(t.detail.page),i=n.querySelectorAll("input.with-label"),o=i.length-1;o>=0;o--)e(i[o]),a(i[o])}),document.on("pageopened",function(t){for(var e=document.querySelector(t.detail.page),n=e.querySelectorAll("input.with-label"),i=n.length-1;i>=0;i--)a(n[i])})}("undefined"!=typeof window?window:this),function(t,e){function n(){var i=this,a=i.getAttribute("data-timeout");if(a)if(isNaN(parseInt(a)))console.error("Attribute data-timeout must be a number");else{var o=i.querySelector(".progress");if(o){o.classList.contains("active")||o.classList.add("active");var s=o.querySelector(".determinate");s.style.width="0",s.style.transitionDuration=a+"ms",t.setTimeout(function(){s.style.width="100%"},1)}t.setTimeout(function(){r(i)},parseInt(a))}i.off(e.event.transitionEnd,n,!1)}function i(){var n=this;n.style.zIndex=28;var o=n.clientHeight;n.style.webkitTransform="translateY("+o+"px)",n.style.MozTransform="translateY("+o+"px)",n.style.msTransform="translateY("+o+"px)",n.style.OTransform="translateY("+o+"px)",n.style.transform="translateY("+o+"px)";var r=a(n);r>=0&&s.splice(r,1);for(var l=s.length-1;l>=0;l--){var c=l*o;s[l].style.webkitTransform="translateY(-"+c+"px)",s[l].style.MozTransform="translateY(-"+c+"px)",s[l].style.msTransform="translateY(-"+c+"px)",s[l].style.OTransform="translateY(-"+c+"px)",s[l].style.transform="translateY(-"+c+"px)"}var d=n.querySelector(".determinate");d&&(d.style.width="0",d.style.transitionDuration="0ms"),n.off(e.event.transitionEnd,i,!1),"true"===n.getAttribute("data-autodestroy")&&t.setTimeout(function(){document.body.removeChild(n)},500)}function a(t){for(var e=s.length-1;e>=0;e--)if(s[e]===t)return e;return-1}function o(i){if(i.classList.contains("show"))return!1;t.setTimeout(function(){i.classList.add("show")},1),i.style.zIndex=28+s.length;var a=0;if(s.length>0){var o=s[s.length-1];a=s.length*o.clientHeight}i.style.webkitTransform="translateY(-"+a+"px)",i.style.MozTransform="translateY(-"+a+"px)",i.style.msTransform="translateY(-"+a+"px)",i.style.OTransform="translateY(-"+a+"px)",i.style.transform="translateY(-"+a+"px)",s.push(i);var r=document.querySelector(".app-active .floating-action");r&&(r.style.webkitTransform="translateY(-48px)",r.style.MozTransform="translateY(-48px)",r.style.msTransform="translateY(-48px)",r.style.OTransform="translateY(-48px)",r.style.transform="translateY(-48px)"),i.on(e.event.transitionEnd,n,!1)}function r(t){if(t.classList.contains("show")){t.classList.remove("show"),t.on(e.event.transitionEnd,i,!1);var n=document.querySelector(".app-active .floating-action");n&&(n.style.webkitTransform="translateY(0)",n.style.MozTransform="translateY(0)",n.style.msTransform="translateY(0)",n.style.OTransform="translateY(0)",n.style.transform="translateY(0)")}}var s=[],l=function(t){for(;t&&t!==document;t=t.parentNode)if(t.classList.contains("notification"))return t},c=function(){for(var t="",e="abcdefghijklmnopqrstuvwxyz",n=0;8>n;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},d=function(t,e,n,i){"string"!=typeof t&&(t=""),e="number"==typeof e?e:5e3,i="string"==typeof i?i:"CANCEL";var a='<div class="progress"><div class="determinate"></div></div>',o=n===!0?'<button class="btn pull-right" data-hide-notif="true">'+i+"</button>":"",r=document.createElement("div");return r.setAttribute("class","notification"),r.setAttribute("data-autodestroy","true"),e&&r.setAttribute("data-timeout",e),r.id=c(),r.innerHTML=a+o+t,document.body.appendChild(r),document.querySelector("#"+r.id)};document.on("tap",function(t){var e=t.target;if("true"===e.getAttribute("data-hide-notif")){var n=l(e);n&&r(n)}}),e.notif=function(t,e,n){if(arguments.length>1)return o(d(t,e,n));var i="string"==typeof t?document.querySelector(t):t;if(null===i)throw new Error("The notification with ID "+t+" does not exist");return{show:function(){o(i)},hide:function(){r(i)}}},t.phonon=e,"object"==typeof exports?module.exports=e.notif:"function"==typeof define&&define.amd&&define(function(){return e.notif})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e,n,i){function a(){e.body.removeChild(this);var t=u(this.getAttribute("data-backdrop-for"));s.splice(t.index,1),this.off(n.event.transitionEnd,a,!1)}function o(t){if(t.style.visibility="visible",!t.classList.contains("active")){t.classList.add("active");var n=l(t.getAttribute("id"));e.body.appendChild(n),s.push({panel:t,backdrop:n})}}function r(t){if(t.classList.contains("active")){t.classList.remove("active"),t.classList.add("panel-closing");var e=function(){t.classList.remove("panel-closing"),t.off(n.event.transitionEnd,e)};t.on(n.event.transitionEnd,e);var i=u(t.getAttribute("id"));i&&(i.backdrop.classList.add("fadeout"),i.backdrop.on(n.event.transitionEnd,a,!1))}}var s=[],l=function(t){var n=e.createElement("div");return n.classList.add("backdrop-panel"),n.setAttribute("data-backdrop-for",t),n},c=function(t){for(var n,i=e.querySelectorAll("[data-panel-id], [data-panel-close]");t&&t!==e;t=t.parentNode)for(n=i.length;n--;)if(i[n]===t)return t},d=function(t){var n=c(t.target);if(n){var i=n.getAttribute("data-panel-id");return i?e.querySelector("#"+i):f(t.target)}},u=function(t){for(var e=s.length,n=0;e>n;n++)if(s[n].panel.getAttribute("id")===t){var i=s[n];return i.index=n,i}return null},f=function(t){for(var n,i=e.querySelectorAll(".panel, .panel-full");t&&t!==e;t=t.parentNode)for(n=i.length;n--;)if(i[n]===t&&t.classList.contains("active"))return t},p=function(t){for(;t&&t!==e;t=t.parentNode)if(t.classList.contains("dialog")||t.classList.contains("backdrop-dialog"))return!0;return!1};e.on(n.event.start,function(t){if(t=t.originalEvent||t,!(t.target.classList.contains("notification")||t.parentNode&&t.target.parentNode.classList.contains("notification"))&&!p(t.target)&&s.length>0){var e=s[s.length-1].panel,n=f(t.target);n||r(e),n&&n!==e&&n.id!==e.id&&r(e)}}),e.on(n.event.tap,function(t){if(!(t.target.classList.contains("notification")||t.parentNode&&t.target.parentNode.classList.contains("notification")||p(t.target))){var e=c(t.target),n=null;if(e&&(n=d(t),n&&(n.classList.contains("active")?r(n):o(n))),n=f(t.target),!n&&!e&&s.length>0){var i=s[s.length-1].panel;f(t.target);r(i)}}}),n.panel=function(t){if("undefined"==typeof t)return{closeActive:function(){var t=s.length>0;return t&&r(s[s.length-1].panel),t}};var n="string"==typeof t?e.querySelector(t):t;if(null===n)throw new Error("The panel with ID "+t+" does not exist");return{open:function(){o(n)},close:function(){r(n)}}},t.phonon=n,"object"==typeof exports?module.exports=n.panel:"function"==typeof define&&define.amd&&define(function(){return n.panel})}(window,document,window.phonon||{}),function(t,e){function n(){var t=document.querySelector(".app-active");null!==t.querySelector("div.backdrop-popover")&&t.removeChild(l),r.style.visibility="hidden",r=null}function i(e,n){if(void 0===n&&(n="left"),s=!0,e.style.visibility="visible",e.querySelector("ul").scrollTop=0,r=e,!e.classList.contains("active")){var i=document.querySelector(".app-page.app-active"),a=i.currentStyle||t.getComputedStyle(i);if("title"===n||"title-left"===n){var o=i.querySelector(".header-bar");e.style.top=o.offsetHeight+"px","title"===n?e.style.left=o.clientWidth/2+parseInt(a.marginLeft)-e.clientWidth/2+"px":e.style.left=16+parseInt(a.marginLeft)+"px"}else if("left"===n||"right"===n)e.style.top="12px","left"===n?e.style.left=16+parseInt(a.marginLeft)+"px":(e.style.left="auto",e.style.right="16px");else{var c=document.querySelector('.btn-popover[data-popover-id="'+e.id+'"]'),d=c.getBoundingClientRect();e.style.width=c.clientWidth+"px",e.style.top=d.top+"px",e.style.left=d.left+"px"}e.classList.contains("active")||e.classList.add("active"),i.appendChild(l)}}function a(e){s=!1,r=e,e.classList.contains("active")&&(e.classList.toggle("active"),t.setTimeout(function(){n()},250))}var o=!1,r=null,s=!1,l=document.createElement("div");l.classList.add("backdrop-popover");var c=function(t){for(var e={target:null,id:null,direction:null};t&&t!==document;t=t.parentNode){var n=t.getAttribute("data-popover-id");if(null!==n){e.target=t,e.id=n,e.direction="left",!t.classList.contains("title")&&t.classList.contains("pull-left")?e.direction="left":!t.classList.contains("title")&&t.parentNode.classList.contains("pull-left")?e.direction="left":t.classList.contains("title")&&t.classList.contains("pull-left")?e.direction="title-left":t.parentNode&&t.parentNode.classList.contains("pull-left")&&t.classList.contains("title")?e.direction="title-left":t.classList.contains("pull-right")?e.direction="right":t.parentNode&&t.parentNode.classList.contains("pull-right")?e.direction="right":t.classList.contains("center")?e.direction="title":t.parentNode&&t.parentNode.classList.contains("center")?e.direction="title":e.direction="button";break}}return e},d=function(t){for(var e,n=document.querySelectorAll(".popover");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t&&t.classList.contains("active"))return t},u=function(t){for(;t&&t!==document;t=t.parentNode)if(t===r)return!0;return!1};document.on(e.event.start,function(t){t=t.originalEvent||t;var e=d(t.target);!e&&s&&a(r),o=!1}),document.on(e.event.move,function(t){t=t.originalEvent||t,o=!0}),document.on(e.event.end,function(t){var e=t.target,n=c(e);if(n.target){var s=document.querySelector("#"+n.id);s&&(s.classList.contains("active")&&!o?a(s):i(s,n.direction))}if(null!==e.parentNode&&u(e)&&!o){a(r),t=new CustomEvent("itemchanged",{detail:{item:e.textContent,target:t.target},bubbles:!0,cancelable:!0});for(var l=document.querySelectorAll('[data-popover-id="'+r.id+'"]'),d=l.length-1;d>=0;d--){var n=l[d];"true"===n.getAttribute("data-autobind")&&("textContent"in n?n.textContent=e.textContent:n.innerText=e.innerText)}r.dispatchEvent(t)}}),e.popover=function(t){if("undefined"==typeof t)return{closeActive:function(){var t=!!r;return t&&a(r),t}};var e="string"==typeof t?document.querySelector(t):t;if(null===e)throw new Error("The popover with ID "+t+" does not exist");return{open:function(){i(e)},close:function(){a(e)}}},t.phonon=e,"object"==typeof exports?module.exports=e.popover:"function"==typeof define&&define.amd&&define(function(){return e.popover})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e){function n(t){t.classList.contains("active")||(t.style.visibility="visible",t.classList.add("active"))}function i(){this.style.visibility="hidden",this.off(e.event.transitionEnd,i)}function a(t){t.classList.contains("active")&&(t.classList.remove("active"),t.on(e.event.transitionEnd,i))}e.preloader=function(t){var e="string"==typeof t?document.querySelector(t):t;if(null===e)throw new Error("The preloader with ID "+t+" does not exist");return{show:function(){n(e)},hide:function(){a(e)}}},t.phonon=e,"object"==typeof exports?module.exports=e.preloader:"function"==typeof define&&define.amd&&define(function(){return e.preloader})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e){var n=null,i=i||function(i){var a={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},o={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},r={},s={hasTouch:"ontouchstart"in e.documentElement||t.navigator.msPointerEnabled,eventType:function(t){var e={down:s.hasTouch?"touchstart":"mousedown",move:s.hasTouch?"touchmove":"mousemove",up:s.hasTouch?"touchend":"mouseup",out:s.hasTouch?"touchcancel":"mouseout"};return e[t]},page:function(t,e){return s.hasTouch&&e.touches.length&&e.touches[0]?e.touches[0]["page"+t]:e["page"+t]},klass:{has:function(t,e){return-1!==t.className.indexOf(e)},add:function(t,e){!s.klass.has(t,e)&&a.addBodyClasses&&(t.className+=" "+e)},remove:function(t,e){a.addBodyClasses&&(t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(t){return"function"==typeof r[t]?r[t].call():void 0},createBackdrop:function(){if(!n){var t=document.createElement("div");t.classList.add("backdrop-panel"),n=t,document.querySelector(".app-active").appendChild(n)}},removeBackdrop:function(){if(n){var t=n;n=null;var e=document.querySelector(".app-active"),i=function(){t.classList.remove("fadeout"),e.removeChild(t),t.off(phonon.event.transitionEnd,i)};t.classList.add("fadeout"),t.on(phonon.event.transitionEnd,i)}},vendor:function(){var t,n=e.createElement("div"),i="webkit Moz O ms".split(" ");for(t in i)if("undefined"!=typeof n.style[i[t]+"Transition"])return i[t]},transitionCallback:function(){return"Moz"===o.vendor||"ms"===o.vendor?"transitionend":o.vendor+"TransitionEnd"},canTransform:function(){return"undefined"!=typeof a.element.style[o.vendor+"Transform"]},deepExtend:function(t,e){var n;for(n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},s.deepExtend(t[n],e[n])):t[n]=e[n];return t},angleOfDrag:function(t,e){var n,i;return i=Math.atan2(-(o.startDragY-e),o.startDragX-t),0>i&&(i+=2*Math.PI),n=Math.floor(i*(180/Math.PI)-180),0>n&&n>-180&&(n=360-Math.abs(n)),Math.abs(n)},events:{addEvent:function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):void 0},removeEvent:function(t,e,n){return t.addEventListener?t.removeEventListener(e,n,!1):t.attachEvent?t.detachEvent("on"+e,n):void 0},prevent:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},parentUntil:function(t,e){for(var n="string"==typeof e;t.parentNode;){if(n&&t.getAttribute&&t.getAttribute(e))return t;if(!n&&t===e)return t;t=t.parentNode}return null}},l={translate:{get:{matrix:function(e){if(s.canTransform()){var n=t.getComputedStyle(a.element)[o.vendor+"Transform"].match(/\((.*)\)/),i=8;return n?(n=n[1].split(","),16===n.length&&(e+=i),parseInt(n[e],10)):0}return parseInt(a.element.style.left,10)}},easeCallback:function(){a.element.style[o.vendor+"Transition"]="",o.translation=l.translate.get.matrix(4),o.easing=!1,clearInterval(o.animatingInterval),0===o.easingTo&&(s.klass.remove(e.body,"snapjs-right"),s.klass.remove(e.body,"snapjs-left")),s.dispatchEvent("animated"),s.events.removeEvent(a.element,s.transitionCallback(),l.translate.easeCallback)},easeTo:function(t){0===t&&s.removeBackdrop(),s.canTransform()?(o.easing=!0,o.easingTo=t,a.element.style[o.vendor+"Transition"]="all "+a.transitionSpeed+"s "+a.easing,o.animatingInterval=setInterval(function(){s.dispatchEvent("animating")},1),s.events.addEvent(a.element,s.transitionCallback(),l.translate.easeCallback),l.translate.x(t)):(o.translation=t,l.translate.x(t)),0===t&&(a.element.style[o.vendor+"Transform"]="")},x:function(n){if(!("left"===a.disable&&n>0||"right"===a.disable&&0>n))if(a.hyperextensible||(n===a.maxPosition||n>a.maxPosition?n=a.maxPosition:(n===a.minPosition||n<a.minPosition)&&(n=a.minPosition)),n=parseInt(n,10),isNaN(n)&&(n=0),s.canTransform()){var i="translate3d("+n+"px, 0,0)";a.element.style[o.vendor+"Transform"]=i}else a.element.style.width=(t.innerWidth||e.documentElement.clientWidth)+"px",a.element.style.left=n+"px",a.element.style.right=""}},drag:{listen:function(){o.translation=0,o.easing=!1,s.events.addEvent(a.element,s.eventType("down"),l.drag.startDrag),s.events.addEvent(a.element,s.eventType("move"),l.drag.dragging),s.events.addEvent(a.element,s.eventType("up"),l.drag.endDrag)},stopListening:function(){s.events.removeEvent(a.element,s.eventType("down"),l.drag.startDrag),s.events.removeEvent(a.element,s.eventType("move"),l.drag.dragging),s.events.removeEvent(a.element,s.eventType("up"),l.drag.endDrag)},startDrag:function(t){var e=t.target?t.target:t.srcElement,n=s.parentUntil(e,"data-snap-ignore");if(n)return void s.dispatchEvent("ignore");if(a.dragger){var i=s.parentUntil(e,a.dragger);if(!i&&o.translation!==a.minPosition&&o.translation!==a.maxPosition)return}s.dispatchEvent("start"),a.element.style[o.vendor+"Transition"]="",o.isDragging=!0,o.hasIntent=null,o.intentChecked=!1,o.startDragX=s.page("X",t),o.startDragY=s.page("Y",t),o.dragWatchers={current:0,last:0,hold:0,state:""},o.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(t){if(o.isDragging&&a.touchToDrag){var n,i=s.page("X",t),r=s.page("Y",t),c=o.translation,d=l.translate.get.matrix(4),u=i-o.startDragX,f=d>0,p=u;if(o.intentChecked&&!o.hasIntent)return;if(a.addBodyClasses&&(d>0?(s.klass.add(e.body,"snapjs-left"),s.klass.remove(e.body,"snapjs-right")):0>d&&(s.klass.add(e.body,"snapjs-right"),s.klass.remove(e.body,"snapjs-left"))),o.hasIntent===!1||null===o.hasIntent){var h=s.angleOfDrag(i,r),g=h>=0&&h<=a.slideIntent||360>=h&&h>360-a.slideIntent,v=h>=180&&h<=180+a.slideIntent||180>=h&&h>=180-a.slideIntent;v||g?o.hasIntent=!0:o.hasIntent=!1,o.intentChecked=!0}if(a.minDragDistance>=Math.abs(i-o.startDragX)||o.hasIntent===!1)return;s.events.prevent(t),s.dispatchEvent("drag"),o.dragWatchers.current=i,o.dragWatchers.last>i?("left"!==o.dragWatchers.state&&(o.dragWatchers.state="left",o.dragWatchers.hold=i),o.dragWatchers.last=i):o.dragWatchers.last<i&&("right"!==o.dragWatchers.state&&(o.dragWatchers.state="right",o.dragWatchers.hold=i),o.dragWatchers.last=i),f?(a.maxPosition<d&&(n=(d-a.maxPosition)*a.resistance,p=u-n),o.simpleStates={opening:"left",towards:o.dragWatchers.state,hyperExtending:a.maxPosition<d,halfway:d>a.maxPosition/2,flick:Math.abs(o.dragWatchers.current-o.dragWatchers.hold)>a.flickThreshold,translation:{absolute:d,relative:u,sinceDirectionChange:o.dragWatchers.current-o.dragWatchers.hold,percentage:d/a.maxPosition*100}}):(a.minPosition>d&&(n=(d-a.minPosition)*a.resistance,p=u-n),o.simpleStates={opening:"right",towards:o.dragWatchers.state,hyperExtending:a.minPosition>d,halfway:d<a.minPosition/2,flick:Math.abs(o.dragWatchers.current-o.dragWatchers.hold)>a.flickThreshold,translation:{absolute:d,relative:u,sinceDirectionChange:o.dragWatchers.current-o.dragWatchers.hold,percentage:d/a.minPosition*100}}),l.translate.x(p+c)}p>5&&s.createBackdrop()},endDrag:function(t){if(o.isDragging){s.dispatchEvent("end");var e=l.translate.get.matrix(4);if(0===o.dragWatchers.current&&0!==e&&a.tapToClose)return s.dispatchEvent("close"),s.events.prevent(t),l.translate.easeTo(0),o.isDragging=!1,void(o.startDragX=0);"left"===o.simpleStates.opening?o.simpleStates.halfway||o.simpleStates.hyperExtending||o.simpleStates.flick?o.simpleStates.flick&&"left"===o.simpleStates.towards?l.translate.easeTo(0):(o.simpleStates.flick&&"right"===o.simpleStates.towards||o.simpleStates.halfway||o.simpleStates.hyperExtending)&&l.translate.easeTo(a.maxPosition):l.translate.easeTo(0):"right"===o.simpleStates.opening&&(o.simpleStates.halfway||o.simpleStates.hyperExtending||o.simpleStates.flick?o.simpleStates.flick&&"right"===o.simpleStates.towards?l.translate.easeTo(0):(o.simpleStates.flick&&"left"===o.simpleStates.towards||o.simpleStates.halfway||o.simpleStates.hyperExtending)&&l.translate.easeTo(a.minPosition):l.translate.easeTo(0)),o.isDragging=!1,o.startDragX=s.page("X",t)}}}},c=function(t){t.element&&(s.deepExtend(a,t),o.vendor=s.vendor(),l.drag.listen())};this.open=function(t){s.createBackdrop(),s.dispatchEvent("open"),s.klass.remove(e.body,"snapjs-expand-left"),s.klass.remove(e.body,"snapjs-expand-right"),"left"===t?(o.simpleStates.opening="left",o.simpleStates.towards="right",s.klass.add(e.body,"snapjs-left"),s.klass.remove(e.body,"snapjs-right"),l.translate.easeTo(a.maxPosition)):"right"===t&&(o.simpleStates.opening="right",o.simpleStates.towards="left",s.klass.remove(e.body,"snapjs-left"),s.klass.add(e.body,"snapjs-right"),l.translate.easeTo(a.minPosition))},this.close=function(){s.dispatchEvent("close"),l.translate.easeTo(0)},this.expand=function(n){var i=t.innerWidth||e.documentElement.clientWidth;"left"===n?(s.dispatchEvent("expandLeft"),s.klass.add(e.body,"snapjs-expand-left"),s.klass.remove(e.body,"snapjs-expand-right")):(s.dispatchEvent("expandRight"),s.klass.add(e.body,"snapjs-expand-right"),s.klass.remove(e.body,"snapjs-expand-left"),i*=-1),l.translate.easeTo(i)},this.on=function(t,e){return r[t]=e,this},this.off=function(t){r[t]&&(r[t]=!1)},this.enable=function(){s.dispatchEvent("enable"),l.drag.listen()},this.disable=function(){s.dispatchEvent("disable"),l.drag.stopListening()},this.settings=function(t){s.deepExtend(a,t)},this.state=function(){var t,e=l.translate.get.matrix(4);return t=e===a.maxPosition?"left":e===a.minPosition?"right":"closed",{state:t,info:o.simpleStates}},c(i)};"undefined"!=typeof module&&module.exports&&(module.exports=i),"undefined"==typeof ender&&(this.Snap=i),"function"==typeof define&&define.amd&&define("snap",[],function(){return i})}.call(this,window,document),function(t,e){function n(t){for(var e=l.length-1;e>=0;e--)if(l[e].el.id===t)return l[e]}function i(t){for(var n="undefined"!=typeof t?t.detail.page:e.navigator().currentPage,i=document.querySelector(n),a=i.querySelector('[data-tab-contents="true"]'),o=l.length-1;o>=0;o--){var r=l[o],c=r.el.getAttribute("data-page"),d=r.el.getAttribute("data-expose-aside");c!==n?(r.el.style.display="none",r.el.style.visibility="hidden"):(r.el.style.display="block",r.el.style.visibility="visible",a&&l[o].snapper.disable(),"left"!==d&&"right"!==d||i.classList.contains("expose-aside-"+d)||i.classList.add("expose-aside-"+d),s||(a||"left"===d||"right"===d?(r.snapper.settings({touchToDrag:!1}),r.snapper.disable()):(r.snapper.settings({touchToDrag:!0}),r.snapper.enable())),!a&&s&&(r.snapper.settings({touchToDrag:!0}),r.snapper.enable()))}}function a(){var e=s;s=!matchMedia("only screen and (min-width: 641px)").matches,e!==s&&(t.setTimeout(function(){for(var t=l.length-1;t>=0;t--){var e=l[t];e.snapper.settings({maxPosition:e.el.clientWidth,minPosition:-e.el.clientWidth})}},500),i())}function o(t){c=t,t.snapper.open(t.direction),document.on(e.event.end,d)}function r(t){t.snapper.close(),c=null,document.off(e.event.end,d)}var s=!matchMedia("only screen and (min-width: 641px)").matches,l=[],c=null;e.onReady(function(){for(var t=document.querySelectorAll(".side-panel"),e=t.length-1;e>=0;e--){var n=t[e],i=n.getAttribute("data-disable"),a=n.getAttribute("data-page"),o=document.querySelector(a),r={element:o,disable:null===i?"none":i,hyperextensible:!1,touchToDrag:!1,maxPosition:n.clientWidth,minPosition:-n.clientWidth},s=new Snap(r);l.push({snapper:s,el:n,direction:n.classList.contains("side-panel-left")?"left":"right"})}}),document.on(e.event.tap,function(t){var e=t.target,i=e.getAttribute("data-side-panel-id"),a=e.getAttribute("data-side-panel-close");if("true"===a)return void(c&&r(c));if(null!==i){var l=n(i);if(l){var d=l.snapper.state(),u=l.el.getAttribute("data-expose-aside");"closed"===d.state?("left"!==u&&"right"!==u||s)&&o(l):("left"!==u&&"right"!==u||s)&&r(l)}}});var d=function(t){var e=t.target,n=!1;if(null!==c){for(;e&&e!==document;e=e.parentNode)if(e.classList.contains("side-panel")){n=!0;break}c&&!n&&(r(c),c=null)}};e.sidePanel=function(){return{closeActive:function(){for(var t=e.navigator().currentPage,n=l.length-1;n>=0;n--){var i=l[n],a=i.el.getAttribute("data-page"),o=i.el.getAttribute("data-expose-aside");if(a===t){var c=i.snapper.state();if("closed"!==c.state){if(s)return r(i),!0;if(!s&&"left"!==o&&"right"!==o)return r(i),!0}return!1}}return!1}}},t.on("resize",a),document.on("pageopened",i)}("undefined"!=typeof window?window:this,window.phonon||{}),function(t){function e(e){function a(){}function o(){return!1}function r(t,e){var n,i;for(n in e)if(e.hasOwnProperty(n)){switch(i=e[n],n){case"height":case"width":case"marginLeft":case"marginTop":i+="px"}t.style[n]=i}return t}function s(t,e){var n;for(n in e)t[n]=e[n];return t}function l(t,e){return function(){return t.apply(e,Array.prototype.slice.call(arguments))}}function c(t,n){var i;return i=e?e(n).find("."+t):Array.prototype.slice.call(n.getElementsByClassName(t))}function d(t,n,i,a,o){var s={};s[n]=i,e?e(t).animate(s,a,o):r(t,s)}function u(t){var e=t.touches,n=e&&e.length?e:t.changedTouches;return{x:m?n[0].pageX:t.pageX,y:m?n[0].pageY:t.pageY}}function f(t,e){var i=s({},v);for(this.settings=s(i,e),this.container=t,this.pageContainer=n.createElement("div"),this.scrollBorder={x:0,y:0},this.page=0,this.preventScroll=!1,this.pageCssProperties={margin:0},this._onStart=l(this._onStart,this),this._onMove=l(this._onMove,this),this._onEnd=l(this._onEnd,this),this._onKeydown=l(this._onKeydown,this),this._sizePages=l(this._sizePages,this),this._afterScrollTransform=l(this._afterScrollTransform,this);t.firstChild;)this.pageContainer.appendChild(t.firstChild);t.appendChild(this.pageContainer),this._scroll=S?this._scrollWithTransform:this._scrollWithoutTransform,this._animateScroll=S?this._animateScrollWithTransform:this._animateScrollWithoutTransform,r(t,E),setTimeout(l(function(){this.updateInstance(e),this.settings.preventDrag||this._observe(),this.settings.afterInitialize.call(this)},this),10)}function p(t,n,i){e?e(t).on(n,i):t.addEventListener(n,i,!1)}function h(t,n,i){e?e(t).off(n,i):t.removeEventListener(n,i,!1)}function g(){if(!t.getComputedStyle)return!1;var e,n=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(n,null);for(var a in i)void 0!==n.style[a]&&(n.style[a]="translate3d(1px,1px,1px)",e=t.getComputedStyle(n).getPropertyValue(i[a]));return document.body.removeChild(n),void 0!==e&&e.length>0&&"none"!==e}var v={pageClass:"dragend-page",direction:"horizontal",minDragDistance:"40",onSwipeStart:a,onSwipeEnd:a,onDragStart:a,onDrag:a,onDragEnd:a,afterInitialize:a,keyboardNavigation:!1,stopPropagation:!1,itemsInPage:1,scribe:0,borderBetweenPages:0,duration:300,preventDrag:!1},m="ontouchstart"in i,y=m?"touchstart":"mousedown",b=m?"touchmove":"mousemove",w=m?"touchend":"mouseup",x={37:"left",38:"up",39:"right",40:"down"},T={pages:"No pages found"},E={overflow:"hidden",padding:0},C=function(){var t=n.createElement("div"),e="Khtml Ms O Moz Webkit".split(" "),i=e.length;return function(n){if(n in t.style)return!0;for(n=n.replace(/^[a-z]/,function(t){return t.toUpperCase()});i--;)if(e[i]+n in t.style)return!0;return!1}}(),S=C("transform");return s(f.prototype,{_checkOverscroll:function(t,e,n){var i={x:e,y:n,overscroll:!0};switch(t){case"right":if(!this.scrollBorder.x)return i.x=Math.round((e-this.scrollBorder.x)/5),i;break;case"left":if((this.pagesCount-1)*this.pageDimentions.width<=this.scrollBorder.x)return i.x=Math.round(-((Math.ceil(this.pagesCount)-1)*(this.pageDimentions.width+this.settings.borderBetweenPages))+e/5),i;break;case"down":if(!this.scrollBorder.y)return i.y=Math.round((n-this.scrollBorder.y)/5),i;break;case"up":if((this.pagesCount-1)*this.pageDimentions.height<=this.scrollBorder.y)return i.y=Math.round(-((Math.ceil(this.pagesCount)-1)*(this.pageDimentions.height+this.settings.borderBetweenPages))+n/5),i}return{x:e-this.scrollBorder.x,y:n-this.scrollBorder.y,overscroll:!1}},_xDown:0,_yDown:0,_observe:function(){p(this.container,y,this._onStart),this.container.onselectstart=o,this.container.ondragstart=o,this.settings.keyboardNavigation&&p(n.body,"keydown",this._onKeydown),p(i,"resize",this._sizePages)},_onStart:function(t){t=t.originalEvent||t,this.settings.stopPropagation&&t.stopPropagation(),this._xDown=t.touches?t.touches[0].clientX:t.clientX,this._yDown=t.touches?t.touches[0].clientY:t.clientY,p(n.body,b,this._onMove),p(n.body,w,this._onEnd),this.startCoords=u(t),this.settings.onDragStart.call(this,t)},_onMove:function(t){if(t=t.originalEvent||t,!(t.touches&&t.touches.length>1||t.scale&&1!==t.scale)){var e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY,i=this._xDown-e,a=this._yDown-n;Math.abs(i)>Math.abs(a)&&(t.preventDefault(),this.settings.stopPropagation&&t.stopPropagation());var o=this._parseEvent(t),r=this._checkOverscroll(o.direction,-o.distanceX,-o.distanceY);0===this.page&&"right"===o.direction||this.page+1===this.pagesCount&&"left"===o.direction||(this.settings.onDrag.call(this,this.activeElement,o,r.overscroll,t),this.preventScroll||this._scroll(r))}},_onEnd:function(t){t=t.originalEvent||t,this.settings.stopPropagation&&t.stopPropagation();var e=this._parseEvent(t);this.startCoords={x:0,y:0},Math.abs(e.distanceX)>this.settings.minDragDistance||Math.abs(e.distanceY)>this.settings.minDragDistance?this.swipe(e.direction):(e.distanceX>0||e.distanceX>0)&&this._scrollToPage(),this.settings.onDragEnd.call(this,this.container,this.activeElement,this.page,t),h(n.body,b,this._onMove),h(n.body,w,this._onEnd)},_parseEvent:function(t){var e=u(t),n=this.startCoords.x-e.x,i=this.startCoords.y-e.y;return this._addDistanceValues(n,i)},_addDistanceValues:function(t,e){var n={distanceX:0,distanceY:0};return"horizontal"===this.settings.direction?(n.distanceX=t,n.direction=t>0?"left":"right"):(n.distanceY=e,n.direction=e>0?"up":"down"),n},_onKeydown:function(t){var e=x[t.keyCode];e&&this._scrollToPage(e)},_setHorizontalContainerCssValues:function(){s(this.pageCssProperties,{cssFloat:"left",overflowY:"auto",overflowX:"hidden",padding:0,display:"block"}),r(this.pageContainer,{overflow:"hidden",width:(this.pageDimentions.width+this.settings.borderBetweenPages)*this.pagesCount,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0,padding:0})},_setVerticalContainerCssValues:function(){s(this.pageCssProperties,{overflow:"hidden",padding:0,display:"block"}),r(this.pageContainer,{"padding-bottom":this.settings.scribe,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0})},setContainerCssValues:function(){"horizontal"===this.settings.direction?this._setHorizontalContainerCssValues():this._setVerticalContainerCssValues()},_setPageDimentions:function(){var t=this.container.offsetWidth,e=this.container.offsetHeight;"horizontal"===this.settings.direction?t-=parseInt(this.settings.scribe,10):e-=parseInt(this.settings.scribe,10),this.pageDimentions={width:t,height:e}},_sizePages:function(){var t=this.pages.length;this._setPageDimentions(),this.setContainerCssValues(),"horizontal"===this.settings.direction?s(this.pageCssProperties,{
height:this.pageDimentions.height,width:this.pageDimentions.width/this.settings.itemsInPage}):s(this.pageCssProperties,{height:this.pageDimentions.height/this.settings.itemsInPage,width:this.pageDimentions.width});for(var e=0;t>e;e++)r(this.pages[e],this.pageCssProperties);this._jumpToPage("page",this.page)},_calcNewPage:function(t,e){var n=this.settings.borderBetweenPages,i=this.pageDimentions.height,a=this.pageDimentions.width,o=this.page;switch(t){case"up":o<this.pagesCount-1&&(this.scrollBorder.y=this.scrollBorder.y+i+n,this.page++);break;case"down":o>0&&(this.scrollBorder.y=this.scrollBorder.y-i-n,this.page--);break;case"left":o<this.pagesCount-1&&(this.scrollBorder.x=this.scrollBorder.x+a+n,this.page++);break;case"right":o>0&&(this.scrollBorder.x=this.scrollBorder.x-a-n,this.page--);break;case"page":switch(this.settings.direction){case"horizontal":this.scrollBorder.x=(a+n)*e;break;case"vertical":this.scrollBorder.y=(i+n)*e}this.page=e;break;default:this.scrollBorder.y=0,this.scrollBorder.x=0,this.page=0}},_onSwipeEnd:function(){this.preventScroll=!1,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this.settings.onSwipeEnd.call(this,this.container,this.activeElement,this.page)},_jumpToPage:function(t,e){t&&this._calcNewPage(t,e),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y})},_scrollToPage:function(t,e){this.preventScroll=!0,t&&this._calcNewPage(t,e),this._animateScroll()},_scrollWithTransform:function(t){var e;e=g()?"horizontal"===this.settings.direction?"translate3d("+t.x+"px, 0, 0)":"translate3d(0, "+t.y+"px, 0)":"horizontal"===this.settings.direction?"translateX("+t.x+"px)":"translateY("+t.y+"px)",r(this.pageContainer,{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,"-o-transform":e,transform:e})},_animateScrollWithTransform:function(){var t="transform "+this.settings.duration+"ms ease-out",e=(this.container,this._afterScrollTransform);r(this.pageContainer,{"-webkit-transition":"-webkit-"+t,"-moz-transition":"-moz-"+t,"-ms-transition":"-ms-"+t,"-o-transition":"-o-"+t,transition:t}),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y}),p(this.container,"webkitTransitionEnd",e),p(this.container,"oTransitionEnd",e),p(this.container,"transitionend",e),p(this.container,"transitionEnd",e)},_afterScrollTransform:function(){var t=this.container,e=this._afterScrollTransform;this._onSwipeEnd(),h(t,"webkitTransitionEnd",e),h(t,"oTransitionEnd",e),h(t,"transitionend",e),h(t,"transitionEnd",e),r(this.pageContainer,{"-webkit-transition":"","-moz-transition":"","-ms-transition":"","-o-transition":"",transition:""})},_scrollWithoutTransform:function(t){var e="horizontal"===this.settings.direction?{marginLeft:t.x}:{marginTop:t.y};r(this.pageContainer,e)},_animateScrollWithoutTransform:function(){var t="horizontal"===this.settings.direction?"marginLeft":"marginTop",e="horizontal"===this.settings.direction?-this.scrollBorder.x:-this.scrollBorder.y;d(this.pageContainer,t,e,this.settings.duration,l(this._onSwipeEnd,this))},swipe:function(t){this.settings.onSwipeStart.call(this,this.container,this.activeElement,this.page),this._scrollToPage(t)},updateInstance:function(t){if(t=t||{},"object"==typeof t&&s(this.settings,t),this.pages=c(this.settings.pageClass,this.pageContainer),!this.pages.length)throw new Error(T.pages);this.pagesCount=this.pages.length/this.settings.itemsInPage,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this._sizePages(),this.settings.jumpToPage&&(this.jumpToPage(t.jumpToPage),delete this.settings.jumpToPage),this.settings.scrollToPage&&(this.scrollToPage(this.settings.scrollToPage),delete this.settings.scrollToPage),this.settings.destroy&&(this.destroy(),delete this.settings.destroy)},destroy:function(){var t=this.container;h(t,y),h(t,b),h(t,w),h(n.body,"keydown",this._onKeydown),h(i,"resize",this._sizePages),t.removeAttribute("style");for(var e=0;e<this.pages.length;e++)this.pages[e].removeAttribute("style");t.innerHTML=this.pageContainer.innerHTML},scrollToPage:function(t){this._scrollToPage("page",t-1)},jumpToPage:function(t){this._jumpToPage("page",t-1)}}),e&&(e.fn.dragend=function(t){return t=t||{},this.each(function(){var n=e(this).data("dragend");n?n.updateInstance(t):(n=new f(this,t),e(this).data("dragend",n)),"string"==typeof t&&n.swipe(t)}),this}),f}var n=document,i=t;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e(i.jQuery||i.Zepto)}):i.Dragend=e(i.jQuery||i.Zepto)}(window),function(t,e){function n(t){var e=t.detail.page,n=document.querySelector(e),i=n.querySelector('[data-tab-contents="true"]');i&&a(e,n,i)}function i(t,n){for(var i=r.length-1;i>=0;i--)if(r[i].page===t){r[i].currentTab!==n&&(r[i].currentTab=n,e.navigator().callCallback("tabchanged",{page:t,tabNumber:n}));var a=document.querySelector(t).querySelector(".tab-indicator");if(a){var o=n-1;a.style.webkitTransform="translateX("+o+"00%)",a.style.MozTransform="translateX("+o+"00%)",a.style.msTransform="translateX("+o+"00%)",a.style.OTransform="translateX("+o+"00%)",a.style.transform="translateX("+o+"00%)"}r[i].dragend.scrollToPage(n);break}}function a(e,n,a){var o=n.querySelectorAll(".tab-items a"),s=n.querySelector(".tab-indicator"),l="true"===a.getAttribute("data-disable-swipe"),c=parseInt(a.getAttribute("data-tab-default"));(isNaN(c)||c>o.length)&&(c=1),s.style.width=100/o.length+"%";var d={direction:"horizontal",preventDrag:l,duration:200,pageClass:"tab-content",onDragEnd:function(t,n,a){a+=1,i(e,a)}};r.push({page:e,dragend:new Dragend(a,d),currentTab:c}),t.setTimeout(function(){i(e,c)},10)}function o(t){for(var n=t.target,i=null;n&&n!==document;n=n.parentNode)if(n.classList.contains("tab-item")){i=n;break}if(i){for(var a=i.parentNode.parentNode,o=a.querySelectorAll(".tab-items a"),r=a.querySelector(".tab-indicator"),l=0,c=o.length;c>l&&i!==o[l];l++);var d=l+"00";r.style.webkitTransform="translateX("+d+"%)",r.style.MozTransform="translateX("+d+"%)",r.style.msTransform="translateX("+d+"%)",r.style.OTransform="translateX("+d+"%)",r.style.transform="translateX("+d+"%)";var u=e.navigator().currentPage;s(u,l+1)}}var r=[],s=function(t,e){if("string"!=typeof t)throw new Error("The first argument must be a string, "+typeof e+" given");if("number"!=typeof e)throw new Error("The second argument must be a number, "+typeof e+" given");i(t,e)};document.on("pagecreated",n),e.tab=function(){return{setCurrentTab:s}},document.on("tap",o)}("undefined"!=typeof window?window:this,window.phonon||{});