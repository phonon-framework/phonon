(function(){"use strict";function e(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function t(e,t,n){var a={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(a=a[/[\d.]+$/.exec(e)])&&(e="Windows "+a),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=o(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function n(e,t){var n=-1,o=e?e.length:0;if("number"==typeof o&&o>-1&&o<=g)for(;++n<o;)t(e[n],n,e);else a(e,t)}function o(t){return t=c(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:e(t)}function a(e,t){for(var n in e)S.call(e,n)&&t(e[n],n,e)}function i(t){return null==t?e(t):w.call(t).slice(8,-1)}function r(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function l(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function s(e,t){var o=null;return n(e,function(n,a){o=t(o,n,a,e)}),o}function c(e){return String(e).replace(/^ +| +$/g,"")}function u(e){function n(t){return s(t,function(t,n){var a=n.pattern||l(n);return!t&&(t=RegExp("\\b"+a+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+a+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+a+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(a,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=o(t[0].replace(RegExp(a,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}var f=d,h=e&&"object"==typeof e&&"String"!=i(e);h&&(f=e,e=null);var b=f.navigator||{},v=b.userAgent||"";e||(e=v);var g,x,S=h||y==p,E=h?!!b.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(w.toString()),M=h?"Object":"ScriptBridgingProxyObject",C=h?"Object":"Environment",T=h&&f.java?"JavaPackage":i(f.java),k=h?"Object":"RuntimeObject",P=/\bJava/.test(T)&&f.java,O=P&&i(f.environment)==C,L=P?"a":"α",R=P?"b":"β",A=f.document||{},j=f.operamini||f.opera,D=m.test(D=h&&j?j["[[Class]]"]:i(j))?D:j=null,B=e,N=[],I=null,W=e==v,F=W&&j&&"function"==typeof j.version&&j.version(),H=function(t){return s(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),G=function(t){return s(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),X=n([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),$=function(t){return s(t,function(t,n,o){return t||(n[X]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(X)]||RegExp("\\b"+l(o)+"(?:\\b|\\w*\\d)","i").exec(e))&&o})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),K=function(n){return s(n,function(n,o){var a=o.pattern||l(o);return!n&&(n=RegExp("\\b"+a+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(n=t(n,a,o.label||o)),n})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(H&&(H=[H]),$&&!X&&(X=n([$])),(g=/\bGoogle TV\b/.exec(X))&&(X=g[0]),/\bSimulator\b/i.test(e)&&(X=(X?X+" ":"")+"Simulator"),"Opera Mini"==G&&/\bOPiOS\b/.test(e)&&N.push("running in Turbo/Uncompressed mode"),"IE"==G&&/\blike iPhone OS\b/.test(e)?($=(g=u(e.replace(/like iPhone OS/,""))).manufacturer,X=g.product):/^iP/.test(X)?(G||(G="Safari"),K="iOS"+((g=/ OS ([\d_]+)/i.exec(e))?" "+g[1].replace(/_/g,"."):"")):"Konqueror"!=G||/buntu/i.test(K)?$&&"Google"!=$&&(/Chrome/.test(G)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(X))||/\bAndroid\b/.test(K)&&/^Chrome/.test(G)&&/\bVersion\//i.test(e)?(G="Android Browser",K=/\bAndroid\b/.test(K)?K:"Android"):"Silk"==G?(/\bMobi/i.test(e)||(K="Android",N.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&N.unshift("accelerated")):"PaleMoon"==G&&(g=/\bFirefox\/([\d.]+)\b/.exec(e))?N.push("identifying as Firefox "+g[1]):"Firefox"==G&&(g=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(K||(K="Firefox OS"),X||(X=g[1])):!G||(g=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(G))?(G&&!X&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(g+"/")+8))&&(G=null),(g=X||$||K)&&(X||$||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(K))&&(G=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(K)?K:g)+" Browser")):"Electron"==G&&(g=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&N.push("Chromium "+g):K="Kubuntu",F||(F=function(t){return s(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",l(G),"(?:Firefox|Minefield|NetFront)"])),(g="iCab"==H&&parseFloat(F)>3&&"WebKit"||/\bOpera\b/.test(G)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(H)&&"WebKit"||!H&&/\bMSIE\b/i.test(e)&&("Mac OS"==K?"Tasman":"Trident")||"WebKit"==H&&/\bPlayStation\b(?! Vita\b)/i.test(G)&&"NetFront")&&(H=[g]),"IE"==G&&(g=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(G+=" Mobile",K="Windows Phone "+(/\+$/.test(g)?g:g+".x"),N.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(G="IE Mobile",K="Windows Phone 8.x",N.unshift("desktop mode"),F||(F=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=G&&"Trident"==H&&(g=/\brv:([\d.]+)/.exec(e))&&(G&&N.push("identifying as "+G+(F?" "+F:"")),G="IE",F=g[1]),W){if(r(f,"global"))if(P&&(B=(g=P.lang.System).getProperty("os.arch"),K=K||g.getProperty("os.name")+" "+g.getProperty("os.version")),S&&r(f,"system")&&(g=[f.system])[0]){K||(K=g[0].os||null);try{g[1]=f.require("ringo/engine").version,F=g[1].join("."),G="RingoJS"}catch(e){g[0].global.system==f.system&&(G="Narwhal")}}else"object"==typeof f.process&&!f.process.browser&&(g=f.process)?"object"==typeof g.versions?"string"==typeof g.versions.electron?(N.push("Node "+g.versions.node),G="Electron",F=g.versions.electron):"string"==typeof g.versions.nw&&(N.push("Chromium "+F,"Node "+g.versions.node),G="NW.js",F=g.versions.nw):(G="Node.js",B=g.arch,K=g.platform,F=(F=/[\d.]+/.exec(g.version))?F[0]:"unknown"):O&&(G="Rhino");else i(g=f.runtime)==M?(G="Adobe AIR",K=g.flash.system.Capabilities.os):i(g=f.phantom)==k?(G="PhantomJS",F=(g=g.version||null)&&g.major+"."+g.minor+"."+g.patch):"number"==typeof A.documentMode&&(g=/\bTrident\/(\d+)/i.exec(e))?(F=[F,A.documentMode],(g=+g[1]+4)!=F[1]&&(N.push("IE "+F[1]+" mode"),H&&(H[1]=""),F[1]=g),F="IE"==G?String(F[1].toFixed(1)):F[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(G)&&(N.push("masking as "+G+" "+F),G="IE",F="11.0",H=["Trident"],K="Windows");K=K&&o(K)}if(F&&(g=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(F)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(W&&b.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(I=/b/i.test(g)?"beta":"alpha",F=F.replace(RegExp(g+"\\+?$"),"")+("beta"==I?R:L)+(/\d+\+?/.exec(g)||"")),"Fennec"==G||"Firefox"==G&&/\b(?:Android|Firefox OS)\b/.test(K))G="Firefox Mobile";else if("Maxthon"==G&&F)F=F.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(X))"Xbox 360"==X&&(K=null),"Xbox 360"==X&&/\bIEMobile\b/.test(e)&&N.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(G)&&(!G||X||/Browser|Mobi/.test(G))||"Windows CE"!=K&&!/Mobi/i.test(e))if("IE"==G&&W)try{null===f.external&&N.unshift("platform preview")}catch(e){N.unshift("embedded")}else(/\bBlackBerry\b/.test(X)||/\bBB10\b/.test(e))&&(g=(RegExp(X.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||F)?(K=((g=[g,/BB10/.test(e)])[1]?(X=null,$="BlackBerry"):"Device Software")+" "+g[0],F=null):this!=a&&"Wii"!=X&&(W&&j||/Opera/.test(G)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==G&&/\bOS X (?:\d+\.){2,}/.test(K)||"IE"==G&&(K&&!/^Win/.test(K)&&F>5.5||/\bWindows XP\b/.test(K)&&F>8||8==F&&!/\bTrident\b/.test(e)))&&!m.test(g=u.call(a,e.replace(m,"")+";"))&&g.name&&(g="ing as "+g.name+((g=g.version)?" "+g:""),m.test(G)?(/\bIE\b/.test(g)&&"Mac OS"==K&&(K=null),g="identify"+g):(g="mask"+g,G=D?o(D.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(g)&&(K=null),W||(F=null)),H=["Presto"],N.push(g));else G+=" Mobile";(g=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(g=[parseFloat(g.replace(/\.(\d)$/,".0$1")),g],"Safari"==G&&"+"==g[1].slice(-1)?(G="WebKit Nightly",I="alpha",F=g[1].slice(0,-1)):F!=g[1]&&F!=(g[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(F=null),g[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==g[0]&&537.36==g[2]&&parseFloat(g[1])>=28&&"WebKit"==H&&(H=["Blink"]),W&&(E||g[1])?(H&&(H[1]="like Chrome"),g=g[1]||((g=g[0])<530?1:g<532?2:g<532.05?3:g<533?4:g<534.03?5:g<534.07?6:g<534.1?7:g<534.13?8:g<534.16?9:g<534.24?10:g<534.3?11:g<535.01?12:g<535.02?"13+":g<535.07?15:g<535.11?16:g<535.19?17:g<536.05?18:g<536.1?19:g<537.01?20:g<537.11?"21+":g<537.13?23:g<537.18?24:g<537.24?25:g<537.36?26:"Blink"!=H?"27":"28")):(H&&(H[1]="like Safari"),g=(g=g[0])<400?1:g<500?2:g<526?3:g<533?4:g<534?"4+":g<535?5:g<537?6:g<538?7:g<601?8:"8"),H&&(H[1]+=" "+(g+="number"==typeof g?".x":/[.+]/.test(g)?"":"+")),"Safari"==G&&(!F||parseInt(F)>45)&&(F=g)),"Opera"==G&&(g=/\bzbov|zvav$/.exec(K))?(G+=" ",N.unshift("desktop mode"),"zvav"==g?(G+="Mini",F=null):G+="Mobile",K=K.replace(RegExp(" *"+g+"$"),"")):"Safari"==G&&/\bChrome\b/.exec(H&&H[1])&&(N.unshift("desktop mode"),G="Chrome Mobile",F=null,/\bOS X\b/.test(K)?($="Apple",K="iOS 4.3+"):K=null),F&&0==F.indexOf(g=/[\d.]+$/.exec(K))&&e.indexOf("/"+g+"-")>-1&&(K=c(K.replace(g,""))),H&&!/\b(?:Avant|Nook)\b/.test(G)&&(/Browser|Lunascape|Maxthon/.test(G)||"Safari"!=G&&/^iOS/.test(K)&&/\bSafari\b/.test(H[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(G)&&H[1])&&(g=H[H.length-1])&&N.push(g),N.length&&(N=["("+N.join("; ")+")"]),$&&X&&X.indexOf($)<0&&N.push("on "+$),X&&N.push((/^on /.test(N[N.length-1])?"":"on ")+X),K&&(g=/ ([\d.+]+)$/.exec(K),x=g&&"/"==K.charAt(K.length-g[0].length-1),K={architecture:32,family:g&&!x?K.replace(g[0],""):K,version:g?g[1]:null,toString:function(){var e=this.version;return this.family+(e&&!x?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(g=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(B))&&!/\bi686\b/i.test(B)?(K&&(K.architecture=64,K.family=K.family.replace(RegExp(" *"+g),"")),G&&(/\bWOW64\b/i.test(e)||W&&/\w(?:86|32)$/.test(b.cpuClass||b.platform)&&!/\bWin64; x64\b/i.test(e))&&N.unshift("32-bit")):K&&/^OS X/.test(K.family)&&"Chrome"==G&&parseFloat(F)>=39&&(K.architecture=64),e||(e=null);var U={};return U.description=e,U.layout=H&&H[0],U.manufacturer=$,U.name=G,U.prerelease=I,U.product=X,U.ua=e,U.version=G&&F,U.os=K||{architecture:null,family:null,version:null,toString:function(){return"null"}},U.parse=u,U.toString=function(){return this.description||""},U.version&&N.unshift(F),U.name&&N.unshift(G),K&&G&&(K!=String(K).split(" ")[0]||K!=G.split(" ")[0]&&!X)&&N.push(X?"("+K+")":"on "+K),N.length&&(U.description=N.join(" ")),U}var f={function:!0,object:!0},d=f[typeof window]&&window||this,p=d,h=f[typeof exports]&&exports,b=f[typeof module]&&module&&!module.nodeType&&module,v=h&&b&&"object"==typeof global&&global;!v||v.global!==v&&v.window!==v&&v.self!==v||(d=v);var g=Math.pow(2,53)-1,m=/\bOpera/,y=this,x=Object.prototype,S=x.hasOwnProperty,w=x.toString,E=u();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(d.platform=E,define(function(){return E})):h&&b?a(E,function(e,t){h[t]=e}):d.platform=E}).call(this),function(e,t){var n={},o=[];n.onReady=function(e){o.push(e)},n.dispatchGlobalReady=function(){for(var e=o.length-1;e>=0;e--)o[e]();o=[],n.dispatchGlobalReady=t},function(){function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:t};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),o}n.prototype=e.Event.prototype,e.CustomEvent=n}(),n.device=function(e){return{osVersion:e.os.version,os:e.os.family,platform:e,ANDROID:"Android",IOS:"iOS"}}(e.platform),n.browser=function(e){return{name:e.name,version:e.version,platform:e}}(e.platform),n.ajax=function(){var t=function(e){var t=null;try{"withCredentials"in(t=new XMLHttpRequest)&&e&&(t.withCredentials=!0)}catch(e){console.error(e)}return t},n=function(e){var t=null;try{t=JSON.parse(e)}catch(e){t=null}return t},o=function(e){var t,n="?";for(t in e)n+=t+"="+e[t]+"&";var o=n.lastIndexOf("&");return-1!==o&&(n=n.substring(0,o)),n};return function(a){var i=a.method,r=a.url,l="boolean"==typeof a.crossDomain&&a.crossDomain,s=a.contentType,c=a.dataType,u=a.data,f=a.timeout,d=a.success,p=a.error,h=a.headers;if("string"!=typeof i)throw new TypeError("method must be a string");if("string"!=typeof r)throw new TypeError("url must be a string");void 0===a.contentType&&(a.contentType="application/x-www-form-urlencoded; charset=UTF-8");var b=t(l),v="NO_INTERNET_ACCESS";if("string"==typeof i&&"get"===i.toLowerCase().trim()&&null!==u&&"object"==typeof u&&(r+=o(u)),"object"==typeof u&&null!==u&&(u=JSON.stringify(u)),b){if(b.open(i,r,!0),"string"==typeof s&&b.setRequestHeader("Content-type",s),"xml"===c&&b.overrideMimeType&&b.overrideMimeType("application/xml; charset=utf-8"),"object"==typeof h){var g;for(g in h)b.setRequestHeader(g,h[g])}b.onreadystatechange=function(t){if(4===b.readyState){var o=null;"json"===c?null===(o=n(b.responseText))&&(v="JSON_MALFORMED"):o="xml"===c?b.responseXML:b.responseText,"2"===b.status.toString()[0]&&"function"==typeof d?d(o,b):"function"==typeof p&&e.setTimeout(function(){p(o,v,b)},1),b=null}},"number"==typeof f&&(b.timeout=f,b.ontimeout=function(){v="TIMEOUT_EXCEEDED"}),b.send(u)}else"function"==typeof p&&p(v="XMLHTTPREQUEST_UNAVAILABLE");return{cancel:function(){v="REQUEST_CANCELED",b&&b.abort()}}}}(),n.event=function(o){var a=["mousedown","mousemove","mouseup"],i=!1;("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,a=["touchstart","touchmove","touchend","touchcancel"]),e.navigator.pointerEnabled?a=["pointerdown","pointermove","pointerup","pointercancel"]:e.navigator.msPointerEnabled&&(a=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var r={};r.hasTouch=i,r.start=a[0],r.move=a[1],r.end=a[2],r.cancel=void 0===a[3]?null:a[3],r.tap="tap",r.forceTap=!1;var l=document.createElement("div"),s=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],c=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],u=null,f=null,d=s.length-1;for(d in s)if(l.style[s[d].name]!==t){u=s[d].end;break}var p=c.length-1;for(p in c)if(l.style[c[p].name]!==t){f=c[p].end;break}var h=n.device.osVersion;h&&h.length>2&&(h=n.device.osVersion.substring(0,3)),n.device.os&&"android"===n.device.os.toLowerCase()&&"4.1"===h&&(u="webkitTransitionEnd",f="webkitAnimationEnd"),r.transitionEnd=u,r.animationEnd=f;var b=[],v=function(){function t(e,t){this.el=e,this.callback=t,this.moved=!1,this.startX=0,this.startY=0,this.el.addEventListener(r.start,this,!1)}return t.prototype.start=function(e){this.el.addEventListener(r.move,this,!1),this.el.addEventListener(r.end,this,!1),this.moved=!1,this.startX=e.touches?e.touches[0].clientX:e.clientX,this.startY=e.touches?e.touches[0].clientY:e.clientY},t.prototype.move=function(e){var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;(Math.abs(t-this.startX)>10||Math.abs(n-this.startY)>10)&&(this.moved=!0)},t.prototype.end=function(t){if(this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1),!this.moved){if(void 0!==o){var n=new e.CustomEvent(this.tap,{detail:{event:"tap",target:this.element},bubbles:!0,cancelable:!0});this.el.dispatchEvent(n)}this.callback(t)}},t.prototype.cancel=function(){this.moved=!1,this.startX=0,this.startY=0},t.prototype.off=function(){this.el.removeEventListener(r.start,this,!1),this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1)},t.prototype.handleEvent=function(e){switch(e.type){case r.start:this.start(e);break;case r.move:this.move(e);break;case r.end:this.end(e);break;case r.cancel:this.cancel(e)}},t}();return n.on=function(e,t,n,o){var a=function(e,t,n,o){if(t!==r.tap||!r.hasTouch&&!r.forceTap)t===r.tap&&(t="click"),e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n,o);else{var a=new v(e,n);b.push(a)}};if(void 0===e.length)a(e,t,n,o);else for(var i=0,l=e.length;i<l;i++)a(e[i],t,n,o)},e.on=document.on=NodeList.prototype.on=HTMLElement.prototype.on=function(e,t,o){n.on(this,e,t,o)},n.off=function(e,t,n,o){var a=function(e,t,n,o){if(t!==r.tap||!r.hasTouch&&!r.forceTap)t===r.tap&&(t="click"),e.removeEventListener?e.removeEventListener(t,n,o):e.attachEvent&&e.detachEvent("on"+t,n,o);else for(var a=0,i=b.length;a<i;a++)if(b[a].el===e){b[a].off(),b.splice(a,1);break}};if(void 0===e.length)a(e,t,n,o);else for(var i=0,l=e.length;i<l;i++)a(e[i],t,n,o)},e.off=document.off=NodeList.prototype.off=HTMLElement.prototype.off=function(e,t,o){n.off(this,e,t,o)},r}(e.jQuery),n.tagManager=function(){if("undefined"!=typeof riot){var e=[];return{addTag:function(t,n){t[0].tagName=n,e.push(t[0])},getAll:function(){return e},trigger:function(t,n,o){for(var a=[],i=e.length-1;i>=0;i--)if(e[i].tagName===t){a.push(n);var r=a.concat(o);e[i].trigger.apply(this,r);break}}}}}(),n.options=function(e){var t=!1;"object"==typeof e.i18n&&null!==e.i18n&&(n.i18n(e.i18n),t=!0),e.navigator.useI18n=t,n.navigator(e.navigator)},n.alert=function(e,t,o,a){return n.dialog().alert(e,t,o,a)},n.confirm=function(e,t,o,a,i){return n.dialog().confirm(e,t,o,a,i)},n.prompt=function(e,t,o,a,i){return n.dialog().prompt(e,t,o,a,i)},n.passPrompt=function(e,t,o,a,i){return n.dialog().passPrompt(e,t,o,a,i)},n.indicator=function(e,t){return n.dialog().indicator(e,t)},n.updateLocale=function(e){var t="undefined"!=typeof riot;n.i18n().setPreference(e).getAll(function(e){if(t){for(var o=n.tagManager.getAll(),a=o.length-1;a>=0;a--)o[a].i18n=e;riot.update()}else n.i18n().bind()})},e.phonon=n,"object"==typeof exports?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return e.phonon=n})}("undefined"!=typeof window?window:this),function(e,t){function n(e){if(f.initCalled)throw new Error("The i18n module has already been instantiated");"string"==typeof e.directory&&(e.directory=-1!==e.directory.indexOf("/",e.directory.length-"/".length)?e.directory:e.directory+"/");var t;for(t in e)f[t]=e[t];u=f.localeFallback,void 0!==e.use&&(f.loadJson=!1),f.initCalled=!0}function o(e){if(!f.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof e)throw new Error("callback must be a function");var t=f.localePreferred?f.localePreferred:f.localeFallback;if(u=t,f.loadJson){if(null!==c)return void e(c);var n=new XMLHttpRequest;n.open("GET",f.directory+t+".json",!0),n.overrideMimeType&&n.overrideMimeType("application/json; charset=utf-8");var a=function(){f.localePreferred=null,o(function(t){c=t,e(t)})};n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status||!n.status&&n.responseText.length))try{var t=JSON.parse(n.responseText);e(c=t)}catch(e){a()}else if(4===n.readyState&&200!==n.status&&(n.status||!n.responseText.length)){if(!f.localePreferred)throw new Error("The default locale ["+f.directory+f.localeFallback+".json] file is not found");a()}},n.send("")}else{var i=f.use[t];void 0===i&&(i=f.use[f.localeFallback]),e(i)}}function a(e,t){if("string"!=typeof e&&!(e instanceof Array))throw new Error("key must be a string or an array");var n=e instanceof Array;if(f.loadJson&&null!==c)if(n){for(var a=e.length-1,i={};a>=0;a--)i[e[a]]=c[e[a]];t(i)}else t(c[e]);else o(function(o){if(n){for(var a=e.length-1,i={};a>=0;a--)i[e[a]]=o[e[a]];t(i)}else t(o[e])})}function i(e,n){var a=e||t,i=n;if(1===arguments.length&&"function"==typeof e&&(a=t,i=e),!d(a))throw new TypeError("Not valid element object "+a);var r=a.querySelectorAll("[data-i18n]");null===c?o(function(e){g(r,e),"function"==typeof i&&i()}):(g(r,c),"function"==typeof i&&i())}function r(e){if("string"!=typeof e)throw new Error("The language must be a string");return f.localePreferred=e,c=null,m}function l(){return f.localePreferred}function s(){return e.navigator.userLanguage||e.navigator.language}var c=null,u=null,f={localeFallback:null,localePreferred:e.navigator.userLanguage||e.navigator.language,directory:"./",initCalled:!1,loadJson:!0},d=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},p=function(e,t){"textContent"in e?e.textContent=t:e.innerText=t},h=function(e,t){e.innerHTML=t},b=function(e,t){e.value=t},v=function(e,t){e.setAttribute("placeholder",t)},g=function(e,t){for(var n=e.length-1;n>=0;n--)for(var o,a=e[n],i=a.getAttribute("data-i18n").trim(),r=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;o=r.exec(i);){var l=o[1].trim(),s=o[2].trim().replace(",","");if(void 0!==t[s])if("text"===l)p(a,t[s]);else if("html"===l)h(a,t[s]);else if("value"===l)b(a,t[s]);else{if("placeholder"!==l)throw new Error("The property: "+l+" is unknown");v(a,t[s])}else console.error("The value: "+s+" does not exist in the JSON file")}},m={};m.init=n,m.getAll=o,m.get=a,m.bind=i,m.setPreference=r,m.getPreference=l,m.getLocale=s,phonon.i18n=function(e){return"object"==typeof e&&n(e),{getAll:function(e){return o(e),this},get:function(e,t){return a(e,t),this},bind:function(e,t){return i(e,t),this},setPreference:function(e){return r(e),this},getPreference:function(){return l()},getLocale:function(){return s()},getCurrentLocale:function(){return u}}}}(window,document),function(e,t,n){"use strict";function o(t,n){void 0===e.phononDOM[t]&&(e.phononDOM[t]={});var o='var page = window.phononDOM["'+t+'"];';o+=n;var a=document.createElement("script");a.text=o,document.head.appendChild(a).parentNode.removeChild(a)}function a(){if(H.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("left"),e.off(n.event.animationEnd,a,!1),e.classList.remove("app-active")}u(B),f(N),D=!1}function i(){if(H.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("right"),e.off(n.event.animationEnd,i,!1),e.classList.remove("app-active")}u(B),f(N),D=!1}function r(t,n,o){var a={detail:{page:n},bubbles:!0,cancelable:!0};void 0!==o&&(a.detail.req=o);var i=new e.CustomEvent(t,a);document.dispatchEvent(i)}function l(e,t,n){for(var o=0,a=t.length;o<a;o++){var i=t[o];i.event===e&&"function"==typeof i.callback&&i.callback(n)}}function s(t){F&&n.tagManager.trigger(t,"create"),r("pagecreated",t);var o=X(t);if(o.activity instanceof G&&"function"==typeof o.activity.onCreateCallback&&o.activity.onCreateCallback(),l("create",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onCreate;"function"==typeof a&&a()}}function c(t){var o=X(t);e.setTimeout(function(){if(F&&n.tagManager.trigger(t,"ready"),r("pageopened",t),o.activity instanceof G&&"function"==typeof o.activity.onReadyCallback&&o.activity.onReadyCallback(),l("ready",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onReady;"function"==typeof a&&a()}},o.readyDelay)}function u(t){F&&n.tagManager.trigger(t,"transitionend"),r("pagetransitionend",t);var o=X(t);if(o.activity instanceof G&&"function"==typeof o.activity.onTransitionEndCallback&&o.activity.onTransitionEndCallback(),l("transitionend",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onTransitionEnd;"function"==typeof a&&a()}}function f(t){F&&n.tagManager.trigger(t,"hidden"),r("pagehidden",t);var o=X(t);if(o.activity instanceof G&&"function"==typeof o.activity.onHiddenCallback&&o.activity.onHiddenCallback(),l("hidden",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onHidden;"function"==typeof a&&a()}}function d(t,o){F&&n.tagManager.trigger(t,"tabchanged",o),r("pagetabchanged",t);var a=X(t);if(a.activity instanceof G&&"function"==typeof a.activity.onTabChangedCallback&&a.activity.onTabChangedCallback(o),l("tabchanged",a.callbackRegistered,o),"object"==typeof e.phononDOM[a.name]){var i=e.phononDOM[a.name].onTabChanged;"function"==typeof i&&i(o)}}function p(t,o,a){function i(){r("pageclosed",t),e.location.hash.split("#")[1]!==a&&H.useHash?e.location.hash=a:O(a)}if(!x()){var s=X(t);if(s.async){var c={close:i};if(F&&n.tagManager.trigger(t,"close",c),s.activity instanceof G&&"function"==typeof s.activity.onCloseCallback&&s.activity.onCloseCallback(c),l("close",s.callbackRegistered,c),"object"==typeof e.phononDOM[s.name]){var u=e.phononDOM[s.name].onClose;"function"==typeof u&&u(c)}}else i()}}function h(t,o){if(void 0!==o){F&&n.tagManager.trigger(t,"hashchanged",o),r("pagehash",t,o);var a=X(t);if(a.activity instanceof G&&"function"==typeof a.activity.onHashChangedCallback&&a.activity.onHashChangedCallback(o),l("hashchanged",a.callbackRegistered,o),"object"==typeof e.phononDOM[a.name]){var i=e.phononDOM[a.name].onHashChanged;"function"==typeof i&&i(o)}}}function b(e,t){"tabchanged"===e&&d(t.page,t.tabNumber)}function v(e,a,i){if(F&&t.compile(function(){H.useI18n?n.i18n().getAll(function(o){n.tagManager.addTag(t.mount(e,{i18n:o}),e),a()}):(n.tagManager.addTag(t.mount(e,{i18n:null}),e),a())}),!F){var r=X(e);if(null!==r.content){if(null===r.nocache||null===r.showloader){!function(e){var t=$(e);r.nocache=!1,r.showloader=!1,"true"===t.getAttribute("data-nocache")&&(r.nocache=!0),"true"===t.getAttribute("data-loader")&&(r.showloader=!0)}(e)}r.showloader&&document.body.classList.add("loading"),g(r.content,function(t){r.showloader&&document.body.classList.remove("loading");var i=$(e),l=document.createElement("div");l.innerHTML=t;var s=l.querySelector(e);if(null===s)throw new Error("Error with "+r.content+" : the template for "+e+" must start with the parent node <"+e+' class="app-page">');for(var c=s.attributes,u=c.length-1;u>=0;u--){var f=c.item(u);"class"!==f.nodeName&&"app-page"!==f.nodeValue&&i.setAttribute(f.nodeName,f.nodeValue)}var d=function(e){var t=e.getElementsByTagName("script");t=Array.prototype.slice.call(t);for(var n=0;n<t.length;n++){var a=t[n].getAttribute("type");"text/javascript"!==a&&null!==a||o(r.name,t[n].innerHTML)}};H.useI18n?n.i18n().bind(s,function(){i.innerHTML=s.innerHTML,d(l),a()}):(i.innerHTML=s.innerHTML,d(l),a())},i)}else a()}}function g(e,t,n){var o=new XMLHttpRequest;o.overrideMimeType&&o.overrideMimeType("text/html; charset=utf-8"),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||!o.status&&o.responseText.length)&&t(o.responseText,H,e)},"string"!=typeof n?(o.open("GET",H.templateRootDirectory+e,!0),o.send("")):(o.open("POST",H.templateRootDirectory+e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(n))}function m(e,t){t="object"==typeof t?t:{};var n,o={name:e,mounted:!1,async:!1,activity:null,content:null,readyDelay:1,callbackRegistered:[],nocache:null,showloader:null};for(n in t)o[n]=t[n];return o}function y(e,t){t="object"==typeof t?t:{};var n=X(e);if(null===n)return L.push(m(e,t));var o;for(o in t)n[o]=t[o];return!0}function x(){return!(void 0===n.dialog||!n.dialogUtil.closeActive())||(!(void 0===n.popover||!n.popoverUtil.closeActive())||(!(void 0===n.panel||!n.panelUtil.closeActive())||!(void 0===n.sidePanel||!n.sidePanelUtil.closeActive())))}function S(){var e={page:H.defaultPage,params:""};if(R.length>0){for(var t=-1,n=R.length-1;n>=0;n--)if(R[n].page===B){t=n-1;break}t>-1&&(e=R[t],R=R.slice(0,t))}return e}function w(t){var n,o=(t=t||e.event).target,a="";if("object"==typeof o&&"FORM"==o.nodeName){var i;for(i=o.elements.length-1;i>=0;i--)if((n=o.elements[i]).name&&"file"!=n.type&&"reset"!=n.type)if("select-multiple"==n.type)for(j=o.elements[i].options.length-1;j>=0;j--)n.options[j].selected&&(a+="&"+n.name+"="+encodeURIComponent(n.options[j].value).replace(/%20/g,"+"));else("submit"!=n.type&&"button"!=n.type||t.target==n)&&("checkbox"!=n.type&&"radio"!=n.type||n.checked)&&(a+="&"+n.name+"="+encodeURIComponent(n.value).replace(/%20/g,"+"))}return a.substr(1)}function E(e){W=!0;var t=e.target,n=null,o=!1,a="";if("submit"==e.type){var i=t.getAttribute("action");if(i.match(new RegExp("^#"+H.hashPrefix)))return e.preventDefault(),n=i.substr(1+H.hashPrefix.length),p(B,n,H.hashPrefix+n),C(n,function(){},w(e)),P(i.substr(1+H.hashPrefix.length))}for(;t&&t!==document;t=t.parentNode){var r=t.getAttribute("data-navigation");if(void 0!==t.href&&-1!==t.href.indexOf("#!")){o=!0;break}if(r){n=r;break}}if((!o||!H.useHash)&&(null!==n||o)){var l=H.defaultPage;if(null!==n)if("$previous-page"===n){var s=S();l=s.page,a=s.params}else l=n;else{var c=t.href.match("/#"+H.hashPrefix+"([A-Za-z0-9-.]+)?(.*)/");c&&(l=c[1],a=c[2])}var u=H.hashPrefix+l;""!==a&&(u=(u=u+"/"+a).replace("//","/")),p(B,l,u)}}function M(e,t){var o=$(e),r=$(t);r.classList.add("app-active"),H.animatePages?(o.classList.add("page-sliding"),I?(o.classList.add("left"),o.on(n.event.animationEnd,a,!1)):(o.classList.add("right"),o.on(n.event.animationEnd,i,!1))):(o.classList.remove("app-active"),I?a():i());for(var l=r.querySelectorAll(".content"),s=l.length-1;s>=0;s--){var c=l[s];null!==c&&0!==c.scrollTop&&(c.scrollTop=0)}t===H.defaultPage&&(R=[])}function C(e,t,o){if(D&&"function"==typeof t)return t();var a=X(e);A&&(D=!0,N=B,B=e),!a.mounted||a.nocache?v(a.name,function(){if(a.mounted=!0,s(e),c(e),A||n.dispatchGlobalReady(),A&&M(N,e),!A){A=!0;var o=$(e);o.classList.contains("app-active")||o.classList.add("app-active")}"function"==typeof t&&t()},o):(c(e),M(N,e),"function"==typeof t&&t())}function T(e){"string"==typeof e.templateRootDirectory&&""!==e.templateRootDirectory&&(e.templateRootDirectory=-1!==e.templateRootDirectory.indexOf("/",e.templateRootDirectory.length-"/".length)?e.templateRootDirectory:e.templateRootDirectory+"/"),"object"==typeof e.hashPrefix&&(e.hashPrefix="");var t;for(t in e)H[t]=e[t];H.enableBrowserBackButton&&(W=!0);for(var n=document.querySelectorAll("[data-page]"),o=n.length-1;o>=0;o--){var a=n[o];a.classList.contains("app-page")||a.classList.add("app-page"),y(a.tagName.toLowerCase())}}function k(){if(A)throw new Error("The app has been already started");var e="";n.device.os&&(e=n.device.os.toLowerCase());var t="web";"android"===e?t="android":"ios"===e&&(t="ios"),document.body.classList.contains(t)||document.body.classList.add(t),O()}function P(t,n){var o=X(B),a=X(t);if(!a)throw new Error("The following page: "+t+" does not exists");var i=H.hashPrefix+a.name;void 0!==n&&(i=H.hashPrefix+a.name+"/"+n),o.async?p(B,a.name,i):-1===e.location.hash.indexOf(i)&&H.useHash&&(e.location.hash=i)}function O(t,n){var o,a=("string"==typeof t?t:e.location.href.split("#")[1]||"").split("/"),i=a.slice(1,a.length),r=a[0],l=H.hashPrefix.indexOf("/");-1!==l?(r=void 0===a[1]?"":a[1],i=a.slice(2,a.length),o=r.substring(l+1,r.length)):o=r.substring(H.hashPrefix.length,r.length);var s=X(o);if(A||s)!A&&s&&(B=s.name);else if(B=H.defaultPage,s=X(H.defaultPage),H.useHash)return void(e.location.hash=H.hashPrefix+H.defaultPage);if(s){if(x(),s.name===B&&A)return void h(s.name,i);if(A&&!W)return;for(var c=!1,u=R.length-1;u>=0;u--)if(R[u].page===s.name){c=!0;break}if(R.length>0?s.name===H.defaultPage&&(I=!1):I=!0,R.length>1&&R[R.length-2].page===s.name&&(I=!1),!c){var f=i.join("/");R.push({page:s.name,params:f})}"function"!=typeof s.callback||s.mounted||s.callback(s.activity),s.mounted?(C(s.name,null,n),h(s.name,i)):C(s.name,function(){h(s.name,i)},n),H.enableBrowserBackButton||(W=!1)}}e.phononDOM={};var L=[],R=[],A=!1,D=!1,B=null,N=null,I=!0,W=!1,F=void 0!==t,H={defaultPage:null,defaultTemplateExtension:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1,useHash:!0},G=function(){function e(e){if("object"==typeof e){var t;for(t in e)void 0!==this[t]&&"constructor"!==this[t]&&(this[t+"Callback"]=e[t])}}return e.prototype.onCreate=function(e){this.onCreateCallback=e},e.prototype.onReady=function(e){this.onReadyCallback=e},e.prototype.onClose=function(e){this.onCloseCallback=function(t){e(t)}},e.prototype.onHidden=function(e){this.onHiddenCallback=e},e.prototype.onTransitionEnd=function(e){this.onTransitionEndCallback=e},e.prototype.onHashChanged=function(e){this.onHashChangedCallback=function(t){e.apply(this,t)}},e.prototype.onTabChanged=function(e){this.onTabChangedCallback=function(t){e(t)}},e}(),X=function(e){for(var t=L.length-1;t>=0;t--)if(L[t].name===e)return L[t];return null},$=function(e){for(var t=document.querySelectorAll("[data-page]"),n=t.length-1,o=null;n>=0;n--){var a=t[n].getAttribute("data-alias");if(t[n].tagName.toLowerCase()===e||a===e){o=t[n];break}}return o};document.on("tap",E),document.on("submit",E),H.useHash&&e.addEventListener("hashchange",O),document.on("backbutton",function(){if(!x()){var e=S();p(B,e.page,H.hashPrefix+e.page+"/"+e.params)}}),n.navigator=function(t){return"object"==typeof t&&T(t),{currentPage:B,previousPage:N,start:k,changePage:function(t,n){W=!0;var o=x()?400:1;e.setTimeout(function(){if("$previous-page"==t){var e=S();e&&(t=e.page,n=e.params)}P(t,n)},o)},on:function(e,t){if("string"!=typeof e.page)throw new Error("Page name must be a string");if(void 0!==e.preventClose&&"boolean"!=typeof e.preventClose)throw new Error("preventClose option must be a boolean");if(void 0!==e.readyDelay&&"number"!=typeof e.readyDelay)throw new Error("readyDelay option must be a number");null!==typeof e.content&&"string"==typeof H.defaultTemplateExtension&&(e.content=e.page+"."+H.defaultTemplateExtension);var n=X(e.page);null!==n||(n=m(e.page)),n.activity="function"==typeof t||"object"==typeof t?new G(t):null,n.callback=t,n.async="boolean"==typeof e.preventClose&&e.preventClose,n.content="string"==typeof e.content?e.content:null,n.readyDelay="number"==typeof e.readyDelay?e.readyDelay:1,y(e.page.toLowerCase(),n)},onPage:function(e){if("string"!=typeof e)throw new Error("PageName must be a string");return y(e,{}),{addEvent:function(t,n){X(e).callbackRegistered.push({event:t,callback:n})}}},callCallback:b}}}("undefined"!=typeof window?window:this,"undefined"!=typeof riot?riot:void 0,phonon);