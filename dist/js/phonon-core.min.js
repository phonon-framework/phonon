(function(){"use strict";function e(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function t(e,t,n){var a={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(a=a[/[\d.]+$/.exec(e)])&&(e="Windows "+a),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=o(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function n(e,t){var n=-1,o=e?e.length:0;if("number"==typeof o&&o>-1&&o<=m)for(;++n<o;)t(e[n],n,e);else a(e,t)}function o(t){return t=c(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:e(t)}function a(e,t){for(var n in e)E.call(e,n)&&t(e[n],n,e)}function i(t){return null==t?e(t):S.call(t).slice(8,-1)}function r(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function l(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function s(e,t){var o=null;return n(e,function(n,a){o=t(o,n,a,e)}),o}function c(e){return String(e).replace(/^ +| +$/g,"")}function u(e){function n(t){return s(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}function f(t){return s(t,function(t,n,o){return t||(n[z]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(z)]||RegExp("\\b"+l(o)+"(?:\\b|\\w*\\d)","i").exec(e))&&o})}function h(t){return s(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}function b(n){return s(n,function(n,o){var a=o.pattern||l(o);return!n&&(n=RegExp("\\b"+a+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(n=t(n,a,o.label||o)),n})}function g(t){return s(t,function(t,n){var a=n.pattern||l(n);return!t&&(t=RegExp("\\b"+a+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+a+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(a,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=o(t[0].replace(RegExp(a,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function m(t){return s(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function x(){return this.description||""}var E=p,w=e&&"object"==typeof e&&"String"!=i(e);w&&(E=e,e=null);var M=E.navigator||{},T=M.userAgent||"";e||(e=T);var C,k,P=w||y==d,O=w?!!M.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(S.toString()),R="Object",L=w?R:"ScriptBridgingProxyObject",A=w?R:"Environment",j=w&&E.java?"JavaPackage":i(E.java),D=w?R:"RuntimeObject",B=/\bJava/.test(j)&&E.java,N=B&&i(E.environment)==A,I=B?"a":"α",F=B?"b":"β",H=E.document||{},W=E.operamini||E.opera,X=v.test(X=w&&W?W["[[Class]]"]:i(W))?X:W=null,$=e,G=[],K=null,U=e==T,V=U&&W&&"function"==typeof W.version&&W.version(),q=n([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),_=h(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),z=g([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),J=f({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),Y=b(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(q&&(q=[q]),J&&!z&&(z=g([J])),(C=/\bGoogle TV\b/.exec(z))&&(z=C[0]),/\bSimulator\b/i.test(e)&&(z=(z?z+" ":"")+"Simulator"),"Opera Mini"==_&&/\bOPiOS\b/.test(e)&&G.push("running in Turbo/Uncompressed mode"),"IE"==_&&/\blike iPhone OS\b/.test(e)?(C=u(e.replace(/like iPhone OS/,"")),J=C.manufacturer,z=C.product):/^iP/.test(z)?(_||(_="Safari"),Y="iOS"+((C=/ OS ([\d_]+)/i.exec(e))?" "+C[1].replace(/_/g,"."):"")):"Konqueror"!=_||/buntu/i.test(Y)?J&&"Google"!=J&&(/Chrome/.test(_)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(z))||/\bAndroid\b/.test(Y)&&/^Chrome/.test(_)&&/\bVersion\//i.test(e)?(_="Android Browser",Y=/\bAndroid\b/.test(Y)?Y:"Android"):"Silk"==_?(/\bMobi/i.test(e)||(Y="Android",G.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&G.unshift("accelerated")):"PaleMoon"==_&&(C=/\bFirefox\/([\d.]+)\b/.exec(e))?G.push("identifying as Firefox "+C[1]):"Firefox"==_&&(C=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(Y||(Y="Firefox OS"),z||(z=C[1])):_&&!(C=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(_))||(_&&!z&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(C+"/")+8))&&(_=null),(C=z||J||Y)&&(z||J||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Y))&&(_=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Y)?Y:C)+" Browser")):Y="Kubuntu",V||(V=m(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",l(_),"(?:Firefox|Minefield|NetFront)"])),(C="iCab"==q&&parseFloat(V)>3&&"WebKit"||/\bOpera\b/.test(_)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(q)&&"WebKit"||!q&&/\bMSIE\b/i.test(e)&&("Mac OS"==Y?"Tasman":"Trident")||"WebKit"==q&&/\bPlayStation\b(?! Vita\b)/i.test(_)&&"NetFront")&&(q=[C]),"IE"==_&&(C=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(_+=" Mobile",Y="Windows Phone "+(/\+$/.test(C)?C:C+".x"),G.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(_="IE Mobile",Y="Windows Phone 8.x",G.unshift("desktop mode"),V||(V=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=_&&"Trident"==q&&(C=/\brv:([\d.]+)/.exec(e))&&(_&&G.push("identifying as "+_+(V?" "+V:"")),_="IE",V=C[1]),U){if(r(E,"global"))if(B&&(C=B.lang.System,$=C.getProperty("os.arch"),Y=Y||C.getProperty("os.name")+" "+C.getProperty("os.version")),P&&r(E,"system")&&(C=[E.system])[0]){Y||(Y=C[0].os||null);try{C[1]=E.require("ringo/engine").version,V=C[1].join("."),_="RingoJS"}catch(Q){C[0].global.system==E.system&&(_="Narwhal")}}else"object"==typeof E.process&&!E.process.browser&&(C=E.process)?(_="Node.js",$=C.arch,Y=C.platform,V=/[\d.]+/.exec(C.version)[0]):N&&(_="Rhino");else i(C=E.runtime)==L?(_="Adobe AIR",Y=C.flash.system.Capabilities.os):i(C=E.phantom)==D?(_="PhantomJS",V=(C=C.version||null)&&C.major+"."+C.minor+"."+C.patch):"number"==typeof H.documentMode&&(C=/\bTrident\/(\d+)/i.exec(e))&&(V=[V,H.documentMode],(C=+C[1]+4)!=V[1]&&(G.push("IE "+V[1]+" mode"),q&&(q[1]=""),V[1]=C),V="IE"==_?String(V[1].toFixed(1)):V[0]);Y=Y&&o(Y)}V&&(C=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(V)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(U&&M.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(K=/b/i.test(C)?"beta":"alpha",V=V.replace(RegExp(C+"\\+?$"),"")+("beta"==K?F:I)+(/\d+\+?/.exec(C)||"")),"Fennec"==_||"Firefox"==_&&/\b(?:Android|Firefox OS)\b/.test(Y)?_="Firefox Mobile":"Maxthon"==_&&V?V=V.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(z)?(Y=null,"Xbox 360"==z&&/\bIEMobile\b/.test(e)&&G.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(_)&&(!_||z||/Browser|Mobi/.test(_))||"Windows CE"!=Y&&!/Mobi/i.test(e)?"IE"==_&&U&&null===E.external?G.unshift("platform preview"):(/\bBlackBerry\b/.test(z)||/\bBB10\b/.test(e))&&(C=(RegExp(z.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||V)?(C=[C,/BB10/.test(e)],Y=(C[1]?(z=null,J="BlackBerry"):"Device Software")+" "+C[0],V=null):this!=a&&"Wii"!=z&&(U&&W||/Opera/.test(_)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==_&&/\bOS X (?:\d+\.){2,}/.test(Y)||"IE"==_&&(Y&&!/^Win/.test(Y)&&V>5.5||/\bWindows XP\b/.test(Y)&&V>8||8==V&&!/\bTrident\b/.test(e)))&&!v.test(C=u.call(a,e.replace(v,"")+";"))&&C.name&&(C="ing as "+C.name+((C=C.version)?" "+C:""),v.test(_)?(/\bIE\b/.test(C)&&"Mac OS"==Y&&(Y=null),C="identify"+C):(C="mask"+C,_=X?o(X.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(C)&&(Y=null),U||(V=null)),q=["Presto"],G.push(C)):_+=" Mobile",(C=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(C=[parseFloat(C.replace(/\.(\d)$/,".0$1")),C],"Safari"==_&&"+"==C[1].slice(-1)?(_="WebKit Nightly",K="alpha",V=C[1].slice(0,-1)):V!=C[1]&&V!=(C[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(V=null),C[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==C[0]&&537.36==C[2]&&parseFloat(C[1])>=28&&"WebKit"==q&&(q=["Blink"]),U&&(O||C[1])?(q&&(q[1]="like Chrome"),C=C[1]||(C=C[0],C<530?1:C<532?2:C<532.05?3:C<533?4:C<534.03?5:C<534.07?6:C<534.1?7:C<534.13?8:C<534.16?9:C<534.24?10:C<534.3?11:C<535.01?12:C<535.02?"13+":C<535.07?15:C<535.11?16:C<535.19?17:C<536.05?18:C<536.1?19:C<537.01?20:C<537.11?"21+":C<537.13?23:C<537.18?24:C<537.24?25:C<537.36?26:"Blink"!=q?"27":"28")):(q&&(q[1]="like Safari"),C=C[0],C=C<400?1:C<500?2:C<526?3:C<533?4:C<534?"4+":C<535?5:C<537?6:C<538?7:C<601?8:"8"),q&&(q[1]+=" "+(C+="number"==typeof C?".x":/[.+]/.test(C)?"":"+")),"Safari"==_&&(!V||parseInt(V)>45)&&(V=C)),"Opera"==_&&(C=/\bzbov|zvav$/.exec(Y))?(_+=" ",G.unshift("desktop mode"),"zvav"==C?(_+="Mini",V=null):_+="Mobile",Y=Y.replace(RegExp(" *"+C+"$"),"")):"Safari"==_&&/\bChrome\b/.exec(q&&q[1])&&(G.unshift("desktop mode"),_="Chrome Mobile",V=null,/\bOS X\b/.test(Y)?(J="Apple",Y="iOS 4.3+"):Y=null),V&&0==V.indexOf(C=/[\d.]+$/.exec(Y))&&e.indexOf("/"+C+"-")>-1&&(Y=c(Y.replace(C,""))),q&&!/\b(?:Avant|Nook)\b/.test(_)&&(/Browser|Lunascape|Maxthon/.test(_)||"Safari"!=_&&/^iOS/.test(Y)&&/\bSafari\b/.test(q[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(_)&&q[1])&&(C=q[q.length-1])&&G.push(C),G.length&&(G=["("+G.join("; ")+")"]),J&&z&&z.indexOf(J)<0&&G.push("on "+J),z&&G.push((/^on /.test(G[G.length-1])?"":"on ")+z),Y&&(C=/ ([\d.+]+)$/.exec(Y),k=C&&"/"==Y.charAt(Y.length-C[0].length-1),Y={architecture:32,family:C&&!k?Y.replace(C[0],""):Y,version:C?C[1]:null,toString:function(){var e=this.version;return this.family+(e&&!k?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(C=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec($))&&!/\bi686\b/i.test($)?(Y&&(Y.architecture=64,Y.family=Y.family.replace(RegExp(" *"+C),"")),_&&(/\bWOW64\b/i.test(e)||U&&/\w(?:86|32)$/.test(M.cpuClass||M.platform)&&!/\bWin64; x64\b/i.test(e))&&G.unshift("32-bit")):Y&&/^OS X/.test(Y.family)&&"Chrome"==_&&parseFloat(V)>=39&&(Y.architecture=64),e||(e=null);var Z={};return Z.description=e,Z.layout=q&&q[0],Z.manufacturer=J,Z.name=_,Z.prerelease=K,Z.product=z,Z.ua=e,Z.version=_&&V,Z.os=Y||{architecture:null,family:null,version:null,toString:function(){return"null"}},Z.parse=u,Z.toString=x,Z.version&&G.unshift(V),Z.name&&G.unshift(_),Y&&_&&(Y!=String(Y).split(" ")[0]||Y!=_.split(" ")[0]&&!z)&&G.push(z?"("+Y+")":"on "+Y),G.length&&(Z.description=G.join(" ")),Z}var f={"function":!0,object:!0},p=f[typeof window]&&window||this,d=p,h=f[typeof exports]&&exports,b=f[typeof module]&&module&&!module.nodeType&&module,g=h&&b&&"object"==typeof global&&global;!g||g.global!==g&&g.window!==g&&g.self!==g||(p=g);var m=Math.pow(2,53)-1,v=/\bOpera/,y=this,x=Object.prototype,E=x.hasOwnProperty,S=x.toString,w=u();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(p.platform=w,define(function(){return w})):h&&b?a(w,function(e,t){h[t]=e}):p.platform=w}).call(this),function(e,t){var n={},o=[];n.onReady=function(e){o.push(e)},n.dispatchGlobalReady=function(){for(var e=o.length-1;e>=0;e--)o[e]();o=[],n.dispatchGlobalReady=t},function(){function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:t};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),o}n.prototype=e.Event.prototype,e.CustomEvent=n}(),n.device=function(e){return{osVersion:e.os.version,os:e.os.family,platform:e,ANDROID:"Android",IOS:"iOS"}}(e.platform),n.browser=function(e){return{name:e.name,version:e.version,platform:e}}(e.platform),n.ajax=function(){var t=function(e){var t=null;try{t=new XMLHttpRequest,"withCredentials"in t&&e&&(t.withCredentials=!0)}catch(n){console.error(n)}return t},n=function(e){var t=null;try{t=JSON.parse(e)}catch(n){t=null}return t},o=function(e){var t,n="";for(t in e)n+=t+"="+e[t]+"&";var o=n.lastIndexOf("&");return o!==-1&&(e=n.substring(0,o)),n};return function(a){var i=a.method,r=a.url,l="boolean"==typeof a.crossDomain&&a.crossDomain,s=a.contentType,c=a.dataType,u=a.data,f=a.timeout,p=a.success,d=a.error,h=a.headers;if("string"!=typeof i)throw new TypeError("method must be a string");if("string"!=typeof r)throw new TypeError("url must be a string");"undefined"==typeof a.contentType&&(a.contentType="application/x-www-form-urlencoded; charset=UTF-8"),"object"==typeof u&&(u="application/json"===s?JSON.stringify(u):o(u));var b=t(l),g="NO_INTERNET_ACCESS";if(b){if(b.open(i,r,!0),"string"==typeof s&&b.setRequestHeader("Content-type",s),"xml"===c&&b.overrideMimeType&&b.overrideMimeType("application/xml; charset=utf-8"),"object"==typeof h){var m;for(m in h)b.setRequestHeader(m,h[m])}b.onreadystatechange=function(t){if(4===b.readyState){var o=null;"json"===c?(o=n(b.responseText),null===o&&(g="JSON_MALFORMED")):o="xml"===c?b.responseXML:b.responseText;var a=b.status.toString();"2"===a[0]&&"function"==typeof p?p(o,b):"function"==typeof d&&e.setTimeout(function(){d(o,g,b)},1),b=null}},"number"==typeof f&&(b.timeout=f,b.ontimeout=function(){g="TIMEOUT_EXCEEDED"}),b.send(u)}else"function"==typeof d&&(g="XMLHTTPREQUEST_UNAVAILABLE",d(g));return{cancel:function(){g="REQUEST_CANCELED",b&&b.abort()}}}}(),n.event=function(o){var a=["mousedown","mousemove","mouseup"],i=!1;("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,a=["touchstart","touchmove","touchend","touchcancel"]),e.navigator.pointerEnabled?a=["pointerdown","pointermove","pointerup","pointercancel"]:e.navigator.msPointerEnabled&&(a=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var r={};r.hasTouch=i,r.start=a[0],r.move=a[1],r.end=a[2],r.cancel="undefined"==typeof a[3]?null:a[3],r.tap="tap",r.forceTap=!1;var l=document.createElement("div"),s=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],c=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],u=null,f=null,p=s.length-1;for(p in s)if(l.style[s[p].name]!==t){u=s[p].end;break}var d=c.length-1;for(d in c)if(l.style[c[d].name]!==t){f=c[d].end;break}var h=n.device.osVersion;h&&h.length>2&&(h=n.device.osVersion.substring(0,3)),n.device.os&&"android"===n.device.os.toLowerCase()&&"4.1"===h&&(u="webkitTransitionEnd",f="webkitAnimationEnd"),r.transitionEnd=u,r.animationEnd=f;var b=[],g=function(){function t(e,t){this.el=e,this.callback=t,this.moved=!1,this.startX=0,this.startY=0,this.el.addEventListener(r.start,this,!1)}return t.prototype.start=function(e){this.el.addEventListener(r.move,this,!1),this.el.addEventListener(r.end,this,!1),this.moved=!1,this.startX=e.touches?e.touches[0].clientX:e.clientX,this.startY=e.touches?e.touches[0].clientY:e.clientY},t.prototype.move=function(e){var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;(Math.abs(t-this.startX)>10||Math.abs(n-this.startY)>10)&&(this.moved=!0)},t.prototype.end=function(t){if(this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1),!this.moved){if("undefined"!=typeof o){var n=new e.CustomEvent(this.tap,{detail:{event:"tap",target:this.element},bubbles:!0,cancelable:!0});this.el.dispatchEvent(n)}this.callback(t)}},t.prototype.cancel=function(){this.moved=!1,this.startX=0,this.startY=0},t.prototype.off=function(){this.el.removeEventListener(r.start,this,!1),this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1)},t.prototype.handleEvent=function(e){switch(e.type){case r.start:this.start(e);break;case r.move:this.move(e);break;case r.end:this.end(e);break;case r.cancel:this.cancel(e)}},t}();return n.on=function(e,t,n,o){var a=function(e,t,n,o){if(t===r.tap&&(r.hasTouch||r.forceTap)){var a=new g(e,n);return void b.push(a)}t===r.tap&&(t="click"),e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n,o)};if("undefined"==typeof e.length)a(e,t,n,o);else for(var i=0,l=e.length;i<l;i++)a(e[i],t,n,o)},e.on=document.on=NodeList.prototype.on=HTMLElement.prototype.on=function(e,t,o){n.on(this,e,t,o)},n.off=function(e,t,n,o){var a=function(e,t,n,o){if(t!==r.tap||!r.hasTouch&&!r.forceTap)t===r.tap&&(t="click"),e.removeEventListener?e.removeEventListener(t,n,o):e.attachEvent&&e.detachEvent("on"+t,n,o);else for(var a=0,i=b.length;a<i;a++)if(b[a].el===e){b[a].off(),b.splice(a,1);break}};if("undefined"==typeof e.length)a(e,t,n,o);else for(var i=0,l=e.length;i<l;i++)a(e[i],t,n,o)},e.off=document.off=NodeList.prototype.off=HTMLElement.prototype.off=function(e,t,o){n.off(this,e,t,o)},r}(e.jQuery),n.tagManager=function(){if("undefined"!=typeof riot){var e=[],t=function(t,n){t[0].tagName=n,e.push(t[0])},n=function(){return e},o=function(t,n,o){for(var a=[],i=e.length-1;i>=0;i--)if(e[i].tagName===t){a.push(n);var r=a.concat(o);e[i].trigger.apply(this,r);break}};return{addTag:t,getAll:n,trigger:o}}}(),n.options=function(e){var t=!1;"object"==typeof e.i18n&&null!==e.i18n&&(n.i18n(e.i18n),t=!0),e.navigator.useI18n=t,n.navigator(e.navigator)},n.alert=function(e,t,o,a){return n.dialog().alert(e,t,o,a)},n.confirm=function(e,t,o,a,i){return n.dialog().confirm(e,t,o,a,i)},n.prompt=function(e,t,o,a,i){return n.dialog().prompt(e,t,o,a,i)},n.passPrompt=function(e,t,o,a,i){return n.dialog().passPrompt(e,t,o,a,i)},n.indicator=function(e,t){return n.dialog().indicator(e,t)},n.updateLocale=function(e){var t="undefined"!=typeof riot;n.i18n().setPreference(e).getAll(function(e){if(t){for(var o=n.tagManager.getAll(),a=o.length-1;a>=0;a--)o[a].i18n=e;riot.update()}else n.i18n().bind()})},e.phonon=n,"object"==typeof exports?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return e.phonon=n})}("undefined"!=typeof window?window:this),function(e,t){function n(e){if(u.initCalled)throw new Error("The i18n module has already been instantiated");"string"==typeof e.directory&&(e.directory=e.directory.indexOf("/",e.directory.length-"/".length)!==-1?e.directory:e.directory+"/");var t;for(t in e)u[t]=e[t];u.initCalled=!0}function o(e){if(!u.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof e)throw new Error("callback must be a function");var t=u.localePreferred?u.localePreferred:u.localeFallback;if("undefined"!=typeof langCache&&(t in langCache||(console.log("The language ["+t+"] is not available, loading "+u.localeFallback),t=u.localeFallback),c=langCache[t]),null!==c)return void e(c);var n=new XMLHttpRequest;n.open("GET",u.directory+t+".json",!0),n.overrideMimeType&&n.overrideMimeType("application/json; charset=utf-8"),n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status||!n.status&&n.responseText.length))c=JSON.parse(n.responseText),e(JSON.parse(n.responseText));else if(4===n.readyState&&200!==n.status&&(n.status||!n.responseText.length)){if(!u.localePreferred)throw new Error("The default locale ["+u.directory+u.localeFallback+".json] file is not found");u.localePreferred=null,console.log("The language ["+t+"] is not available, loading "+u.localeFallback),o(function(t){c=t,e(t)})}},n.send("")}function a(e,t){if("string"!=typeof e&&!(e instanceof Array))throw new Error("key must be a string or an array");var n=e instanceof Array;if(null===c)o(function(o){if(n){for(var a=e.length,i=a-1,r={};i>=0;i--)r[e[i]]=o[e[i]];t(r)}else t(o[e])});else if(n){for(var a=e.length,i=a-1,r={};i>=0;i--)r[e[i]]=c[e[i]];t(r)}else t(c[e])}function i(e,n){var a=e||t,i=n;if(1===arguments.length&&"function"==typeof e&&(a=t,i=e),!f(a))throw new TypeError("Not valid element object "+a);var r=a.querySelectorAll("[data-i18n]");null===c?o(function(e){g(r,e),"function"==typeof i&&i()}):(g(r,c),"function"==typeof i&&i())}function r(e){if("string"!=typeof e)throw new Error("The language must be a string");return u.localePreferred=e,c=null,m}function l(){return u.localePreferred}function s(){return e.navigator.userLanguage||e.navigator.language}var c=null,u={localeFallback:null,localePreferred:e.navigator.userLanguage||e.navigator.language,directory:"./",initCalled:!1},f=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},p=function(e,t){"textContent"in e?e.textContent=t:e.innerText=t},d=function(e,t){e.innerHTML=t},h=function(e,t){e.value=t},b=function(e,t){e.setAttribute("placeholder",t)},g=function(e,t){for(var n=e.length-1;n>=0;n--)for(var o,a=e[n],i=a.getAttribute("data-i18n").trim(),r=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;o=r.exec(i);){var l=o[1].trim(),s=o[2].trim().replace(",","");if(void 0!==t[s])if("text"===l)p(a,t[s]);else if("html"===l)d(a,t[s]);else if("value"===l)h(a,t[s]);else{if("placeholder"!==l)throw new Error("The property: "+l+" is unknown");b(a,t[s])}else console.error("The value: "+s+" does not exist in the JSON file")}},m={};m.init=n,m.getAll=o,m.get=a,m.bind=i,m.setPreference=r,m.getPreference=l,m.getLocale=s,phonon.i18n=function(e){return"object"==typeof e&&n(e),{getAll:function(e){return o(e),this},get:function(e,t){return a(e,t),this},bind:function(e,t){return i(e,t),this},setPreference:function(e){return r(e),this},getPreference:function(){return l()},getLocale:function(){return s()}}}}(window,document),function(e,t,n){"use strict";function o(t,n){"undefined"==typeof e.phononDOM[t]&&(e.phononDOM[t]={});var o='var page = window.phononDOM["'+t+'"];';o+=n;var a=document.createElement("script");a.text=o,document.head.appendChild(a).parentNode.removeChild(a)}function a(){if(W.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("left"),e.off(n.event.animationEnd,a,!1),e.classList.remove("app-active")}u(B),f(N),D=!1}function i(){if(W.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("right"),e.off(n.event.animationEnd,i,!1),e.classList.remove("app-active")}u(B),f(N),D=!1}function r(t,n,o){var a={detail:{page:n},bubbles:!0,cancelable:!0};"undefined"!=typeof o&&(a.detail.req=o);var i=new e.CustomEvent(t,a);document.dispatchEvent(i)}function l(e,t,n){for(var o=0,a=t.length;o<a;o++){var i=t[o];i.event===e&&"function"==typeof i.callback&&i.callback(n)}}function s(t){H&&n.tagManager.trigger(t,"create"),r("pagecreated",t);var o=$(t);if(o.activity instanceof X&&"function"==typeof o.activity.onCreateCallback&&o.activity.onCreateCallback(),l("create",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onCreate;"function"==typeof a&&a()}}function c(t){var o=$(t);e.setTimeout(function(){if(H&&n.tagManager.trigger(t,"ready"),r("pageopened",t),o.activity instanceof X&&"function"==typeof o.activity.onReadyCallback&&o.activity.onReadyCallback(),l("ready",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onReady;"function"==typeof a&&a()}},o.readyDelay)}function u(t){H&&n.tagManager.trigger(t,"transitionend"),r("pagetransitionend",t);var o=$(t);if(o.activity instanceof X&&"function"==typeof o.activity.onTransitionEndCallback&&o.activity.onTransitionEndCallback(),l("transitionend",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onTransitionEnd;"function"==typeof a&&a()}}function f(t){H&&n.tagManager.trigger(t,"hidden"),r("pagehidden",t);var o=$(t);if(o.activity instanceof X&&"function"==typeof o.activity.onHiddenCallback&&o.activity.onHiddenCallback(),l("hidden",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onHidden;"function"==typeof a&&a()}}function p(t,o){H&&n.tagManager.trigger(t,"tabchanged",o),r("pagetabchanged",t);var a=$(t);if(a.activity instanceof X&&"function"==typeof a.activity.onTabChangedCallback&&a.activity.onTabChangedCallback(o),l("tabchanged",a.callbackRegistered,o),"object"==typeof e.phononDOM[a.name]){var i=e.phononDOM[a.name].onTabChanged;"function"==typeof i&&i(o)}}function d(t,o,a){function i(){r("pageclosed",t);var n=e.location.hash.split("#")[1];n!==a&&W.useHash?e.location.hash=a:O(a)}if(!x()){var s=$(t);if(!s.async)return void i(!0);var c={close:i};if(H&&n.tagManager.trigger(t,"close",c),s.activity instanceof X&&"function"==typeof s.activity.onCloseCallback&&s.activity.onCloseCallback(c),l("close",s.callbackRegistered,c),"object"==typeof e.phononDOM[s.name]){var u=e.phononDOM[s.name].onClose;"function"==typeof u&&u(c)}}}function h(t,o){if("undefined"!=typeof o){H&&n.tagManager.trigger(t,"hashchanged",o),r("pagehash",t,o);var a=$(t);if(a.activity instanceof X&&"function"==typeof a.activity.onHashChangedCallback&&a.activity.onHashChangedCallback(o),l("hashchanged",a.callbackRegistered,o),"object"==typeof e.phononDOM[a.name]){var i=e.phononDOM[a.name].onHashChanged;"function"==typeof i&&i(o)}}}function b(e,t){"tabchanged"===e&&p(t.page,t.tabNumber)}function g(e,a,i){if(H&&t.compile(function(){W.useI18n?n.i18n().getAll(function(o){n.tagManager.addTag(t.mount(e,{i18n:o}),e),a()}):(n.tagManager.addTag(t.mount(e,{i18n:null}),e),a())}),!H){var r=$(e);if(null!==r.content){if(null===r.nocache||null===r.showloader){var l=function(e){var t=G(e);r.nocache=!1,r.showloader=!1,"true"===t.getAttribute("data-nocache")&&(r.nocache=!0),"true"===t.getAttribute("data-loader")&&(r.showloader=!0)};l(e)}r.showloader&&document.body.classList.add("loading"),m(r.content,function(t){r.showloader&&document.body.classList.remove("loading");var i=G(e),l=document.createElement("div");l.innerHTML=t;var s=l.querySelector(e);if(null===s)throw new Error("Error with "+r.content+" : the template for "+e+" must start with the parent node <"+e+' class="app-page">');for(var c=s.attributes,u=c.length-1;u>=0;u--){var f=c.item(u);"class"!==f.nodeName&&"app-page"!==f.nodeValue&&i.setAttribute(f.nodeName,f.nodeValue)}var p=function(e){var t=e.getElementsByTagName("script");t=Array.prototype.slice.call(t);for(var n=0;n<t.length;n++){var a=t[n].getAttribute("type");"text/javascript"!==a&&null!==a||o(r.name,t[n].innerHTML)}};W.useI18n?n.i18n().bind(s,function(){i.innerHTML=s.innerHTML,p(l),a()}):(i.innerHTML=s.innerHTML,p(l),a())},i)}else a()}}function m(e,t,n){var o=new XMLHttpRequest;o.overrideMimeType&&o.overrideMimeType("text/html; charset=utf-8"),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||!o.status&&o.responseText.length)&&t(o.responseText,W,e)},"string"!=typeof n?(o.open("GET",W.templateRootDirectory+e,!0),o.send("")):(o.open("POST",W.templateRootDirectory+e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(n))}function v(e,t){t="object"==typeof t?t:{};var n,o={name:e,mounted:!1,async:!1,activity:null,content:null,readyDelay:1,callbackRegistered:[],nocache:null,showloader:null};for(n in t)o[n]=t[n];return o}function y(e,t){t="object"==typeof t?t:{};var n=$(e);if(null===n)return R.push(v(e,t));var o;for(o in t)n[o]=t[o];return!0}function x(){return!("undefined"==typeof n.dialog||!n.dialogUtil.closeActive())||(!("undefined"==typeof n.popover||!n.popoverUtil.closeActive())||(!("undefined"==typeof n.panel||!n.panelUtil.closeActive())||!("undefined"==typeof n.sidePanel||!n.sidePanelUtil.closeActive())))}function E(){var e={page:W.defaultPage,params:""};if(L.length>0){for(var t=-1,n=L.length-1;n>=0;n--)if(L[n].page===B){t=n-1;break}t>-1&&(e=L[t],L=L.slice(0,t))}return e}function S(t){var n,t=t||e.event,o=t.target,a="";if("object"==typeof o&&"FORM"==o.nodeName){var i;for(i=o.elements.length-1;i>=0;i--)if(n=o.elements[i],n.name&&"file"!=n.type&&"reset"!=n.type)if("select-multiple"==n.type)for(j=o.elements[i].options.length-1;j>=0;j--)n.options[j].selected&&(a+="&"+n.name+"="+encodeURIComponent(n.options[j].value).replace(/%20/g,"+"));else("submit"!=n.type&&"button"!=n.type||t.target==n)&&("checkbox"!=n.type&&"radio"!=n.type||n.checked)&&(a+="&"+n.name+"="+encodeURIComponent(n.value).replace(/%20/g,"+"))}return a.substr(1)}function w(e){F=!0;var t=e.target,n=null,o=!1,a="";if("submit"==e.type){var i=t.getAttribute("action");if(i.match(new RegExp("^#"+W.hashPrefix)))return e.preventDefault(),n=i.substr(1+W.hashPrefix.length),d(B,n,W.hashPrefix+n),T(n,function(){},S(e)),P(i.substr(1+W.hashPrefix.length))}for(;t&&t!==document;t=t.parentNode){var r=t.getAttribute("data-navigation");if("undefined"!=typeof t.href&&t.href.indexOf("#!")!==-1){o=!0;break}if(r){n=r;break}}if((!o||!W.useHash)&&(null!==n||o)){var l=W.defaultPage;if(null!==n)if("$previous-page"===n){var s=E();l=s.page,a=s.params}else l=n;else{var c=t.href.match("/#"+W.hashPrefix+"([A-Za-z0-9-.]+)?(.*)/");c&&(l=c[1],a=c[2])}var u=W.hashPrefix+l;""!==a&&(u=u+"/"+a,u=u.replace("//","/")),d(B,l,u)}}function M(e,t){var o=G(e),r=G(t);r.classList.add("app-active"),W.animatePages?(o.classList.add("page-sliding"),I?(o.classList.add("left"),o.on(n.event.animationEnd,a,!1)):(o.classList.add("right"),o.on(n.event.animationEnd,i,!1))):(o.classList.remove("app-active"),I?a():i());for(var l=r.querySelectorAll(".content"),s=l.length-1;s>=0;s--){var c=l[s];null!==c&&0!==c.scrollTop&&(c.scrollTop=0)}t===W.defaultPage&&(L=[])}function T(e,t,o){if(D&&"function"==typeof t)return t();var a=$(e);A&&(D=!0,N=B,B=e),!a.mounted||a.nocache?g(a.name,function(){if(a.mounted=!0,s(e),c(e),A||n.dispatchGlobalReady(),A&&M(N,e),!A){A=!0;var o=G(e);o.classList.contains("app-active")||o.classList.add("app-active")}"function"==typeof t&&t()},o):(c(e),M(N,e),"function"==typeof t&&t())}function C(e){"string"==typeof e.templateRootDirectory&&""!==e.templateRootDirectory&&(e.templateRootDirectory=e.templateRootDirectory.indexOf("/",e.templateRootDirectory.length-"/".length)!==-1?e.templateRootDirectory:e.templateRootDirectory+"/"),"object"==typeof e.hashPrefix&&(e.hashPrefix="");var t;for(t in e)W[t]=e[t];W.enableBrowserBackButton&&(F=!0);for(var n=document.querySelectorAll("[data-page]"),o=n.length-1;o>=0;o--){var a=n[o];a.classList.contains("app-page")||a.classList.add("app-page"),y(a.tagName.toLowerCase());
}}function k(){if(A)throw new Error("The app has been already started");var e="";n.device.os&&(e=n.device.os.toLowerCase());var t="web";"android"===e?t="android":"ios"===e&&(t="ios"),document.body.classList.contains(t)||document.body.classList.add(t),O()}function P(t,n){var o=$(B),a=$(t);if(!a)throw new Error("The following page: "+t+" does not exists");var i=W.hashPrefix+a.name;if("undefined"!=typeof n&&(i=W.hashPrefix+a.name+"/"+n),o.async)d(B,a.name,i);else{var r=e.location.hash.split("/");r[0].indexOf(a.name)===-1&&W.useHash&&(e.location.hash=i)}}function O(t,n){var o,a="string"==typeof t?t:e.location.href.split("#")[1]||"",i=a.split("/"),r=i.slice(1,i.length),l=i[0],s=W.hashPrefix.indexOf("/");s!==-1?(l="undefined"==typeof i[1]?"":i[1],r=i.slice(2,i.length),o=l.substring(s+1,l.length)):o=l.substring(W.hashPrefix.length,l.length);var c=$(o);if(A||c)!A&&c&&(B=c.name);else if(B=W.defaultPage,c=$(W.defaultPage),W.useHash)return void(e.location.hash=W.hashPrefix+W.defaultPage);if(c){if(x(),c.name===B&&A)return void h(c.name,r);if(A&&!F)return;for(var u=!1,f=L.length-1;f>=0;f--)if(L[f].page===c.name){u=!0;break}if(L.length>0?c.name===W.defaultPage&&(I=!1):I=!0,L.length>1&&L[L.length-2].page===c.name&&(I=!1),!u){var p=r.join("/");L.push({page:c.name,params:p})}"function"!=typeof c.callback||c.mounted||c.callback(c.activity),c.mounted?(T(c.name,null,n),h(c.name,r)):T(c.name,function(){h(c.name,r)},n),W.enableBrowserBackButton||(F=!1)}}e.phononDOM={};var R=[],L=[],A=!1,D=!1,B=null,N=null,I=!0,F=!1,H=void 0!==t,W={defaultPage:null,defaultTemplateExtension:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1,useHash:!0},X=function(){function e(e){if("object"==typeof e){var t;for(t in e)void 0!==this[t]&&"constructor"!==this[t]&&(this[t+"Callback"]=e[t])}}return e.prototype.onCreate=function(e){this.onCreateCallback=e},e.prototype.onReady=function(e){this.onReadyCallback=e},e.prototype.onClose=function(e){this.onCloseCallback=function(t){e(t)}},e.prototype.onHidden=function(e){this.onHiddenCallback=e},e.prototype.onTransitionEnd=function(e){this.onTransitionEndCallback=e},e.prototype.onHashChanged=function(e){this.onHashChangedCallback=function(t){e.apply(this,t)}},e.prototype.onTabChanged=function(e){this.onTabChangedCallback=function(t){e(t)}},e}(),$=function(e){for(var t=R.length-1;t>=0;t--)if(R[t].name===e)return R[t];return null},G=function(e){for(var t=document.querySelectorAll("[data-page]"),n=t.length-1,o=null;n>=0;n--)if(t[n].tagName.toLowerCase()===e){o=t[n];break}return o};document.on("tap",w),document.on("submit",w),W.useHash&&e.addEventListener("hashchange",O),document.on("backbutton",function(){if(!x()){var e=E();d(B,e.page,W.hashPrefix+e.page+"/"+e.params)}}),n.navigator=function(t){return"object"==typeof t&&C(t),{currentPage:B,previousPage:N,start:k,changePage:function(t,n){F=!0;var o=x()?400:1;e.setTimeout(function(){if("$previous-page"==t){var e=E();e&&(t=e.page,n=e.params)}P(t,n)},o)},on:function(e,t){if("string"!=typeof e.page)throw new Error("Page name must be a string");if("undefined"!=typeof e.preventClose&&"boolean"!=typeof e.preventClose)throw new Error("preventClose option must be a boolean");if("undefined"!=typeof e.readyDelay&&"number"!=typeof e.readyDelay)throw new Error("readyDelay option must be a number");null!==typeof e.content&&"string"==typeof W.defaultTemplateExtension&&(e.content=e.page+"."+W.defaultTemplateExtension);var n=$(e.page),o=null!==n;o||(n=v(e.page)),"function"==typeof t||"object"==typeof t?n.activity=new X(t):n.activity=null,n.callback=t,n.async="boolean"==typeof e.preventClose&&e.preventClose,n.content="string"==typeof e.content?e.content:null,n.readyDelay="number"==typeof e.readyDelay?e.readyDelay:1,y(e.page.toLowerCase(),n)},onPage:function(e){if("string"!=typeof e)throw new Error("PageName must be a string");return y(e,{}),{addEvent:function(t,n){var o=$(e);o.callbackRegistered.push({event:t,callback:n})}}},callCallback:b}}}("undefined"!=typeof window?window:this,"undefined"!=typeof riot?riot:void 0,phonon);